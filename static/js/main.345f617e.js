/*! For license information please see main.345f617e.js.LICENSE.txt */
(()=>{var e={240:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},A=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var r,s=t.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!s&&!i)return!1;for(r in e);return"undefined"===typeof r||t.call(e,r)},o=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},a=function(e,n){if("__proto__"===n){if(!t.call(e,n))return;if(s)return s(e,n).value}return e[n]};e.exports=function e(){var t,n,r,s,l,c,u=arguments[0],h=1,d=arguments.length,p=!1;for("boolean"===typeof u&&(p=u,u=arguments[1]||{},h=2),(null==u||"object"!==typeof u&&"function"!==typeof u)&&(u={});h<d;++h)if(null!=(t=arguments[h]))for(n in t)r=a(u,n),u!==(s=a(t,n))&&(p&&s&&(A(s)||(l=i(s)))?(l?(l=!1,c=r&&i(r)?r:[]):c=r&&A(r)?r:{},o(u,{name:n,newValue:e(p,c,s)})):"undefined"!==typeof s&&o(u,{name:n,newValue:s}));return u}},239:function(e){e.exports=function(){"use strict";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},n.apply(this,arguments)};function r(e,t,n,r){function s(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function A(e){try{a(r.next(e))}catch(Rt){i(Rt)}}function o(e){try{a(r.throw(e))}catch(Rt){i(Rt)}}function a(e){e.done?n(e.value):s(e.value).then(A,o)}a((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,s,i,A={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(e){return function(t){return a([e,t])}}function a(i){if(n)throw new TypeError("Generator is already executing.");for(;A;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return A.label++,{value:i[1],done:!1};case 5:A.label++,r=i[1],i=[0];continue;case 7:i=A.ops.pop(),A.trys.pop();continue;default:if(!(s=(s=A.trys).length>0&&s[s.length-1])&&(6===i[0]||2===i[0])){A=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){A.label=i[1];break}if(6===i[0]&&A.label<s[1]){A.label=s[1],s=i;break}if(s&&A.label<s[2]){A.label=s[2],A.ops.push(i);break}s[2]&&A.ops.pop(),A.trys.pop();continue}i=t.call(e,A)}catch(Rt){i=[6,Rt],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}function i(e,t,n){if(n||2===arguments.length)for(var r,s=0,i=t.length;s<i;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||t)}for(var A=function(){function e(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return e.prototype.add=function(t,n,r,s){return new e(this.left+t,this.top+n,this.width+r,this.height+s)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find((function(e){return 0!==e.width}));return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),o=function(e,t){return A.fromClientRect(e,t.getBoundingClientRect())},a=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),s=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new A(0,0,r,s)},l=function(e){for(var t=[],n=0,r=e.length;n<r;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=e.charCodeAt(n++);56320===(64512&i)?t.push(((1023&s)<<10)+(1023&i)+65536):(t.push(s),n--)}else t.push(s)}return t},c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],s=-1,i="";++s<n;){var A=e[s];A<=65535?r.push(A):(A-=65536,r.push(55296+(A>>10),A%1024+56320)),(s+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h="undefined"===typeof Uint8Array?[]:new Uint8Array(256),d=0;d<u.length;d++)h[u.charCodeAt(d)]=d;for(var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f="undefined"===typeof Uint8Array?[]:new Uint8Array(256),g=0;g<p.length;g++)f[p.charCodeAt(g)]=g;for(var m=function(e){var t,n,r,s,i,A=.75*e.length,o=e.length,a=0;"="===e[e.length-1]&&(A--,"="===e[e.length-2]&&A--);var l="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(A):new Array(A),c=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<o;t+=4)n=f[e.charCodeAt(t)],r=f[e.charCodeAt(t+1)],s=f[e.charCodeAt(t+2)],i=f[e.charCodeAt(t+3)],c[a++]=n<<2|r>>4,c[a++]=(15&r)<<4|s>>2,c[a++]=(3&s)<<6|63&i;return l},w=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},y=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},B=5,E=11,b=2,v=65536>>B,C=(1<<B)-1,T=v+(1024>>B)+32,_=65536>>E,S=(1<<E-B)-1,I=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},x=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},k=function(e,t){var n=m(e),r=Array.isArray(n)?y(n):new Uint32Array(n),s=Array.isArray(n)?w(n):new Uint16Array(n),i=24,A=I(s,i/2,r[4]/2),o=2===r[5]?I(s,(i+r[4])/2):x(r,Math.ceil((i+r[4])/4));return new F(r[0],r[1],r[2],r[3],A,o)},F=function(){function e(e,t,n,r,s,i){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=s,this.data=i}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>B])<<b)+(e&C),this.data[t];if(e<=65535)return t=((t=this.index[v+(e-55296>>B)])<<b)+(e&C),this.data[t];if(e<this.highStart)return t=T-_+(e>>E),t=this.index[t],t+=e>>B&S,t=((t=this.index[t])<<b)+(e&C),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Q=0;Q<U.length;Q++)L[U.charCodeAt(Q)]=Q;var D=50,O=1,R=2,N=3,M=4,P=5,H=7,K=8,G=9,j=10,V=11,z=12,W=13,Y=14,X=15,q=16,$=17,J=18,Z=19,ee=20,te=21,ne=22,re=23,se=24,ie=25,Ae=26,oe=27,ae=28,le=29,ce=30,ue=31,he=32,de=33,pe=34,fe=35,ge=36,me=37,we=38,ye=39,Be=40,Ee=41,be=42,ve=43,Ce=[9001,65288],Te="!",_e="\xd7",Se="\xf7",Ie=k("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),xe=[ce,ge],ke=[O,R,N,P],Fe=[j,K],Ue=[oe,Ae],Le=ke.concat(Fe),Qe=[we,ye,Be,pe,fe],De=[X,W],Oe=function(e,t){void 0===t&&(t="strict");var n=[],r=[],s=[];return e.forEach((function(e,i){var A=Ie.get(e);if(A>D?(s.push(!0),A-=D):s.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(i),n.push(q);if(A===M||A===V){if(0===i)return r.push(i),n.push(ce);var o=n[i-1];return-1===Le.indexOf(o)?(r.push(r[i-1]),n.push(o)):(r.push(i),n.push(ce))}return r.push(i),A===ue?n.push("strict"===t?te:me):A===be||A===le?n.push(ce):A===ve?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(me):n.push(ce):void n.push(A)})),[r,n,s]},Re=function(e,t,n,r){var s=r[n];if(Array.isArray(e)?-1!==e.indexOf(s):e===s)for(var i=n;i<=r.length;){if((a=r[++i])===t)return!0;if(a!==j)break}if(s===j)for(i=n;i>0;){var A=r[--i];if(Array.isArray(e)?-1!==e.indexOf(A):e===A)for(var o=n;o<=r.length;){var a;if((a=r[++o])===t)return!0;if(a!==j)break}if(A!==j)break}return!1},Ne=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==j)return r;n--}return 0},Me=function(e,t,n,r,s){if(0===n[r])return _e;var i=r-1;if(Array.isArray(s)&&!0===s[i])return _e;var A=i-1,o=i+1,a=t[i],l=A>=0?t[A]:0,c=t[o];if(a===R&&c===N)return _e;if(-1!==ke.indexOf(a))return Te;if(-1!==ke.indexOf(c))return _e;if(-1!==Fe.indexOf(c))return _e;if(Ne(i,t)===K)return Se;if(Ie.get(e[i])===V)return _e;if((a===he||a===de)&&Ie.get(e[o])===V)return _e;if(a===H||c===H)return _e;if(a===G)return _e;if(-1===[j,W,X].indexOf(a)&&c===G)return _e;if(-1!==[$,J,Z,se,ae].indexOf(c))return _e;if(Ne(i,t)===ne)return _e;if(Re(re,ne,i,t))return _e;if(Re([$,J],te,i,t))return _e;if(Re(z,z,i,t))return _e;if(a===j)return Se;if(a===re||c===re)return _e;if(c===q||a===q)return Se;if(-1!==[W,X,te].indexOf(c)||a===Y)return _e;if(l===ge&&-1!==De.indexOf(a))return _e;if(a===ae&&c===ge)return _e;if(c===ee)return _e;if(-1!==xe.indexOf(c)&&a===ie||-1!==xe.indexOf(a)&&c===ie)return _e;if(a===oe&&-1!==[me,he,de].indexOf(c)||-1!==[me,he,de].indexOf(a)&&c===Ae)return _e;if(-1!==xe.indexOf(a)&&-1!==Ue.indexOf(c)||-1!==Ue.indexOf(a)&&-1!==xe.indexOf(c))return _e;if(-1!==[oe,Ae].indexOf(a)&&(c===ie||-1!==[ne,X].indexOf(c)&&t[o+1]===ie)||-1!==[ne,X].indexOf(a)&&c===ie||a===ie&&-1!==[ie,ae,se].indexOf(c))return _e;if(-1!==[ie,ae,se,$,J].indexOf(c))for(var u=i;u>=0;){if((h=t[u])===ie)return _e;if(-1===[ae,se].indexOf(h))break;u--}if(-1!==[oe,Ae].indexOf(c))for(u=-1!==[$,J].indexOf(a)?A:i;u>=0;){var h;if((h=t[u])===ie)return _e;if(-1===[ae,se].indexOf(h))break;u--}if(we===a&&-1!==[we,ye,pe,fe].indexOf(c)||-1!==[ye,pe].indexOf(a)&&-1!==[ye,Be].indexOf(c)||-1!==[Be,fe].indexOf(a)&&c===Be)return _e;if(-1!==Qe.indexOf(a)&&-1!==[ee,Ae].indexOf(c)||-1!==Qe.indexOf(c)&&a===oe)return _e;if(-1!==xe.indexOf(a)&&-1!==xe.indexOf(c))return _e;if(a===se&&-1!==xe.indexOf(c))return _e;if(-1!==xe.concat(ie).indexOf(a)&&c===ne&&-1===Ce.indexOf(e[o])||-1!==xe.concat(ie).indexOf(c)&&a===J)return _e;if(a===Ee&&c===Ee){for(var d=n[i],p=1;d>0&&t[--d]===Ee;)p++;if(p%2!==0)return _e}return a===he&&c===de?_e:Se},Pe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=Oe(e,t.lineBreak),r=n[0],s=n[1],i=n[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(s=s.map((function(e){return-1!==[ie,ce,be].indexOf(e)?me:e})));var A="keep-all"===t.wordBreak?i.map((function(t,n){return t&&e[n]>=19968&&e[n]<=40959})):void 0;return[r,s,A]},He=function(){function e(e,t,n,r){this.codePoints=e,this.required=t===Te,this.start=n,this.end=r}return e.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),Ke=function(e,t){var n=l(e),r=Pe(n,t),s=r[0],i=r[1],A=r[2],o=n.length,a=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var e=_e;c<o&&(e=Me(n,i,s,++c,A))===_e;);if(e!==_e||c===o){var t=new He(n,e,a,c);return a=c,{value:t,done:!1}}return{done:!0,value:null}}}},Ge=1,je=2,Ve=4,ze=8,We=10,Ye=47,Xe=92,qe=9,$e=32,Je=34,Ze=61,et=35,tt=36,nt=37,rt=39,st=40,it=41,At=95,ot=45,at=33,lt=60,ct=62,ut=64,ht=91,dt=93,pt=61,ft=123,gt=63,mt=125,wt=124,yt=126,Bt=128,Et=65533,bt=42,vt=43,Ct=44,Tt=58,_t=59,St=46,It=0,xt=8,kt=11,Ft=14,Ut=31,Lt=127,Qt=-1,Dt=48,Ot=97,Rt=101,Nt=102,Mt=117,Pt=122,Ht=65,Kt=69,Gt=70,jt=85,Vt=90,zt=function(e){return e>=Dt&&e<=57},Wt=function(e){return e>=55296&&e<=57343},Yt=function(e){return zt(e)||e>=Ht&&e<=Gt||e>=Ot&&e<=Nt},Xt=function(e){return e>=Ot&&e<=Pt},qt=function(e){return e>=Ht&&e<=Vt},$t=function(e){return Xt(e)||qt(e)},Jt=function(e){return e>=Bt},Zt=function(e){return e===We||e===qe||e===$e},en=function(e){return $t(e)||Jt(e)||e===At},tn=function(e){return en(e)||zt(e)||e===ot},nn=function(e){return e>=It&&e<=xt||e===kt||e>=Ft&&e<=Ut||e===Lt},rn=function(e,t){return e===Xe&&t!==We},sn=function(e,t,n){return e===ot?en(t)||rn(t,n):!!en(e)||!(e!==Xe||!rn(e,t))},An=function(e,t,n){return e===vt||e===ot?!!zt(t)||t===St&&zt(n):zt(e===St?t:e)},on=function(e){var t=0,n=1;e[t]!==vt&&e[t]!==ot||(e[t]===ot&&(n=-1),t++);for(var r=[];zt(e[t]);)r.push(e[t++]);var s=r.length?parseInt(c.apply(void 0,r),10):0;e[t]===St&&t++;for(var i=[];zt(e[t]);)i.push(e[t++]);var A=i.length,o=A?parseInt(c.apply(void 0,i),10):0;e[t]!==Kt&&e[t]!==Rt||t++;var a=1;e[t]!==vt&&e[t]!==ot||(e[t]===ot&&(a=-1),t++);for(var l=[];zt(e[t]);)l.push(e[t++]);var u=l.length?parseInt(c.apply(void 0,l),10):0;return n*(s+o*Math.pow(10,-A))*Math.pow(10,a*u)},an={type:2},ln={type:3},cn={type:4},un={type:13},hn={type:8},dn={type:21},pn={type:9},fn={type:10},gn={type:11},mn={type:12},wn={type:14},yn={type:23},Bn={type:1},En={type:25},bn={type:24},vn={type:26},Cn={type:27},Tn={type:28},_n={type:29},Sn={type:31},In={type:32},xn=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(l(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==In;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Je:return this.consumeStringToken(Je);case et:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(tn(t)||rn(n,r)){var s=sn(t,n,r)?je:Ge;return{type:5,value:this.consumeName(),flags:s}}break;case tt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),un;break;case rt:return this.consumeStringToken(rt);case st:return an;case it:return ln;case bt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),wn;break;case vt:if(An(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Ct:return cn;case ot:var i=e,A=this.peekCodePoint(0),o=this.peekCodePoint(1);if(An(i,A,o))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(sn(i,A,o))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(A===ot&&o===ct)return this.consumeCodePoint(),this.consumeCodePoint(),bn;break;case St:if(An(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Ye:if(this.peekCodePoint(0)===bt)for(this.consumeCodePoint();;){var a=this.consumeCodePoint();if(a===bt&&(a=this.consumeCodePoint())===Ye)return this.consumeToken();if(a===Qt)return this.consumeToken()}break;case Tt:return vn;case _t:return Cn;case lt:if(this.peekCodePoint(0)===at&&this.peekCodePoint(1)===ot&&this.peekCodePoint(2)===ot)return this.consumeCodePoint(),this.consumeCodePoint(),En;break;case ut:var l=this.peekCodePoint(0),u=this.peekCodePoint(1),h=this.peekCodePoint(2);if(sn(l,u,h))return{type:7,value:this.consumeName()};break;case ht:return Tn;case Xe:if(rn(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case dt:return _n;case pt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),hn;break;case ft:return gn;case mt:return mn;case Mt:case jt:var d=this.peekCodePoint(0),p=this.peekCodePoint(1);return d!==vt||!Yt(p)&&p!==gt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case wt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),pn;if(this.peekCodePoint(0)===wt)return this.consumeCodePoint(),dn;break;case yt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),fn;break;case Qt:return In}return Zt(e)?(this.consumeWhiteSpace(),Sn):zt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):en(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:c(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return"undefined"===typeof e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Yt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===gt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(c.apply(void 0,e.map((function(e){return e===gt?Dt:e}))),16),end:parseInt(c.apply(void 0,e.map((function(e){return e===gt?Gt:e}))),16)};var r=parseInt(c.apply(void 0,e),16);if(this.peekCodePoint(0)===ot&&Yt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var s=[];Yt(t)&&s.length<6;)s.push(t),t=this.consumeCodePoint();return{type:30,start:r,end:parseInt(c.apply(void 0,s),16)}}return{type:30,start:r,end:r}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===st?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===st?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Qt)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===rt||t===Je){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Qt||this.peekCodePoint(0)===it)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),yn)}for(;;){var r=this.consumeCodePoint();if(r===Qt||r===it)return{type:22,value:c.apply(void 0,e)};if(Zt(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Qt||this.peekCodePoint(0)===it?(this.consumeCodePoint(),{type:22,value:c.apply(void 0,e)}):(this.consumeBadUrlRemnants(),yn);if(r===Je||r===rt||r===st||nn(r))return this.consumeBadUrlRemnants(),yn;if(r===Xe){if(!rn(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),yn;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;Zt(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===it||e===Qt)return;rn(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var r=Math.min(t,e);n+=c.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(r===Qt||void 0===r||r===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(r===We)return this._value.splice(0,n),Bn;if(r===Xe){var s=this._value[n+1];s!==Qt&&void 0!==s&&(s===We?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):rn(r,s)&&(t+=this.consumeStringSlice(n),t+=c(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=Ve,n=this.peekCodePoint(0);for(n!==vt&&n!==ot||e.push(this.consumeCodePoint());zt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===St&&zt(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=ze;zt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===Kt||n===Rt)&&((r===vt||r===ot)&&zt(s)||zt(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=ze;zt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[on(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),s=this.peekCodePoint(1),i=this.peekCodePoint(2);return sn(r,s,i)?{type:15,number:t,flags:n,unit:this.consumeName()}:r===nt?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Yt(e)){for(var t=c(e);Yt(this.peekCodePoint(0))&&t.length<6;)t+=c(this.consumeCodePoint());Zt(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||Wt(n)||n>1114111?Et:n}return e===Qt?Et:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(tn(t))e+=c(t);else{if(!rn(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=c(this.consumeEscapedCodePoint())}}},e}(),kn=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new xn;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||Mn(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return"undefined"===typeof e?In:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),Fn=function(e){return 15===e.type},Un=function(e){return 17===e.type},Ln=function(e){return 20===e.type},Qn=function(e){return 0===e.type},Dn=function(e,t){return Ln(e)&&e.value===t},On=function(e){return 31!==e.type},Rn=function(e){return 31!==e.type&&4!==e.type},Nn=function(e){var t=[],n=[];return e.forEach((function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)})),n.length&&t.push(n),t},Mn=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},Pn=function(e){return 17===e.type||15===e.type},Hn=function(e){return 16===e.type||Pn(e)},Kn=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Gn={type:17,number:0,flags:Ve},jn={type:16,number:50,flags:Ve},Vn={type:16,number:100,flags:Ve},zn=function(e,t,n){var r=e[0],s=e[1];return[Wn(r,t),Wn("undefined"!==typeof s?s:r,n)]},Wn=function(e,t){if(16===e.type)return e.number/100*t;if(Fn(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},Yn="deg",Xn="grad",qn="rad",$n="turn",Jn={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case Yn:return Math.PI*t.number/180;case Xn:return Math.PI/200*t.number;case qn:return t.number;case $n:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},Zn=function(e){return 15===e.type&&(e.unit===Yn||e.unit===Xn||e.unit===qn||e.unit===$n)},er=function(e){switch(e.filter(Ln).map((function(e){return e.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Gn,Gn];case"to top":case"bottom":return tr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Gn,Vn];case"to right":case"left":return tr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Vn,Vn];case"to bottom":case"top":return tr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Vn,Gn];case"to left":case"right":return tr(270)}return 0},tr=function(e){return Math.PI*e/180},nr={name:"color",parse:function(e,t){if(18===t.type){var n=cr[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var r=t.value.substring(0,1),s=t.value.substring(1,2),i=t.value.substring(2,3);return ir(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(4===t.value.length){r=t.value.substring(0,1),s=t.value.substring(1,2),i=t.value.substring(2,3);var A=t.value.substring(3,4);return ir(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(A+A,16)/255)}if(6===t.value.length)return r=t.value.substring(0,2),s=t.value.substring(2,4),i=t.value.substring(4,6),ir(parseInt(r,16),parseInt(s,16),parseInt(i,16),1);if(8===t.value.length)return r=t.value.substring(0,2),s=t.value.substring(2,4),i=t.value.substring(4,6),A=t.value.substring(6,8),ir(parseInt(r,16),parseInt(s,16),parseInt(i,16),parseInt(A,16)/255)}if(20===t.type){var o=hr[t.value.toUpperCase()];if("undefined"!==typeof o)return o}return hr.TRANSPARENT}},rr=function(e){return 0===(255&e)},sr=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,s=255&e>>24;return t<255?"rgba("+s+","+r+","+n+","+t/255+")":"rgb("+s+","+r+","+n+")"},ir=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r))>>>0},Ar=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},or=function(e,t){var n=t.filter(Rn);if(3===n.length){var r=n.map(Ar),s=r[0],i=r[1],A=r[2];return ir(s,i,A,1)}if(4===n.length){var o=n.map(Ar),a=(s=o[0],i=o[1],A=o[2],o[3]);return ir(s,i,A,a)}return 0};function ar(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var lr=function(e,t){var n=t.filter(Rn),r=n[0],s=n[1],i=n[2],A=n[3],o=(17===r.type?tr(r.number):Jn.parse(e,r))/(2*Math.PI),a=Hn(s)?s.number/100:0,l=Hn(i)?i.number/100:0,c="undefined"!==typeof A&&Hn(A)?Wn(A,1):1;if(0===a)return ir(255*l,255*l,255*l,1);var u=l<=.5?l*(a+1):l+a-l*a,h=2*l-u,d=ar(h,u,o+1/3),p=ar(h,u,o),f=ar(h,u,o-1/3);return ir(255*d,255*p,255*f,c)},cr={hsl:lr,hsla:lr,rgb:or,rgba:or},ur=function(e,t){return nr.parse(e,kn.create(t).parseComponentValue())},hr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},dr={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Ln(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},pr={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},fr=function(e,t){var n=nr.parse(e,t[0]),r=t[1];return r&&Hn(r)?{color:n,stop:r}:{color:n,stop:null}},gr=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=Gn),null===r.stop&&(r.stop=Vn);for(var s=[],i=0,A=0;A<e.length;A++){var o=e[A].stop;if(null!==o){var a=Wn(o,t);a>i?s.push(a):s.push(i),i=a}else s.push(null)}var l=null;for(A=0;A<s.length;A++){var c=s[A];if(null===c)null===l&&(l=A);else if(null!==l){for(var u=A-l,h=(c-s[l-1])/(u+1),d=1;d<=u;d++)s[l+d-1]=h*d;l=null}}return e.map((function(e,n){return{color:e.color,stop:Math.max(Math.min(1,s[n]/t),0)}}))},mr=function(e,t,n){var r=t/2,s=n/2,i=Wn(e[0],t)-r,A=s-Wn(e[1],n);return(Math.atan2(A,i)+2*Math.PI)%(2*Math.PI)},wr=function(e,t,n){var r="number"===typeof e?e:mr(e,t,n),s=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),i=t/2,A=n/2,o=s/2,a=Math.sin(r-Math.PI/2)*o,l=Math.cos(r-Math.PI/2)*o;return[s,i-l,i+l,A-a,A+a]},yr=function(e,t){return Math.sqrt(e*e+t*t)},Br=function(e,t,n,r,s){return[[0,0],[0,t],[e,0],[e,t]].reduce((function(e,t){var i=t[0],A=t[1],o=yr(n-i,r-A);return(s?o<e.optimumDistance:o>e.optimumDistance)?{optimumCorner:t,optimumDistance:o}:e}),{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},Er=function(e,t,n,r,s){var i=0,A=0;switch(e.size){case 0:0===e.shape?i=A=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-s)):1===e.shape&&(i=Math.min(Math.abs(t),Math.abs(t-r)),A=Math.min(Math.abs(n),Math.abs(n-s)));break;case 2:if(0===e.shape)i=A=Math.min(yr(t,n),yr(t,n-s),yr(t-r,n),yr(t-r,n-s));else if(1===e.shape){var o=Math.min(Math.abs(n),Math.abs(n-s))/Math.min(Math.abs(t),Math.abs(t-r)),a=Br(r,s,t,n,!0),l=a[0],c=a[1];A=o*(i=yr(l-t,(c-n)/o))}break;case 1:0===e.shape?i=A=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-s)):1===e.shape&&(i=Math.max(Math.abs(t),Math.abs(t-r)),A=Math.max(Math.abs(n),Math.abs(n-s)));break;case 3:if(0===e.shape)i=A=Math.max(yr(t,n),yr(t,n-s),yr(t-r,n),yr(t-r,n-s));else if(1===e.shape){o=Math.max(Math.abs(n),Math.abs(n-s))/Math.max(Math.abs(t),Math.abs(t-r));var u=Br(r,s,t,n,!1);l=u[0],c=u[1],A=o*(i=yr(l-t,(c-n)/o))}}return Array.isArray(e.size)&&(i=Wn(e.size[0],r),A=2===e.size.length?Wn(e.size[1],s):i),[i,A]},br=function(e,t){var n=tr(180),r=[];return Nn(t).forEach((function(t,s){if(0===s){var i=t[0];if(20===i.type&&-1!==["top","left","right","bottom"].indexOf(i.value))return void(n=er(t));if(Zn(i))return void(n=(Jn.parse(e,i)+tr(270))%tr(360))}var A=fr(e,t);r.push(A)})),{angle:n,stops:r,type:1}},vr="closest-side",Cr="farthest-side",Tr="closest-corner",_r="farthest-corner",Sr="circle",Ir="ellipse",xr="cover",kr="contain",Fr=function(e,t){var n=0,r=3,s=[],i=[];return Nn(t).forEach((function(t,A){var o=!0;if(0===A?o=t.reduce((function(e,t){if(Ln(t))switch(t.value){case"center":return i.push(jn),!1;case"top":case"left":return i.push(Gn),!1;case"right":case"bottom":return i.push(Vn),!1}else if(Hn(t)||Pn(t))return i.push(t),!1;return e}),o):1===A&&(o=t.reduce((function(e,t){if(Ln(t))switch(t.value){case Sr:return n=0,!1;case Ir:return n=1,!1;case kr:case vr:return r=0,!1;case Cr:return r=1,!1;case Tr:return r=2,!1;case xr:case _r:return r=3,!1}else if(Pn(t)||Hn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),o)),o){var a=fr(e,t);s.push(a)}})),{size:r,shape:n,stops:s,position:i,type:2}},Ur=function(e){return 1===e.type},Lr=function(e){return 2===e.type},Qr={name:"image",parse:function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18===t.type){var r=Rr[t.name];if("undefined"===typeof r)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Dr(e){return!(20===e.type&&"none"===e.value)&&(18!==e.type||!!Rr[e.name])}var Or,Rr={"linear-gradient":function(e,t){var n=tr(180),r=[];return Nn(t).forEach((function(t,s){if(0===s){var i=t[0];if(20===i.type&&"to"===i.value)return void(n=er(t));if(Zn(i))return void(n=Jn.parse(e,i))}var A=fr(e,t);r.push(A)})),{angle:n,stops:r,type:1}},"-moz-linear-gradient":br,"-ms-linear-gradient":br,"-o-linear-gradient":br,"-webkit-linear-gradient":br,"radial-gradient":function(e,t){var n=0,r=3,s=[],i=[];return Nn(t).forEach((function(t,A){var o=!0;if(0===A){var a=!1;o=t.reduce((function(e,t){if(a)if(Ln(t))switch(t.value){case"center":return i.push(jn),e;case"top":case"left":return i.push(Gn),e;case"right":case"bottom":return i.push(Vn),e}else(Hn(t)||Pn(t))&&i.push(t);else if(Ln(t))switch(t.value){case Sr:return n=0,!1;case Ir:return n=1,!1;case"at":return a=!0,!1;case vr:return r=0,!1;case xr:case Cr:return r=1,!1;case kr:case Tr:return r=2,!1;case _r:return r=3,!1}else if(Pn(t)||Hn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),o)}if(o){var l=fr(e,t);s.push(l)}})),{size:r,shape:n,stops:s,position:i,type:2}},"-moz-radial-gradient":Fr,"-ms-radial-gradient":Fr,"-o-radial-gradient":Fr,"-webkit-radial-gradient":Fr,"-webkit-gradient":function(e,t){var n=tr(180),r=[],s=1,i=0,A=3,o=[];return Nn(t).forEach((function(t,n){var i=t[0];if(0===n){if(Ln(i)&&"linear"===i.value)return void(s=1);if(Ln(i)&&"radial"===i.value)return void(s=2)}if(18===i.type)if("from"===i.name){var A=nr.parse(e,i.values[0]);r.push({stop:Gn,color:A})}else if("to"===i.name)A=nr.parse(e,i.values[0]),r.push({stop:Vn,color:A});else if("color-stop"===i.name){var o=i.values.filter(Rn);if(2===o.length){A=nr.parse(e,o[1]);var a=o[0];Un(a)&&r.push({stop:{type:16,number:100*a.number,flags:a.flags},color:A})}}})),1===s?{angle:(n+tr(180))%tr(360),stops:r,type:s}:{size:A,shape:i,stops:r,position:o,type:s}}},Nr={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter((function(e){return Rn(e)&&Dr(e)})).map((function(t){return Qr.parse(e,t)}))}},Mr={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Ln(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Pr={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Nn(t).map((function(e){return e.filter(Hn)})).map(Kn)}},Hr={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Nn(t).map((function(e){return e.filter(Ln).map((function(e){return e.value})).join(" ")})).map(Kr)}},Kr=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(Or||(Or={}));var Gr,jr={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Nn(t).map((function(e){return e.filter(Vr)}))}},Vr=function(e){return Ln(e)||Hn(e)},zr=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Wr=zr("top"),Yr=zr("right"),Xr=zr("bottom"),qr=zr("left"),$r=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Kn(t.filter(Hn))}}},Jr=$r("top-left"),Zr=$r("top-right"),es=$r("bottom-right"),ts=$r("bottom-left"),ns=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},rs=ns("top"),ss=ns("right"),is=ns("bottom"),As=ns("left"),os=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Fn(t)?t.number:0}}},as=os("top"),ls=os("right"),cs=os("bottom"),us=os("left"),hs={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ds={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"===t?1:0}},ps={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Ln).reduce((function(e,t){return e|fs(t.value)}),0)}},fs=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},gs={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},ms={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(Gr||(Gr={}));var ws,ys={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"strict"===t?Gr.STRICT:Gr.NORMAL}},Bs={name:"line-height",initialValue:"normal",prefix:!1,type:4},Es=function(e,t){return Ln(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Hn(e)?Wn(e,t):t},bs={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Qr.parse(e,t)}},vs={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"===t?0:1}},Cs={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Ts=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},_s=Ts("top"),Ss=Ts("right"),Is=Ts("bottom"),xs=Ts("left"),ks={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Ln).map((function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}}))}},Fs={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},Us=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Ls=Us("top"),Qs=Us("right"),Ds=Us("bottom"),Os=Us("left"),Rs={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Ns={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Ms={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Dn(t[0],"none")?[]:Nn(t).map((function(t){for(var n={color:hr.TRANSPARENT,offsetX:Gn,offsetY:Gn,blur:Gn},r=0,s=0;s<t.length;s++){var i=t[s];Pn(i)?(0===r?n.offsetX=i:1===r?n.offsetY=i:n.blur=i,r++):n.color=nr.parse(e,i)}return n}))}},Ps={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Hs={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=Ks[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},Ks={matrix:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number}));return 6===t.length?t:null},matrix3d:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number})),n=t[0],r=t[1];t[2],t[3];var s=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var A=t[12],o=t[13];return t[14],t[15],16===t.length?[n,r,s,i,A,o]:null}},Gs={type:16,number:50,flags:Ve},js=[Gs,Gs],Vs={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Hn);return 2!==n.length?js:[n[0],n[1]]}},zs={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(ws||(ws={}));for(var Ws={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return ws.BREAK_ALL;case"keep-all":return ws.KEEP_ALL;default:return ws.NORMAL}}},Ys={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(Un(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Xs={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},qs={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Un(t)?t.number:1}},$s={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Js={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Ln).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},Zs={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach((function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:r.push(n.join(" ")),n.length=0}})),n.length&&r.push(n.join(" ")),r.map((function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"}))}},ei={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ti={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return Un(t)?t.number:Ln(t)&&"bold"===t.value?700:400}},ni={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Ln).map((function(e){return e.value}))}},ri={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},si=function(e,t){return 0!==(e&t)},ii={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},Ai={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var r=[],s=t.filter(On),i=0;i<s.length;i++){var A=s[i],o=s[i+1];if(20===A.type){var a=o&&Un(o)?o.number:1;r.push({counter:A.value,increment:a})}}return r}},oi={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],r=t.filter(On),s=0;s<r.length;s++){var i=r[s],A=r[s+1];if(Ln(i)&&"none"!==i.value){var o=A&&Un(A)?A.number:0;n.push({counter:i.value,reset:o})}}return n}},ai={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Fn).map((function(t){return Xs.parse(e,t)}))}},li={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var r=[],s=t.filter(Qn);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var A=s[i].value,o=s[i+1].value;r.push({open:A,close:o})}return r}},ci=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},ui={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Dn(t[0],"none")?[]:Nn(t).map((function(t){for(var n={color:255,offsetX:Gn,offsetY:Gn,blur:Gn,spread:Gn,inset:!1},r=0,s=0;s<t.length;s++){var i=t[s];Dn(i,"inset")?n.inset=!0:Pn(i)?(0===r?n.offsetX=i:1===r?n.offsetY=i:2===r?n.blur=i:n.spread=i,r++):n.color=nr.parse(e,i)}return n}))}},hi={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(Ln).forEach((function(e){switch(e.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2)}})),n.forEach((function(e){-1===r.indexOf(e)&&r.push(e)})),r}},di={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},pi={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Fn(t)?t.number:0}},fi=function(){function e(e,t){var n,r;this.animationDuration=wi(e,ai,t.animationDuration),this.backgroundClip=wi(e,dr,t.backgroundClip),this.backgroundColor=wi(e,pr,t.backgroundColor),this.backgroundImage=wi(e,Nr,t.backgroundImage),this.backgroundOrigin=wi(e,Mr,t.backgroundOrigin),this.backgroundPosition=wi(e,Pr,t.backgroundPosition),this.backgroundRepeat=wi(e,Hr,t.backgroundRepeat),this.backgroundSize=wi(e,jr,t.backgroundSize),this.borderTopColor=wi(e,Wr,t.borderTopColor),this.borderRightColor=wi(e,Yr,t.borderRightColor),this.borderBottomColor=wi(e,Xr,t.borderBottomColor),this.borderLeftColor=wi(e,qr,t.borderLeftColor),this.borderTopLeftRadius=wi(e,Jr,t.borderTopLeftRadius),this.borderTopRightRadius=wi(e,Zr,t.borderTopRightRadius),this.borderBottomRightRadius=wi(e,es,t.borderBottomRightRadius),this.borderBottomLeftRadius=wi(e,ts,t.borderBottomLeftRadius),this.borderTopStyle=wi(e,rs,t.borderTopStyle),this.borderRightStyle=wi(e,ss,t.borderRightStyle),this.borderBottomStyle=wi(e,is,t.borderBottomStyle),this.borderLeftStyle=wi(e,As,t.borderLeftStyle),this.borderTopWidth=wi(e,as,t.borderTopWidth),this.borderRightWidth=wi(e,ls,t.borderRightWidth),this.borderBottomWidth=wi(e,cs,t.borderBottomWidth),this.borderLeftWidth=wi(e,us,t.borderLeftWidth),this.boxShadow=wi(e,ui,t.boxShadow),this.color=wi(e,hs,t.color),this.direction=wi(e,ds,t.direction),this.display=wi(e,ps,t.display),this.float=wi(e,gs,t.cssFloat),this.fontFamily=wi(e,Zs,t.fontFamily),this.fontSize=wi(e,ei,t.fontSize),this.fontStyle=wi(e,ri,t.fontStyle),this.fontVariant=wi(e,ni,t.fontVariant),this.fontWeight=wi(e,ti,t.fontWeight),this.letterSpacing=wi(e,ms,t.letterSpacing),this.lineBreak=wi(e,ys,t.lineBreak),this.lineHeight=wi(e,Bs,t.lineHeight),this.listStyleImage=wi(e,bs,t.listStyleImage),this.listStylePosition=wi(e,vs,t.listStylePosition),this.listStyleType=wi(e,Cs,t.listStyleType),this.marginTop=wi(e,_s,t.marginTop),this.marginRight=wi(e,Ss,t.marginRight),this.marginBottom=wi(e,Is,t.marginBottom),this.marginLeft=wi(e,xs,t.marginLeft),this.opacity=wi(e,qs,t.opacity);var s=wi(e,ks,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=wi(e,Fs,t.overflowWrap),this.paddingTop=wi(e,Ls,t.paddingTop),this.paddingRight=wi(e,Qs,t.paddingRight),this.paddingBottom=wi(e,Ds,t.paddingBottom),this.paddingLeft=wi(e,Os,t.paddingLeft),this.paintOrder=wi(e,hi,t.paintOrder),this.position=wi(e,Ns,t.position),this.textAlign=wi(e,Rs,t.textAlign),this.textDecorationColor=wi(e,$s,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=wi(e,Js,null!==(r=t.textDecorationLine)&&void 0!==r?r:t.textDecoration),this.textShadow=wi(e,Ms,t.textShadow),this.textTransform=wi(e,Ps,t.textTransform),this.transform=wi(e,Hs,t.transform),this.transformOrigin=wi(e,Vs,t.transformOrigin),this.visibility=wi(e,zs,t.visibility),this.webkitTextStrokeColor=wi(e,di,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=wi(e,pi,t.webkitTextStrokeWidth),this.wordBreak=wi(e,Ws,t.wordBreak),this.zIndex=wi(e,Ys,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return rr(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return si(this.display,4)||si(this.display,33554432)||si(this.display,268435456)||si(this.display,536870912)||si(this.display,67108864)||si(this.display,134217728)},e}(),gi=function(){function e(e,t){this.content=wi(e,ii,t.content),this.quotes=wi(e,li,t.quotes)}return e}(),mi=function(){function e(e,t){this.counterIncrement=wi(e,Ai,t.counterIncrement),this.counterReset=wi(e,oi,t.counterReset)}return e}(),wi=function(e,t,n){var r=new xn,s=null!==n&&"undefined"!==typeof n?n.toString():t.initialValue;r.write(s);var i=new kn(r.read());switch(t.type){case 2:var A=i.parseComponentValue();return t.parse(e,Ln(A)?A.value:t.initialValue);case 0:return t.parse(e,i.parseComponentValue());case 1:return t.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return Jn.parse(e,i.parseComponentValue());case"color":return nr.parse(e,i.parseComponentValue());case"image":return Qr.parse(e,i.parseComponentValue());case"length":var o=i.parseComponentValue();return Pn(o)?o:Gn;case"length-percentage":var a=i.parseComponentValue();return Hn(a)?a:Gn;case"time":return Xs.parse(e,i.parseComponentValue())}}},yi="data-html2canvas-debug",Bi=function(e){switch(e.getAttribute(yi)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Ei=function(e,t){var n=Bi(e);return 1===n||t===n},bi=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Ei(t,3),this.styles=new fi(e,window.getComputedStyle(t,null)),lo(t)&&(this.styles.animationDuration.some((function(e){return e>0}))&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=o(this.context,t),Ei(t,4)&&(this.flags|=16)}return e}(),vi="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Ci="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ti="undefined"===typeof Uint8Array?[]:new Uint8Array(256),_i=0;_i<Ci.length;_i++)Ti[Ci.charCodeAt(_i)]=_i;for(var Si=function(e){var t,n,r,s,i,A=.75*e.length,o=e.length,a=0;"="===e[e.length-1]&&(A--,"="===e[e.length-2]&&A--);var l="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(A):new Array(A),c=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<o;t+=4)n=Ti[e.charCodeAt(t)],r=Ti[e.charCodeAt(t+1)],s=Ti[e.charCodeAt(t+2)],i=Ti[e.charCodeAt(t+3)],c[a++]=n<<2|r>>4,c[a++]=(15&r)<<4|s>>2,c[a++]=(3&s)<<6|63&i;return l},Ii=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},xi=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},ki=5,Fi=11,Ui=2,Li=65536>>ki,Qi=(1<<ki)-1,Di=Li+(1024>>ki)+32,Oi=65536>>Fi,Ri=(1<<Fi-ki)-1,Ni=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Mi=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Pi=function(e,t){var n=Si(e),r=Array.isArray(n)?xi(n):new Uint32Array(n),s=Array.isArray(n)?Ii(n):new Uint16Array(n),i=24,A=Ni(s,i/2,r[4]/2),o=2===r[5]?Ni(s,(i+r[4])/2):Mi(r,Math.ceil((i+r[4])/4));return new Hi(r[0],r[1],r[2],r[3],A,o)},Hi=function(){function e(e,t,n,r,s,i){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=s,this.data=i}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>ki])<<Ui)+(e&Qi),this.data[t];if(e<=65535)return t=((t=this.index[Li+(e-55296>>ki)])<<Ui)+(e&Qi),this.data[t];if(e<this.highStart)return t=Di-Oi+(e>>Fi),t=this.index[t],t+=e>>ki&Ri,t=((t=this.index[t])<<Ui)+(e&Qi),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Ki="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gi="undefined"===typeof Uint8Array?[]:new Uint8Array(256),ji=0;ji<Ki.length;ji++)Gi[Ki.charCodeAt(ji)]=ji;var Vi,zi=1,Wi=2,Yi=3,Xi=4,qi=5,$i=7,Ji=8,Zi=9,eA=10,tA=11,nA=12,rA=13,sA=14,iA=15,AA=function(e){for(var t=[],n=0,r=e.length;n<r;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=e.charCodeAt(n++);56320===(64512&i)?t.push(((1023&s)<<10)+(1023&i)+65536):(t.push(s),n--)}else t.push(s)}return t},oA=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],s=-1,i="";++s<n;){var A=e[s];A<=65535?r.push(A):(A-=65536,r.push(55296+(A>>10),A%1024+56320)),(s+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},aA=Pi(vi),lA="\xd7",cA="\xf7",uA=function(e){return aA.get(e)},hA=function(e,t,n){var r=n-2,s=t[r],i=t[n-1],A=t[n];if(i===Wi&&A===Yi)return lA;if(i===Wi||i===Yi||i===Xi)return cA;if(A===Wi||A===Yi||A===Xi)return cA;if(i===Ji&&-1!==[Ji,Zi,tA,nA].indexOf(A))return lA;if((i===tA||i===Zi)&&(A===Zi||A===eA))return lA;if((i===nA||i===eA)&&A===eA)return lA;if(A===rA||A===qi)return lA;if(A===$i)return lA;if(i===zi)return lA;if(i===rA&&A===sA){for(;s===qi;)s=t[--r];if(s===sA)return lA}if(i===iA&&A===iA){for(var o=0;s===iA;)o++,s=t[--r];if(o%2===0)return lA}return cA},dA=function(e){var t=AA(e),n=t.length,r=0,s=0,i=t.map(uA);return{next:function(){if(r>=n)return{done:!0,value:null};for(var e=lA;r<n&&(e=hA(t,i,++r))===lA;);if(e!==lA||r===n){var A=oA.apply(null,t.slice(s,r));return s=r,{value:A,done:!1}}return{done:!0,value:null}}}},pA=function(e){for(var t,n=dA(e),r=[];!(t=n.next()).done;)t.value&&r.push(t.value.slice());return r},fA=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var s=n.getBoundingClientRect(),i=Math.round(s.height);if(e.body.removeChild(r),i===t)return!0}}return!1},gA=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"===typeof"".repeat?"&#128104;".repeat(10):"";var r=t.firstChild,s=l(r.data).map((function(e){return c(e)})),i=0,A={},o=s.every((function(e,t){n.setStart(r,i),n.setEnd(r,i+e.length);var s=n.getBoundingClientRect();i+=e.length;var o=s.x>A.x||s.y>A.y;return A=s,0===t||o}));return e.body.removeChild(t),o},mA=function(){return"undefined"!==typeof(new Image).crossOrigin},wA=function(){return"string"===typeof(new XMLHttpRequest).responseType},yA=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(Rt){return!1}return!0},BA=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},EA=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var s=new Image,i=t.toDataURL();s.src=i;var A=bA(n,n,0,0,s);return r.fillStyle="red",r.fillRect(0,0,n,n),vA(A).then((function(t){r.drawImage(t,0,0);var s=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var A=e.createElement("div");return A.style.backgroundImage="url("+i+")",A.style.height=n+"px",BA(s)?vA(bA(n,n,0,0,A)):Promise.reject(!1)})).then((function(e){return r.drawImage(e,0,0),BA(r.getImageData(0,0,n,n).data)})).catch((function(){return!1}))},bA=function(e,t,n,r,s){var i="http://www.w3.org/2000/svg",A=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return A.setAttributeNS(null,"width",e.toString()),A.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",n.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),A.appendChild(o),o.appendChild(s),A},vA=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},CA={get SUPPORT_RANGE_BOUNDS(){var e=fA(document);return Object.defineProperty(CA,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=CA.SUPPORT_RANGE_BOUNDS&&gA(document);return Object.defineProperty(CA,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=yA(document);return Object.defineProperty(CA,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"===typeof Array.from&&"function"===typeof window.fetch?EA(document):Promise.resolve(!1);return Object.defineProperty(CA,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=mA();return Object.defineProperty(CA,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=wA();return Object.defineProperty(CA,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(CA,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"===typeof Intl||!Intl.Segmenter);return Object.defineProperty(CA,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},TA=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),_A=function(e,t,n,r){var s=FA(t,n),i=[],o=0;return s.forEach((function(t){if(n.textDecorationLine.length||t.trim().length>0)if(CA.SUPPORT_RANGE_BOUNDS){var s=IA(r,o,t.length).getClientRects();if(s.length>1){var a=xA(t),l=0;a.forEach((function(t){i.push(new TA(t,A.fromDOMRectList(e,IA(r,l+o,t.length).getClientRects()))),l+=t.length}))}else i.push(new TA(t,A.fromDOMRectList(e,s)))}else{var c=r.splitText(t.length);i.push(new TA(t,SA(e,r))),r=c}else CA.SUPPORT_RANGE_BOUNDS||(r=r.splitText(t.length));o+=t.length})),i},SA=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var s=t.parentNode;if(s){s.replaceChild(r,t);var i=o(e,r);return r.firstChild&&s.replaceChild(r.firstChild,r),i}}return A.EMPTY},IA=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var s=r.createRange();return s.setStart(e,t),s.setEnd(e,t+n),s},xA=function(e){if(CA.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map((function(e){return e.segment}))}return pA(e)},kA=function(e,t){if(CA.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map((function(e){return e.segment}))}return LA(e,t)},FA=function(e,t){return 0!==t.letterSpacing?xA(e):kA(e,t)},UA=[32,160,4961,65792,65793,4153,4241],LA=function(e,t){for(var n,r=Ke(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),s=[],i=function(){if(n.value){var e=n.value.slice(),t=l(e),r="";t.forEach((function(e){-1===UA.indexOf(e)?r+=c(e):(r.length&&s.push(r),s.push(c(e)),r="")})),r.length&&s.push(r)}};!(n=r.next()).done;)i();return s},QA=function(){function e(e,t,n){this.text=DA(t.data,n.textTransform),this.textBounds=_A(e,this.text,n,t)}return e}(),DA=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(OA,RA);case 2:return e.toUpperCase();default:return e}},OA=/(^|\s|:|-|\(|\))([a-z])/g,RA=function(e,t,n){return e.length>0?t+n.toUpperCase():e},NA=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return t(n,e),n}(bi),MA=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return t(n,e),n}(bi),PA=function(e){function n(t,n){var r=e.call(this,t,n)||this,s=new XMLSerializer,i=o(t,n);return n.setAttribute("width",i.width+"px"),n.setAttribute("height",i.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return t(n,e),n}(bi),HA=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(bi),KA=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.start=n.start,r.reversed="boolean"===typeof n.reversed&&!0===n.reversed,r}return t(n,e),n}(bi),GA=[{type:15,flags:0,unit:"px",number:3}],jA=[{type:16,flags:0,number:50}],VA=function(e){return e.width>e.height?new A(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new A(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},zA=function(e){var t=e.type===XA?new Array(e.value.length+1).join("\u2022"):e.value;return 0===t.length?e.placeholder||"":t},WA="checkbox",YA="radio",XA="password",qA=707406591,$A=function(e){function n(t,n){var r=e.call(this,t,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=zA(n),r.type!==WA&&r.type!==YA||(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=VA(r.bounds)),r.type){case WA:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=GA;break;case YA:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=jA}return r}return t(n,e),n}(bi),JA=function(e){function n(t,n){var r=e.call(this,t,n)||this,s=n.options[n.selectedIndex||0];return r.value=s&&s.text||"",r}return t(n,e),n}(bi),ZA=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(bi),eo=function(e){function n(t,n){var r=e.call(this,t,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=so(t,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?ur(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):hr.TRANSPARENT,i=n.contentWindow.document.body?ur(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):hr.TRANSPARENT;r.backgroundColor=rr(s)?rr(i)?r.styles.backgroundColor:i:s}}catch(Rt){}return r}return t(n,e),n}(bi),to=["OL","UL","MENU"],no=function(e,t,n,r){for(var s=t.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,oo(s)&&s.data.trim().length>0)n.textNodes.push(new QA(e,s,n.styles));else if(ao(s))if(_o(s)&&s.assignedNodes)s.assignedNodes().forEach((function(t){return no(e,t,n,r)}));else{var A=ro(e,s);A.styles.isVisible()&&(io(s,A,r)?A.flags|=4:Ao(A.styles)&&(A.flags|=2),-1!==to.indexOf(s.tagName)&&(A.flags|=8),n.elements.push(A),s.slot,s.shadowRoot?no(e,s.shadowRoot,A,r):Co(s)||go(s)||To(s)||no(e,s,A,r))}},ro=function(e,t){return Bo(t)?new NA(e,t):wo(t)?new MA(e,t):go(t)?new PA(e,t):uo(t)?new HA(e,t):ho(t)?new KA(e,t):po(t)?new $A(e,t):To(t)?new JA(e,t):Co(t)?new ZA(e,t):Eo(t)?new eo(e,t):new bi(e,t)},so=function(e,t){var n=ro(e,t);return n.flags|=4,no(e,t,n,n),n},io=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||mo(e)&&n.styles.isTransparent()},Ao=function(e){return e.isPositioned()||e.isFloating()},oo=function(e){return e.nodeType===Node.TEXT_NODE},ao=function(e){return e.nodeType===Node.ELEMENT_NODE},lo=function(e){return ao(e)&&"undefined"!==typeof e.style&&!co(e)},co=function(e){return"object"===typeof e.className},uo=function(e){return"LI"===e.tagName},ho=function(e){return"OL"===e.tagName},po=function(e){return"INPUT"===e.tagName},fo=function(e){return"HTML"===e.tagName},go=function(e){return"svg"===e.tagName},mo=function(e){return"BODY"===e.tagName},wo=function(e){return"CANVAS"===e.tagName},yo=function(e){return"VIDEO"===e.tagName},Bo=function(e){return"IMG"===e.tagName},Eo=function(e){return"IFRAME"===e.tagName},bo=function(e){return"STYLE"===e.tagName},vo=function(e){return"SCRIPT"===e.tagName},Co=function(e){return"TEXTAREA"===e.tagName},To=function(e){return"SELECT"===e.tagName},_o=function(e){return"SLOT"===e.tagName},So=function(e){return e.tagName.indexOf("-")>0},Io=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach((function(e){return t.counters[e].pop()}))},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,s=!0;null!==n&&n.forEach((function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(s=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)}));var i=[];return s&&r.forEach((function(e){var n=t.counters[e.counter];i.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)})),i},e}(),xo={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ko={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Fo={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},Uo={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Lo=function(e,t,n,r,s,i){return e<t||e>n?zo(e,s,i.length>0):r.integers.reduce((function(t,n,s){for(;e>=n;)e-=n,t+=r.values[s];return t}),"")+i},Qo=function(e,t,n,r){var s="";do{n||e--,s=r(e)+s,e/=t}while(e*t>=t);return s},Do=function(e,t,n,r,s){var i=n-t+1;return(e<0?"-":"")+(Qo(Math.abs(e),i,r,(function(e){return c(Math.floor(e%i)+t)}))+s)},Oo=function(e,t,n){void 0===n&&(n=". ");var r=t.length;return Qo(Math.abs(e),r,!1,(function(e){return t[Math.floor(e%r)]}))+n},Ro=1,No=2,Mo=4,Po=8,Ho=function(e,t,n,r,s,i){if(e<-9999||e>9999)return zo(e,4,s.length>0);var A=Math.abs(e),o=s;if(0===A)return t[0]+o;for(var a=0;A>0&&a<=4;a++){var l=A%10;0===l&&si(i,Ro)&&""!==o?o=t[l]+o:l>1||1===l&&0===a||1===l&&1===a&&si(i,No)||1===l&&1===a&&si(i,Mo)&&e>100||1===l&&a>1&&si(i,Po)?o=t[l]+(a>0?n[a-1]:"")+o:1===l&&a>0&&(o=n[a-1]+o),A=Math.floor(A/10)}return(e<0?r:"")+o},Ko="\u5341\u767e\u5343\u842c",Go="\u62fe\u4f70\u4edf\u842c",jo="\u30de\u30a4\u30ca\u30b9",Vo="\ub9c8\uc774\ub108\uc2a4",zo=function(e,t,n){var r=n?". ":"",s=n?"\u3001":"",i=n?", ":"",A=n?" ":"";switch(t){case 0:return"\u2022"+A;case 1:return"\u25e6"+A;case 2:return"\u25fe"+A;case 5:var o=Do(e,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return Oo(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",s);case 6:return Lo(e,1,3999,xo,3,r).toLowerCase();case 7:return Lo(e,1,3999,xo,3,r);case 8:return Do(e,945,969,!1,r);case 9:return Do(e,97,122,!1,r);case 10:return Do(e,65,90,!1,r);case 11:return Do(e,1632,1641,!0,r);case 12:case 49:return Lo(e,1,9999,ko,3,r);case 35:return Lo(e,1,9999,ko,3,r).toLowerCase();case 13:return Do(e,2534,2543,!0,r);case 14:case 30:return Do(e,6112,6121,!0,r);case 15:return Oo(e,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",s);case 16:return Oo(e,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",s);case 17:case 48:return Ho(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Ko,"\u8ca0",s,No|Mo|Po);case 47:return Ho(e,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396",Go,"\u8ca0",s,Ro|No|Mo|Po);case 42:return Ho(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Ko,"\u8d1f",s,No|Mo|Po);case 41:return Ho(e,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396",Go,"\u8d1f",s,Ro|No|Mo|Po);case 26:return Ho(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07",jo,s,0);case 25:return Ho(e,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07",jo,s,Ro|No|Mo);case 31:return Ho(e,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",Vo,i,Ro|No|Mo);case 33:return Ho(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",Vo,i,0);case 32:return Ho(e,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",Vo,i,Ro|No|Mo);case 18:return Do(e,2406,2415,!0,r);case 20:return Lo(e,1,19999,Uo,3,r);case 21:return Do(e,2790,2799,!0,r);case 22:return Do(e,2662,2671,!0,r);case 22:return Lo(e,1,10999,Fo,3,r);case 23:return Oo(e,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Oo(e,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Do(e,3302,3311,!0,r);case 28:return Oo(e,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",s);case 29:return Oo(e,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",s);case 34:return Do(e,3792,3801,!0,r);case 37:return Do(e,6160,6169,!0,r);case 38:return Do(e,4160,4169,!0,r);case 39:return Do(e,2918,2927,!0,r);case 40:return Do(e,1776,1785,!0,r);case 43:return Do(e,3046,3055,!0,r);case 44:return Do(e,3174,3183,!0,r);case 45:return Do(e,3664,3673,!0,r);case 46:return Do(e,3872,3881,!0,r);default:return Do(e,48,57,!0,r)}},Wo="data-html2canvas-ignore",Yo=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new Io,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,i=qo(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var A=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,a=i.contentWindow,l=a.document,c=Zo(i).then((function(){return r(n,void 0,void 0,(function(){var e,n;return s(this,(function(r){switch(r.label){case 0:return this.scrolledElements.forEach(sa),a&&(a.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||a.scrollY===t.top&&a.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-t.left,a.scrollY-t.top,0,0))),e=this.options.onclone,"undefined"===typeof(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Jo(l)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"===typeof e?[2,Promise.resolve().then((function(){return e(l,n)})).then((function(){return i}))]:[2,i]}}))}))}));return l.open(),l.write(na(document.doctype)+"<html></html>"),ra(this.referenceElement.ownerDocument,A,o),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},e.prototype.createElementClone=function(e){if(Ei(e,2),wo(e))return this.createCanvasClone(e);if(yo(e))return this.createVideoClone(e);if(bo(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return Bo(t)&&(Bo(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),So(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return ta(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce((function(e,t){return t&&"string"===typeof t.cssText?e+t.cssText:e}),""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(Rt){if(this.context.logger.error("Unable to access cssRules property",Rt),"SecurityError"!==Rt.name)throw Rt}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(Rt){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var s=e.getContext("2d"),i=r.getContext("2d");if(i)if(!this.options.allowTaint&&s)i.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var A=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(A){var o=A.getContextAttributes();!1===(null===o||void 0===o?void 0:o.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}i.drawImage(e,0,0)}return r}catch(Rt){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(Rt){this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},e.prototype.appendChildNode=function(e,t,n){ao(t)&&(vo(t)||t.hasAttribute(Wo)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&ao(t)&&bo(t)||e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var r=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(ao(s)&&_o(s)&&"function"===typeof s.assignedNodes){var i=s.assignedNodes();i.length&&i.forEach((function(e){return r.appendChildNode(t,e,n)}))}else this.appendChildNode(t,s,n)},e.prototype.cloneNode=function(e,t){if(oo(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&ao(e)&&(lo(e)||co(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var s=n.getComputedStyle(e),i=n.getComputedStyle(e,":before"),A=n.getComputedStyle(e,":after");this.referenceElement===e&&lo(r)&&(this.clonedReferenceElement=r),mo(r)&&ca(r);var o=this.counters.parse(new mi(this.context,s)),a=this.resolvePseudoContent(e,r,i,Vi.BEFORE);So(e)&&(t=!0),yo(e)||this.cloneChildNodes(e,r,t),a&&r.insertBefore(a,r.firstChild);var l=this.resolvePseudoContent(e,r,A,Vi.AFTER);return l&&r.appendChild(l),this.counters.pop(o),(s&&(this.options.copyStyles||co(e))&&!Eo(e)||t)&&ta(s,r),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(Co(e)||To(e))&&(Co(r)||To(r))&&(r.value=e.value),r}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,r){var s=this;if(n){var i=n.content,A=t.ownerDocument;if(A&&i&&"none"!==i&&"-moz-alt-content"!==i&&"none"!==n.display){this.counters.parse(new mi(this.context,n));var o=new gi(this.context,n),a=A.createElement("html2canvaspseudoelement");ta(n,a),o.content.forEach((function(t){if(0===t.type)a.appendChild(A.createTextNode(t.value));else if(22===t.type){var n=A.createElement("img");n.src=t.value,n.style.opacity="1",a.appendChild(n)}else if(18===t.type){if("attr"===t.name){var r=t.values.filter(Ln);r.length&&a.appendChild(A.createTextNode(e.getAttribute(r[0].value)||""))}else if("counter"===t.name){var i=t.values.filter(Rn),l=i[0],c=i[1];if(l&&Ln(l)){var u=s.counters.getCounterValue(l.value),h=c&&Ln(c)?Cs.parse(s.context,c.value):3;a.appendChild(A.createTextNode(zo(u,h,!1)))}}else if("counters"===t.name){var d=t.values.filter(Rn),p=(l=d[0],d[1]);if(c=d[2],l&&Ln(l)){var f=s.counters.getCounterValues(l.value),g=c&&Ln(c)?Cs.parse(s.context,c.value):3,m=p&&0===p.type?p.value:"",w=f.map((function(e){return zo(e,g,!1)})).join(m);a.appendChild(A.createTextNode(w))}}}else if(20===t.type)switch(t.value){case"open-quote":a.appendChild(A.createTextNode(ci(o.quotes,s.quoteDepth++,!0)));break;case"close-quote":a.appendChild(A.createTextNode(ci(o.quotes,--s.quoteDepth,!1)));break;default:a.appendChild(A.createTextNode(t.value))}})),a.className=oa+" "+aa;var l=r===Vi.BEFORE?" "+oa:" "+aa;return co(t)?t.className.baseValue+=l:t.className+=l,a}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(Vi||(Vi={}));var Xo,qo=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(Wo,"true"),e.body.appendChild(n),n},$o=function(e){return new Promise((function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()}))},Jo=function(e){return Promise.all([].slice.call(e.images,0).map($o))},Zo=function(e){return new Promise((function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var s=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var n=setInterval((function(){s.body.childNodes.length>0&&"complete"===s.readyState&&(clearInterval(n),t(e))}),50)}}))},ea=["all","d","content"],ta=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);-1===ea.indexOf(r)&&t.style.setProperty(r,e.getPropertyValue(r))}return t},na=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},ra=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},sa=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},ia=":before",Aa=":after",oa="___html2canvas___pseudoelement_before",aa="___html2canvas___pseudoelement_after",la='{\n    content: "" !important;\n    display: none !important;\n}',ca=function(e){ua(e,"."+oa+ia+la+"\n         ."+aa+Aa+la)},ua=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},ha=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),da=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:Ba(e)||ma(e)?((this._cache[e]=this.loadImage(e)).catch((function(){})),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,i,A=this;return s(this,(function(s){switch(s.label){case 0:return t=ha.isSameOrigin(e),n=!wa(e)&&!0===this._options.useCORS&&CA.SUPPORT_CORS_IMAGES&&!t,r=!wa(e)&&!t&&!Ba(e)&&"string"===typeof this._options.proxy&&CA.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||wa(e)||Ba(e)||r||n?(i=e,r?[4,this.proxy(i)]:[3,2]):[2];case 1:i=s.sent(),s.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(ya(i)||n)&&(r.crossOrigin="anonymous"),r.src=i,!0===r.complete&&setTimeout((function(){return e(r)}),500),A._options.imageTimeout>0&&setTimeout((function(){return t("Timed out ("+A._options.imageTimeout+"ms) loading image")}),A._options.imageTimeout)}))];case 3:return[2,s.sent()]}}))}))},e.prototype.has=function(e){return"undefined"!==typeof this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise((function(s,i){var A=CA.SUPPORT_RESPONSE_TYPE?"blob":"text",o=new XMLHttpRequest;o.onload=function(){if(200===o.status)if("text"===A)s(o.response);else{var e=new FileReader;e.addEventListener("load",(function(){return s(e.result)}),!1),e.addEventListener("error",(function(e){return i(e)}),!1),e.readAsDataURL(o.response)}else i("Failed to proxy resource "+r+" with status code "+o.status)},o.onerror=i;var a=n.indexOf("?")>-1?"&":"?";if(o.open("GET",""+n+a+"url="+encodeURIComponent(e)+"&responseType="+A),"text"!==A&&o instanceof XMLHttpRequest&&(o.responseType=A),t._options.imageTimeout){var l=t._options.imageTimeout;o.timeout=l,o.ontimeout=function(){return i("Timed out ("+l+"ms) proxying "+r)}}o.send()}))},e}(),pa=/^data:image\/svg\+xml/i,fa=/^data:image\/.*;base64,/i,ga=/^data:image\/.*/i,ma=function(e){return CA.SUPPORT_SVG_DRAWING||!Ea(e)},wa=function(e){return ga.test(e)},ya=function(e){return fa.test(e)},Ba=function(e){return"blob"===e.substr(0,4)},Ea=function(e){return"svg"===e.substr(-3).toLowerCase()||pa.test(e)},ba=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),va=function(e,t,n){return new ba(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},Ca=function(){function e(e,t,n,r){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return e.prototype.subdivide=function(t,n){var r=va(this.start,this.startControl,t),s=va(this.startControl,this.endControl,t),i=va(this.endControl,this.end,t),A=va(r,s,t),o=va(s,i,t),a=va(A,o,t);return n?new e(this.start,r,A,a):new e(a,o,i,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Ta=function(e){return 1===e.type},_a=function(){function e(e){var t=e.styles,n=e.bounds,r=zn(t.borderTopLeftRadius,n.width,n.height),s=r[0],i=r[1],A=zn(t.borderTopRightRadius,n.width,n.height),o=A[0],a=A[1],l=zn(t.borderBottomRightRadius,n.width,n.height),c=l[0],u=l[1],h=zn(t.borderBottomLeftRadius,n.width,n.height),d=h[0],p=h[1],f=[];f.push((s+o)/n.width),f.push((d+c)/n.width),f.push((i+p)/n.height),f.push((a+u)/n.height);var g=Math.max.apply(Math,f);g>1&&(s/=g,i/=g,o/=g,a/=g,c/=g,u/=g,d/=g,p/=g);var m=n.width-o,w=n.height-u,y=n.width-c,B=n.height-p,E=t.borderTopWidth,b=t.borderRightWidth,v=t.borderBottomWidth,C=t.borderLeftWidth,T=Wn(t.paddingTop,e.bounds.width),_=Wn(t.paddingRight,e.bounds.width),S=Wn(t.paddingBottom,e.bounds.width),I=Wn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||i>0?Sa(n.left+C/3,n.top+E/3,s-C/3,i-E/3,Xo.TOP_LEFT):new ba(n.left+C/3,n.top+E/3),this.topRightBorderDoubleOuterBox=s>0||i>0?Sa(n.left+m,n.top+E/3,o-b/3,a-E/3,Xo.TOP_RIGHT):new ba(n.left+n.width-b/3,n.top+E/3),this.bottomRightBorderDoubleOuterBox=c>0||u>0?Sa(n.left+y,n.top+w,c-b/3,u-v/3,Xo.BOTTOM_RIGHT):new ba(n.left+n.width-b/3,n.top+n.height-v/3),this.bottomLeftBorderDoubleOuterBox=d>0||p>0?Sa(n.left+C/3,n.top+B,d-C/3,p-v/3,Xo.BOTTOM_LEFT):new ba(n.left+C/3,n.top+n.height-v/3),this.topLeftBorderDoubleInnerBox=s>0||i>0?Sa(n.left+2*C/3,n.top+2*E/3,s-2*C/3,i-2*E/3,Xo.TOP_LEFT):new ba(n.left+2*C/3,n.top+2*E/3),this.topRightBorderDoubleInnerBox=s>0||i>0?Sa(n.left+m,n.top+2*E/3,o-2*b/3,a-2*E/3,Xo.TOP_RIGHT):new ba(n.left+n.width-2*b/3,n.top+2*E/3),this.bottomRightBorderDoubleInnerBox=c>0||u>0?Sa(n.left+y,n.top+w,c-2*b/3,u-2*v/3,Xo.BOTTOM_RIGHT):new ba(n.left+n.width-2*b/3,n.top+n.height-2*v/3),this.bottomLeftBorderDoubleInnerBox=d>0||p>0?Sa(n.left+2*C/3,n.top+B,d-2*C/3,p-2*v/3,Xo.BOTTOM_LEFT):new ba(n.left+2*C/3,n.top+n.height-2*v/3),this.topLeftBorderStroke=s>0||i>0?Sa(n.left+C/2,n.top+E/2,s-C/2,i-E/2,Xo.TOP_LEFT):new ba(n.left+C/2,n.top+E/2),this.topRightBorderStroke=s>0||i>0?Sa(n.left+m,n.top+E/2,o-b/2,a-E/2,Xo.TOP_RIGHT):new ba(n.left+n.width-b/2,n.top+E/2),this.bottomRightBorderStroke=c>0||u>0?Sa(n.left+y,n.top+w,c-b/2,u-v/2,Xo.BOTTOM_RIGHT):new ba(n.left+n.width-b/2,n.top+n.height-v/2),this.bottomLeftBorderStroke=d>0||p>0?Sa(n.left+C/2,n.top+B,d-C/2,p-v/2,Xo.BOTTOM_LEFT):new ba(n.left+C/2,n.top+n.height-v/2),this.topLeftBorderBox=s>0||i>0?Sa(n.left,n.top,s,i,Xo.TOP_LEFT):new ba(n.left,n.top),this.topRightBorderBox=o>0||a>0?Sa(n.left+m,n.top,o,a,Xo.TOP_RIGHT):new ba(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||u>0?Sa(n.left+y,n.top+w,c,u,Xo.BOTTOM_RIGHT):new ba(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=d>0||p>0?Sa(n.left,n.top+B,d,p,Xo.BOTTOM_LEFT):new ba(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||i>0?Sa(n.left+C,n.top+E,Math.max(0,s-C),Math.max(0,i-E),Xo.TOP_LEFT):new ba(n.left+C,n.top+E),this.topRightPaddingBox=o>0||a>0?Sa(n.left+Math.min(m,n.width-b),n.top+E,m>n.width+b?0:Math.max(0,o-b),Math.max(0,a-E),Xo.TOP_RIGHT):new ba(n.left+n.width-b,n.top+E),this.bottomRightPaddingBox=c>0||u>0?Sa(n.left+Math.min(y,n.width-C),n.top+Math.min(w,n.height-v),Math.max(0,c-b),Math.max(0,u-v),Xo.BOTTOM_RIGHT):new ba(n.left+n.width-b,n.top+n.height-v),this.bottomLeftPaddingBox=d>0||p>0?Sa(n.left+C,n.top+Math.min(B,n.height-v),Math.max(0,d-C),Math.max(0,p-v),Xo.BOTTOM_LEFT):new ba(n.left+C,n.top+n.height-v),this.topLeftContentBox=s>0||i>0?Sa(n.left+C+I,n.top+E+T,Math.max(0,s-(C+I)),Math.max(0,i-(E+T)),Xo.TOP_LEFT):new ba(n.left+C+I,n.top+E+T),this.topRightContentBox=o>0||a>0?Sa(n.left+Math.min(m,n.width+C+I),n.top+E+T,m>n.width+C+I?0:o-C+I,a-(E+T),Xo.TOP_RIGHT):new ba(n.left+n.width-(b+_),n.top+E+T),this.bottomRightContentBox=c>0||u>0?Sa(n.left+Math.min(y,n.width-(C+I)),n.top+Math.min(w,n.height+E+T),Math.max(0,c-(b+_)),u-(v+S),Xo.BOTTOM_RIGHT):new ba(n.left+n.width-(b+_),n.top+n.height-(v+S)),this.bottomLeftContentBox=d>0||p>0?Sa(n.left+C+I,n.top+B,Math.max(0,d-(C+I)),p-(v+S),Xo.BOTTOM_LEFT):new ba(n.left+C+I,n.top+n.height-(v+S))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Xo||(Xo={}));var Sa=function(e,t,n,r,s){var i=(Math.sqrt(2)-1)/3*4,A=n*i,o=r*i,a=e+n,l=t+r;switch(s){case Xo.TOP_LEFT:return new Ca(new ba(e,l),new ba(e,l-o),new ba(a-A,t),new ba(a,t));case Xo.TOP_RIGHT:return new Ca(new ba(e,t),new ba(e+A,t),new ba(a,l-o),new ba(a,l));case Xo.BOTTOM_RIGHT:return new Ca(new ba(a,t),new ba(a,t+o),new ba(e+A,l),new ba(e,l));case Xo.BOTTOM_LEFT:default:return new Ca(new ba(a,l),new ba(a-A,l),new ba(e,t+o),new ba(e,t))}},Ia=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},xa=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},ka=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Fa=function(){function e(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return e}(),Ua=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),La=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),Qa=function(e){return 0===e.type},Da=function(e){return 1===e.type},Oa=function(e){return 2===e.type},Ra=function(e,t){return e.length===t.length&&e.some((function(e,n){return e===t[n]}))},Na=function(e,t,n,r,s){return e.map((function(e,i){switch(i){case 0:return e.add(t,n);case 1:return e.add(t+r,n);case 2:return e.add(t+r,n+s);case 3:return e.add(t,n+s)}return e}))},Ma=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Pa=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new _a(this.container),this.container.styles.opacity<1&&this.effects.push(new La(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Fa(n,r,s))}if(0!==this.container.styles.overflowX){var i=Ia(this.curves),A=ka(this.curves);Ra(i,A)?this.effects.push(new Ua(i,6)):(this.effects.push(new Ua(i,2)),this.effects.push(new Ua(A,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var s=n.effects.filter((function(e){return!Da(e)}));if(t||0!==n.container.styles.position||!n.parent){if(r.unshift.apply(r,s),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var i=Ia(n.curves),A=ka(n.curves);Ra(i,A)||r.unshift(new Ua(A,6))}}else r.unshift.apply(r,s);n=n.parent}return r.filter((function(t){return si(t.target,e)}))},e}(),Ha=function(e,t,n,r){e.container.elements.forEach((function(s){var i=si(s.flags,4),A=si(s.flags,2),o=new Pa(s,e);si(s.styles.display,2048)&&r.push(o);var a=si(s.flags,8)?[]:r;if(i||A){var l=i||s.styles.isPositioned()?n:t,c=new Ma(o);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var u=s.styles.zIndex.order;if(u<0){var h=0;l.negativeZIndex.some((function(e,t){return u>e.element.container.styles.zIndex.order?(h=t,!1):h>0})),l.negativeZIndex.splice(h,0,c)}else if(u>0){var d=0;l.positiveZIndex.some((function(e,t){return u>=e.element.container.styles.zIndex.order?(d=t+1,!1):d>0})),l.positiveZIndex.splice(d,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else s.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);Ha(o,c,i?c:n,a)}else s.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),Ha(o,t,n,a);si(s.flags,8)&&Ka(s,a)}))},Ka=function(e,t){for(var n=e instanceof KA?e.start:1,r=e instanceof KA&&e.reversed,s=0;s<t.length;s++){var i=t[s];i.container instanceof HA&&"number"===typeof i.container.value&&0!==i.container.value&&(n=i.container.value),i.listValue=zo(n,i.container.styles.listStyleType,!0),n+=r?-1:1}},Ga=function(e){var t=new Pa(e,null),n=new Ma(t),r=[];return Ha(t,n,n,r),Ka(t.container,r),n},ja=function(e,t){switch(t){case 0:return Xa(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Xa(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Xa(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return Xa(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Va=function(e,t){switch(t){case 0:return Xa(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Xa(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Xa(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return Xa(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},za=function(e,t){switch(t){case 0:return Xa(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Xa(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Xa(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return Xa(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Wa=function(e,t){switch(t){case 0:return Ya(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Ya(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Ya(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return Ya(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},Ya=function(e,t){var n=[];return Ta(e)?n.push(e.subdivide(.5,!1)):n.push(e),Ta(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},Xa=function(e,t,n,r){var s=[];return Ta(e)?s.push(e.subdivide(.5,!1)):s.push(e),Ta(n)?s.push(n.subdivide(.5,!0)):s.push(n),Ta(r)?s.push(r.subdivide(.5,!0).reverse()):s.push(r),Ta(t)?s.push(t.subdivide(.5,!1).reverse()):s.push(t),s},qa=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},$a=function(e){var t=e.styles,n=e.bounds,r=Wn(t.paddingLeft,n.width),s=Wn(t.paddingRight,n.width),i=Wn(t.paddingTop,n.width),A=Wn(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+s),-(t.borderTopWidth+t.borderBottomWidth+i+A))},Ja=function(e,t){return 0===e?t.bounds:2===e?$a(t):qa(t)},Za=function(e,t){return 0===e?t.bounds:2===e?$a(t):qa(t)},el=function(e,t,n){var r=Ja(sl(e.styles.backgroundOrigin,t),e),s=Za(sl(e.styles.backgroundClip,t),e),i=rl(sl(e.styles.backgroundSize,t),n,r),A=i[0],o=i[1],a=zn(sl(e.styles.backgroundPosition,t),r.width-A,r.height-o);return[il(sl(e.styles.backgroundRepeat,t),a,i,r,s),Math.round(r.left+a[0]),Math.round(r.top+a[1]),A,o]},tl=function(e){return Ln(e)&&e.value===Or.AUTO},nl=function(e){return"number"===typeof e},rl=function(e,t,n){var r=t[0],s=t[1],i=t[2],A=e[0],o=e[1];if(!A)return[0,0];if(Hn(A)&&o&&Hn(o))return[Wn(A,n.width),Wn(o,n.height)];var a=nl(i);if(Ln(A)&&(A.value===Or.CONTAIN||A.value===Or.COVER))return nl(i)?n.width/n.height<i!==(A.value===Or.COVER)?[n.width,n.width/i]:[n.height*i,n.height]:[n.width,n.height];var l=nl(r),c=nl(s),u=l||c;if(tl(A)&&(!o||tl(o)))return l&&c?[r,s]:a||u?u&&a?[l?r:s*i,c?s:r/i]:[l?r:n.width,c?s:n.height]:[n.width,n.height];if(a){var h=0,d=0;return Hn(A)?h=Wn(A,n.width):Hn(o)&&(d=Wn(o,n.height)),tl(A)?h=d*i:o&&!tl(o)||(d=h/i),[h,d]}var p=null,f=null;if(Hn(A)?p=Wn(A,n.width):o&&Hn(o)&&(f=Wn(o,n.height)),null===p||o&&!tl(o)||(f=l&&c?p/r*s:n.height),null!==f&&tl(A)&&(p=l&&c?f/s*r:n.width),null!==p&&null!==f)return[p,f];throw new Error("Unable to calculate background-size for element")},sl=function(e,t){var n=e[t];return"undefined"===typeof n?e[0]:n},il=function(e,t,n,r,s){var i=t[0],A=t[1],o=n[0],a=n[1];switch(e){case 2:return[new ba(Math.round(r.left),Math.round(r.top+A)),new ba(Math.round(r.left+r.width),Math.round(r.top+A)),new ba(Math.round(r.left+r.width),Math.round(a+r.top+A)),new ba(Math.round(r.left),Math.round(a+r.top+A))];case 3:return[new ba(Math.round(r.left+i),Math.round(r.top)),new ba(Math.round(r.left+i+o),Math.round(r.top)),new ba(Math.round(r.left+i+o),Math.round(r.height+r.top)),new ba(Math.round(r.left+i),Math.round(r.height+r.top))];case 1:return[new ba(Math.round(r.left+i),Math.round(r.top+A)),new ba(Math.round(r.left+i+o),Math.round(r.top+A)),new ba(Math.round(r.left+i+o),Math.round(r.top+A+a)),new ba(Math.round(r.left+i),Math.round(r.top+A+a))];default:return[new ba(Math.round(s.left),Math.round(s.top)),new ba(Math.round(s.left+s.width),Math.round(s.top)),new ba(Math.round(s.left+s.width),Math.round(s.height+s.top)),new ba(Math.round(s.left),Math.round(s.height+s.top))]}},Al="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ol="Hidden Text",al=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),s=this._document.createElement("span"),i=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",i.appendChild(n),r.src=Al,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(ol)),n.appendChild(s),n.appendChild(r);var A=r.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(ol)),n.style.lineHeight="normal",r.style.verticalAlign="super";var o=r.offsetTop-n.offsetTop+2;return i.removeChild(n),{baseline:A,middle:o}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return"undefined"===typeof this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),ll=function(){function e(e,t){this.context=e,this.options=t}return e}(),cl=1e4,ul=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new al(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach((function(e){return t.applyEffect(e)}))},n.prototype.applyEffect=function(e){this.ctx.save(),Oa(e)&&(this.ctx.globalAlpha=e.opacity),Qa(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Da(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},n.prototype.renderNode=function(e){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return si(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var r=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):xA(e.text).reduce((function(t,s){return r.ctx.fillText(s,t,e.bounds.top+n),t+r.ctx.measureText(s).width}),e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),n=gl(e.fontFamily).join(", "),r=Fn(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},n.prototype.renderTextNode=function(e,t){return r(this,void 0,void 0,(function(){var n,r,i,A,o,a,l,c,u=this;return s(this,(function(s){return n=this.createFontStyle(t),r=n[0],i=n[1],A=n[2],this.ctx.font=r,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(i,A),a=o.baseline,l=o.middle,c=t.paintOrder,e.textBounds.forEach((function(e){c.forEach((function(n){switch(n){case 0:u.ctx.fillStyle=sr(t.color),u.renderTextWithLetterSpacing(e,t.letterSpacing,a);var r=t.textShadow;r.length&&e.text.trim().length&&(r.slice(0).reverse().forEach((function(n){u.ctx.shadowColor=sr(n.color),u.ctx.shadowOffsetX=n.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=n.offsetY.number*u.options.scale,u.ctx.shadowBlur=n.blur.number,u.renderTextWithLetterSpacing(e,t.letterSpacing,a)})),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),t.textDecorationLine.length&&(u.ctx.fillStyle=sr(t.textDecorationColor||t.color),t.textDecorationLine.forEach((function(t){switch(t){case 1:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+a),e.bounds.width,1);break;case 2:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:u.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+l),e.bounds.width,1)}})));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(u.ctx.strokeStyle=sr(t.webkitTextStrokeColor),u.ctx.lineWidth=t.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+a)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter"}}))})),[2]}))}))},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=$a(e),s=ka(t);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return r(this,void 0,void 0,(function(){var t,r,i,o,a,l,c,u,h,d,p,f,g,m,w,y,B,E;return s(this,(function(s){switch(s.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,r=e.curves,i=t.styles,o=0,a=t.textNodes,s.label=1;case 1:return o<a.length?(l=a[o],[4,this.renderTextNode(l,i)]):[3,4];case 2:s.sent(),s.label=3;case 3:return o++,[3,1];case 4:if(!(t instanceof NA))return[3,8];s.label=5;case 5:return s.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return w=s.sent(),this.renderReplacedElement(t,r,w),[3,8];case 7:return s.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof MA&&this.renderReplacedElement(t,r,t.canvas),!(t instanceof PA))return[3,12];s.label=9;case 9:return s.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return w=s.sent(),this.renderReplacedElement(t,r,w),[3,12];case 11:return s.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof eo&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:c=s.sent(),t.width&&t.height&&this.ctx.drawImage(c,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),s.label=14;case 14:if(t instanceof $A&&(u=Math.min(t.bounds.width,t.bounds.height),t.type===WA?t.checked&&(this.ctx.save(),this.path([new ba(t.bounds.left+.39363*u,t.bounds.top+.79*u),new ba(t.bounds.left+.16*u,t.bounds.top+.5549*u),new ba(t.bounds.left+.27347*u,t.bounds.top+.44071*u),new ba(t.bounds.left+.39694*u,t.bounds.top+.5649*u),new ba(t.bounds.left+.72983*u,t.bounds.top+.23*u),new ba(t.bounds.left+.84*u,t.bounds.top+.34085*u),new ba(t.bounds.left+.39363*u,t.bounds.top+.79*u)]),this.ctx.fillStyle=sr(qA),this.ctx.fill(),this.ctx.restore()):t.type===YA&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+u/2,t.bounds.top+u/2,u/4,0,2*Math.PI,!0),this.ctx.fillStyle=sr(qA),this.ctx.fill(),this.ctx.restore())),hl(t)&&t.value.length){switch(h=this.createFontStyle(i),B=h[0],d=h[1],p=this.fontMetrics.getMetrics(B,d).baseline,this.ctx.font=B,this.ctx.fillStyle=sr(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=pl(t.styles.textAlign),E=$a(t),f=0,t.styles.textAlign){case 1:f+=E.width/2;break;case 2:f+=E.width}g=E.add(f,0,0,-E.height/2+1),this.ctx.save(),this.path([new ba(E.left,E.top),new ba(E.left+E.width,E.top),new ba(E.left+E.width,E.top+E.height),new ba(E.left,E.top+E.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new TA(t.value,g),i.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!si(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(m=t.styles.listStyleImage).type)return[3,18];w=void 0,y=m.url,s.label=15;case 15:return s.trys.push([15,17,,18]),[4,this.context.cache.match(y)];case 16:return w=s.sent(),this.ctx.drawImage(w,t.bounds.left-(w.width+10),t.bounds.top),[3,18];case 17:return s.sent(),this.context.logger.error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(B=this.createFontStyle(i)[0],this.ctx.font=B,this.ctx.fillStyle=sr(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",E=new A(t.bounds.left,t.bounds.top+Wn(t.styles.paddingTop,t.bounds.width),t.bounds.width,Es(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new TA(e.listValue,E),i.letterSpacing,Es(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),s.label=20;case 20:return[2]}}))}))},n.prototype.renderStackContent=function(e){return r(this,void 0,void 0,(function(){var t,n,r,i,A,o,a,l,c,u,h,d,p,f,g;return s(this,(function(s){switch(s.label){case 0:return si(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:s.sent(),t=0,n=e.negativeZIndex,s.label=2;case 2:return t<n.length?(g=n[t],[4,this.renderStack(g)]):[3,5];case 3:s.sent(),s.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:s.sent(),r=0,i=e.nonInlineLevel,s.label=7;case 7:return r<i.length?(g=i[r],[4,this.renderNode(g)]):[3,10];case 8:s.sent(),s.label=9;case 9:return r++,[3,7];case 10:A=0,o=e.nonPositionedFloats,s.label=11;case 11:return A<o.length?(g=o[A],[4,this.renderStack(g)]):[3,14];case 12:s.sent(),s.label=13;case 13:return A++,[3,11];case 14:a=0,l=e.nonPositionedInlineLevel,s.label=15;case 15:return a<l.length?(g=l[a],[4,this.renderStack(g)]):[3,18];case 16:s.sent(),s.label=17;case 17:return a++,[3,15];case 18:c=0,u=e.inlineLevel,s.label=19;case 19:return c<u.length?(g=u[c],[4,this.renderNode(g)]):[3,22];case 20:s.sent(),s.label=21;case 21:return c++,[3,19];case 22:h=0,d=e.zeroOrAutoZIndexOrTransformedOrOpacity,s.label=23;case 23:return h<d.length?(g=d[h],[4,this.renderStack(g)]):[3,26];case 24:s.sent(),s.label=25;case 25:return h++,[3,23];case 26:p=0,f=e.positiveZIndex,s.label=27;case 27:return p<f.length?(g=f[p],[4,this.renderStack(g)]):[3,30];case 28:s.sent(),s.label=29;case 29:return p++,[3,27];case 30:return[2]}}))}))},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach((function(e,n){var r=Ta(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),Ta(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},n.prototype.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},n.prototype.resizeImage=function(e,t,n){var r;if(e.width===t&&e.height===n)return e;var s=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return s.width=Math.max(1,t),s.height=Math.max(1,n),s.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),s},n.prototype.renderBackgroundImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,i,A,o;return s(this,(function(a){switch(a.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var i,A,o,a,l,c,u,h,d,p,f,g,m,w,y,B,E,b,v,C,T,_,S,I,x,k,F,U,L,Q,D;return s(this,(function(s){switch(s.label){case 0:if(0!==n.type)return[3,5];i=void 0,A=n.url,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,r.context.cache.match(A)];case 2:return i=s.sent(),[3,4];case 3:return s.sent(),r.context.logger.error("Error loading background-image "+A),[3,4];case 4:return i&&(o=el(e,t,[i.width,i.height,i.width/i.height]),B=o[0],_=o[1],S=o[2],v=o[3],C=o[4],w=r.ctx.createPattern(r.resizeImage(i,v,C),"repeat"),r.renderRepeat(B,w,_,S)),[3,6];case 5:Ur(n)?(a=el(e,t,[null,null,null]),B=a[0],_=a[1],S=a[2],v=a[3],C=a[4],l=wr(n.angle,v,C),c=l[0],u=l[1],h=l[2],d=l[3],p=l[4],(f=document.createElement("canvas")).width=v,f.height=C,g=f.getContext("2d"),m=g.createLinearGradient(u,d,h,p),gr(n.stops,c).forEach((function(e){return m.addColorStop(e.stop,sr(e.color))})),g.fillStyle=m,g.fillRect(0,0,v,C),v>0&&C>0&&(w=r.ctx.createPattern(f,"repeat"),r.renderRepeat(B,w,_,S))):Lr(n)&&(y=el(e,t,[null,null,null]),B=y[0],E=y[1],b=y[2],v=y[3],C=y[4],T=0===n.position.length?[jn]:n.position,_=Wn(T[0],v),S=Wn(T[T.length-1],C),I=Er(n,_,S,v,C),x=I[0],k=I[1],x>0&&k>0&&(F=r.ctx.createRadialGradient(E+_,b+S,0,E+_,b+S,x),gr(n.stops,2*x).forEach((function(e){return F.addColorStop(e.stop,sr(e.color))})),r.path(B),r.ctx.fillStyle=F,x!==k?(U=e.bounds.left+.5*e.bounds.width,L=e.bounds.top+.5*e.bounds.height,D=1/(Q=k/x),r.ctx.save(),r.ctx.translate(U,L),r.ctx.transform(1,0,0,Q,0,0),r.ctx.translate(-U,-L),r.ctx.fillRect(E,D*(b-L)+L,v,C*D),r.ctx.restore()):r.ctx.fill())),s.label=6;case 6:return t--,[2]}}))},r=this,i=0,A=e.styles.backgroundImage.slice(0).reverse(),a.label=1;case 1:return i<A.length?(o=A[i],[5,n(o)]):[3,4];case 2:a.sent(),a.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))},n.prototype.renderSolidBorder=function(e,t,n){return r(this,void 0,void 0,(function(){return s(this,(function(r){return this.path(ja(n,t)),this.ctx.fillStyle=sr(e),this.ctx.fill(),[2]}))}))},n.prototype.renderDoubleBorder=function(e,t,n,i){return r(this,void 0,void 0,(function(){var r,A;return s(this,(function(s){switch(s.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,i)]:[3,2];case 1:return s.sent(),[2];case 2:return r=Va(i,n),this.path(r),this.ctx.fillStyle=sr(e),this.ctx.fill(),A=za(i,n),this.path(A),this.ctx.fill(),[2]}}))}))},n.prototype.renderNodeBackgroundAndBorders=function(e){return r(this,void 0,void 0,(function(){var t,n,r,i,A,o,a,l,c=this;return s(this,(function(s){switch(s.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!rr(t.backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],i=dl(sl(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),rr(t.backgroundColor)||(this.ctx.fillStyle=sr(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:s.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach((function(t){c.ctx.save();var n=Ia(e.curves),r=t.inset?0:cl,s=Na(n,-r+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(c.path(n),c.ctx.clip(),c.mask(s)):(c.mask(n),c.ctx.clip(),c.path(s)),c.ctx.shadowOffsetX=t.offsetX.number+r,c.ctx.shadowOffsetY=t.offsetY.number,c.ctx.shadowColor=sr(t.color),c.ctx.shadowBlur=t.blur.number,c.ctx.fillStyle=t.inset?sr(t.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()})),s.label=2;case 2:A=0,o=0,a=r,s.label=3;case 3:return o<a.length?0!==(l=a[o]).style&&!rr(l.color)&&l.width>0?2!==l.style?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,A,e.curves,2)]:[3,11]:[3,13];case 4:return s.sent(),[3,11];case 5:return 3!==l.style?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,A,e.curves,3)];case 6:return s.sent(),[3,11];case 7:return 4!==l.style?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,A,e.curves)];case 8:return s.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,A,e.curves)];case 10:s.sent(),s.label=11;case 11:A++,s.label=12;case 12:return o++,[3,3];case 13:return[2]}}))}))},n.prototype.renderDashedDottedBorder=function(e,t,n,i,A){return r(this,void 0,void 0,(function(){var r,o,a,l,c,u,h,d,p,f,g,m,w,y,B,E;return s(this,(function(s){return this.ctx.save(),r=Wa(i,n),o=ja(i,n),2===A&&(this.path(o),this.ctx.clip()),Ta(o[0])?(a=o[0].start.x,l=o[0].start.y):(a=o[0].x,l=o[0].y),Ta(o[1])?(c=o[1].end.x,u=o[1].end.y):(c=o[1].x,u=o[1].y),h=0===n||2===n?Math.abs(a-c):Math.abs(l-u),this.ctx.beginPath(),3===A?this.formatPath(r):this.formatPath(o.slice(0,2)),d=t<3?3*t:2*t,p=t<3?2*t:t,3===A&&(d=t,p=t),f=!0,h<=2*d?f=!1:h<=2*d+p?(d*=g=h/(2*d+p),p*=g):(m=Math.floor((h+p)/(d+p)),w=(h-m*d)/(m-1),p=(y=(h-(m+1)*d)/m)<=0||Math.abs(p-w)<Math.abs(p-y)?w:y),f&&(3===A?this.ctx.setLineDash([0,d+p]):this.ctx.setLineDash([d,p])),3===A?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=sr(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===A&&(Ta(o[0])&&(B=o[3],E=o[0],this.ctx.beginPath(),this.formatPath([new ba(B.end.x,B.end.y),new ba(E.start.x,E.start.y)]),this.ctx.stroke()),Ta(o[1])&&(B=o[1],E=o[2],this.ctx.beginPath(),this.formatPath([new ba(B.end.x,B.end.y),new ba(E.start.x,E.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=sr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=Ga(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}}))}))},n}(ll),hl=function(e){return e instanceof ZA||e instanceof JA||e instanceof $A&&e.type!==YA&&e.type!==WA},dl=function(e,t){switch(e){case 0:return Ia(t);case 2:return xa(t);default:return ka(t)}},pl=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},fl=["-apple-system","system-ui"],gl=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter((function(e){return-1===fl.indexOf(e)})):e},ml=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return t(n,e),n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:return t=bA(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,wl(t)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=sr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},n}(ll),wl=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},yl=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.debug?console.debug.apply(console,i([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!==typeof window&&window.console&&"function"===typeof console.info&&console.info.apply(console,i([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.warn?console.warn.apply(console,i([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.error?console.error.apply(console,i([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),Bl=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new yl({id:this.instanceName,enabled:t.logging}),this.cache=null!==(r=t.cache)&&void 0!==r?r:new da(this,t)}return e.instanceCount=1,e}(),El=function(e,t){return void 0===t&&(t={}),bl(e,t)};"undefined"!==typeof window&&ha.setContext(window);var bl=function(e,t){return r(void 0,void 0,void 0,(function(){var r,i,l,c,u,h,d,p,f,g,m,w,y,B,E,b,v,C,T,_,S,I,x,k,F,U,L,Q,D,O,R,N,M,P,H,K,G,j;return s(this,(function(s){switch(s.label){case 0:if(!e||"object"!==typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(r=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(i=r.defaultView))throw new Error("Document is not attached to a Window");return l={allowTaint:null!==(I=t.allowTaint)&&void 0!==I&&I,imageTimeout:null!==(x=t.imageTimeout)&&void 0!==x?x:15e3,proxy:t.proxy,useCORS:null!==(k=t.useCORS)&&void 0!==k&&k},c=n({logging:null===(F=t.logging)||void 0===F||F,cache:t.cache},l),u={windowWidth:null!==(U=t.windowWidth)&&void 0!==U?U:i.innerWidth,windowHeight:null!==(L=t.windowHeight)&&void 0!==L?L:i.innerHeight,scrollX:null!==(Q=t.scrollX)&&void 0!==Q?Q:i.pageXOffset,scrollY:null!==(D=t.scrollY)&&void 0!==D?D:i.pageYOffset},h=new A(u.scrollX,u.scrollY,u.windowWidth,u.windowHeight),d=new Bl(c,h),p=null!==(O=t.foreignObjectRendering)&&void 0!==O&&O,f={allowTaint:null!==(R=t.allowTaint)&&void 0!==R&&R,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:p,copyStyles:p},d.logger.debug("Starting document clone with size "+h.width+"x"+h.height+" scrolled to "+-h.left+","+-h.top),g=new Yo(d,e,f),(m=g.clonedReferenceElement)?[4,g.toIFrame(r,h)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return w=s.sent(),y=mo(m)||fo(m)?a(m.ownerDocument):o(d,m),B=y.width,E=y.height,b=y.left,v=y.top,C=vl(d,m,t.backgroundColor),T={canvas:t.canvas,backgroundColor:C,scale:null!==(M=null!==(N=t.scale)&&void 0!==N?N:i.devicePixelRatio)&&void 0!==M?M:1,x:(null!==(P=t.x)&&void 0!==P?P:0)+b,y:(null!==(H=t.y)&&void 0!==H?H:0)+v,width:null!==(K=t.width)&&void 0!==K?K:Math.ceil(B),height:null!==(G=t.height)&&void 0!==G?G:Math.ceil(E)},p?(d.logger.debug("Document cloned, using foreign object rendering"),[4,new ml(d,T).render(m)]):[3,3];case 2:return _=s.sent(),[3,5];case 3:return d.logger.debug("Document cloned, element located at "+b+","+v+" with size "+B+"x"+E+" using computed rendering"),d.logger.debug("Starting DOM parsing"),S=so(d,m),C===S.styles.backgroundColor&&(S.styles.backgroundColor=hr.TRANSPARENT),d.logger.debug("Starting renderer for element at "+T.x+","+T.y+" with size "+T.width+"x"+T.height),[4,new ul(d,T).render(S)];case 4:_=s.sent(),s.label=5;case 5:return(null===(j=t.removeContainer)||void 0===j||j)&&(Yo.destroy(w)||d.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),d.logger.debug("Finished rendering"),[2,_]}}))}))},vl=function(e,t,n){var r=t.ownerDocument,s=r.documentElement?ur(e,getComputedStyle(r.documentElement).backgroundColor):hr.TRANSPARENT,i=r.body?ur(e,getComputedStyle(r.body).backgroundColor):hr.TRANSPARENT,A="string"===typeof n?ur(e,n):null===n?hr.TRANSPARENT:4294967295;return t===r.documentElement?rr(s)?rr(i)?A:i:s:A};return El}()},403:e=>{var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,s=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,A=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,l="";function c(e){return e?e.replace(a,l):l}e.exports=function(e,a){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];a=a||{};var u=1,h=1;function d(e){var t=e.match(n);t&&(u+=t.length);var r=e.lastIndexOf("\n");h=~r?e.length-r:h+e.length}function p(){var e={line:u,column:h};return function(t){return t.position=new f(e),y(),t}}function f(e){this.start=e,this.end={line:u,column:h},this.source=a.source}f.prototype.content=e;var g=[];function m(t){var n=new Error(a.source+":"+u+":"+h+": "+t);if(n.reason=t,n.filename=a.source,n.line=u,n.column=h,n.source=e,!a.silent)throw n;g.push(n)}function w(t){var n=t.exec(e);if(n){var r=n[0];return d(r),e=e.slice(r.length),n}}function y(){w(r)}function B(e){var t;for(e=e||[];t=E();)!1!==t&&e.push(t);return e}function E(){var t=p();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;l!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,l===e.charAt(n-1))return m("End of comment missing");var r=e.slice(2,n-2);return h+=2,d(r),e=e.slice(n),h+=2,t({type:"comment",comment:r})}}function b(){var e=p(),n=w(s);if(n){if(E(),!w(i))return m("property missing ':'");var r=w(A),a=e({type:"declaration",property:c(n[0].replace(t,l)),value:r?c(r[0].replace(t,l)):l});return w(o),a}}return y(),function(){var e,t=[];for(B(t);e=b();)!1!==e&&(t.push(e),B(t));return t}()}},497:(e,t,n)=>{"use strict";var r=n(218);function s(){}function i(){}i.resetWarningCache=s,e.exports=function(){function e(e,t,n,s,i,A){if(A!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:s};return n.PropTypes=n,n}},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},730:(e,t,n)=>{"use strict";var r=n(43),s=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A=new Set,o={};function a(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(o[e]=t,e=0;e<t.length;e++)A.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function f(e,t,n,r,s,i,A){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=A}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new f(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new f(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new f(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new f(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new f(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function y(e,t,n,r){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!u.call(p,e)||!u.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,w);g[t]=new f(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,w);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,w);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)}));var B=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),b=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),S=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),U=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var Q=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=Q&&e[Q]||e["@@iterator"])?e:null}var O,R=Object.assign;function N(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var M=!1;function P(e,t){if(!e||M)return"";M=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var s=l.stack.split("\n"),i=r.stack.split("\n"),A=s.length-1,o=i.length-1;1<=A&&0<=o&&s[A]!==i[o];)o--;for(;1<=A&&0<=o;A--,o--)if(s[A]!==i[o]){if(1!==A||1!==o)do{if(A--,0>--o||s[A]!==i[o]){var a="\n"+s[A].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}}while(1<=A&&0<=o);break}}}finally{M=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?N(e):""}function H(e){switch(e.tag){case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return e=P(e.type,!1);case 11:return e=P(e.type.render,!1);case 1:return e=P(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case b:return"Portal";case T:return"Profiler";case C:return"StrictMode";case x:return"Suspense";case k:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case F:return null!==(t=e.displayName||null)?t:K(e.type)||"Memo";case U:t=e._payload,e=e._init;try{return K(e(t))}catch(n){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function j(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function z(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=j(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function J(e,t){$(e,t);var n=j(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,j(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+j(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:j(n)}}function ie(e,t){var n=j(t.value),r=j(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ae(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,ue=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=fe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function we(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Be=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var be=null,ve=null,Ce=null;function Te(e){if(e=ys(e)){if("function"!==typeof be)throw Error(i(280));var t=e.stateNode;t&&(t=Es(t),be(e.stateNode,e.type,t))}}function _e(e){ve?Ce?Ce.push(e):Ce=[e]:ve=e}function Se(){if(ve){var e=ve,t=Ce;if(Ce=ve=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ie(e,t){return e(t)}function xe(){}var ke=!1;function Fe(e,t,n){if(ke)return e(t,n);ke=!0;try{return Ie(e,t,n)}finally{ke=!1,(null!==ve||null!==Ce)&&(xe(),Se())}}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=Es(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Le=!1;if(c)try{var Qe={};Object.defineProperty(Qe,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Qe,Qe),window.removeEventListener("test",Qe,Qe)}catch(ce){Le=!1}function De(e,t,n,r,s,i,A,o,a){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Oe=!1,Re=null,Ne=!1,Me=null,Pe={onError:function(e){Oe=!0,Re=e}};function He(e,t,n,r,s,i,A,o,a){Oe=!1,Re=null,De.apply(Pe,arguments)}function Ke(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function je(e){if(Ke(e)!==e)throw Error(i(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ke(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var A=s.alternate;if(null===A){if(null!==(r=s.return)){n=r;continue}break}if(s.child===A.child){for(A=s.child;A;){if(A===n)return je(s),e;if(A===r)return je(s),t;A=A.sibling}throw Error(i(188))}if(n.return!==r.return)n=s,r=A;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=A;break}if(a===r){o=!0,r=s,n=A;break}a=a.sibling}if(!o){for(a=A.child;a;){if(a===n){o=!0,n=A,r=s;break}if(a===r){o=!0,r=A,n=s;break}a=a.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?ze(e):null}function ze(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=ze(e);if(null!==t)return t;e=e.sibling}return null}var We=s.unstable_scheduleCallback,Ye=s.unstable_cancelCallback,Xe=s.unstable_shouldYield,qe=s.unstable_requestPaint,$e=s.unstable_now,Je=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,it=null;var At=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/at|0)|0},ot=Math.log,at=Math.LN2;var lt=64,ct=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,A=268435455&n;if(0!==A){var o=A&~s;0!==o?r=ut(o):0!==(i&=A)&&(r=ut(i))}else 0!==(A=n&~s)?r=ut(A):0!==i&&(r=ut(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(i=t&-t)||16===s&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-At(t)),r|=e[n],t&=~s;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-At(t)]=n}function wt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-At(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var yt=0;function Bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,bt,vt,Ct,Tt,_t=!1,St=[],It=null,xt=null,kt=null,Ft=new Map,Ut=new Map,Lt=[],Qt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":Ft.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ut.delete(t.pointerId)}}function Ot(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=ys(t))&&bt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Rt(e){var t=ws(e.target);if(null!==t){var n=Ke(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void Tt(e.priority,(function(){vt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Nt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ys(n))&&bt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Be=r,n.target.dispatchEvent(r),Be=null,t.shift()}return!0}function Mt(e,t,n){Nt(e)&&n.delete(t)}function Pt(){_t=!1,null!==It&&Nt(It)&&(It=null),null!==xt&&Nt(xt)&&(xt=null),null!==kt&&Nt(kt)&&(kt=null),Ft.forEach(Mt),Ut.forEach(Mt)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Pt)))}function Kt(e){function t(t){return Ht(t,e)}if(0<St.length){Ht(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Ht(It,e),null!==xt&&Ht(xt,e),null!==kt&&Ht(kt,e),Ft.forEach(t),Ut.forEach(t),n=0;n<Lt.length;n++)(r=Lt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)Rt(n),null===n.blockedOn&&Lt.shift()}var Gt=B.ReactCurrentBatchConfig,jt=!0;function Vt(e,t,n,r){var s=yt,i=Gt.transition;Gt.transition=null;try{yt=1,Wt(e,t,n,r)}finally{yt=s,Gt.transition=i}}function zt(e,t,n,r){var s=yt,i=Gt.transition;Gt.transition=null;try{yt=4,Wt(e,t,n,r)}finally{yt=s,Gt.transition=i}}function Wt(e,t,n,r){if(jt){var s=Xt(e,t,n,r);if(null===s)jr(e,t,r,Yt,n),Dt(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return It=Ot(It,e,t,n,r,s),!0;case"dragenter":return xt=Ot(xt,e,t,n,r,s),!0;case"mouseover":return kt=Ot(kt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ft.set(i,Ot(Ft.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ut.set(i,Ot(Ut.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Qt.indexOf(e)){for(;null!==s;){var i=ys(s);if(null!==i&&Et(i),null===(i=Xt(e,t,n,r))&&jr(e,t,r,Yt,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else jr(e,t,r,null,n)}}var Yt=null;function Xt(e,t,n,r){if(Yt=null,null!==(e=ws(e=Ee(r))))if(null===(t=Ke(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,s="value"in $t?$t.value:$t.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var A=r-e;for(t=1;t<=A&&n[r-t]===s[i-t];t++);return Zt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,i){for(var A in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(A)&&(t=e[A],this[A]=t?t(s):s[A]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var An,on,an,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(ln),un=R({},ln,{view:0,detail:0}),hn=sn(un),dn=R({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==an&&(an&&"mousemove"===e.type?(An=e.screenX-an.screenX,on=e.screenY-an.screenY):on=An=0,an=e),An)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(dn),fn=sn(R({},dn,{dataTransfer:0})),gn=sn(R({},un,{relatedTarget:0})),mn=sn(R({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=R({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=sn(wn),Bn=sn(R({},ln,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=vn[e])&&!!t[e]}function Tn(){return Cn}var _n=R({},un,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=sn(_n),In=sn(R({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=sn(R({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),kn=sn(R({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Fn=R({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Un=sn(Fn),Ln=[9,13,27,32],Qn=c&&"CompositionEvent"in window,Dn=null;c&&"documentMode"in document&&(Dn=document.documentMode);var On=c&&"TextEvent"in window&&!Dn,Rn=c&&(!Qn||Dn&&8<Dn&&11>=Dn),Nn=String.fromCharCode(32),Mn=!1;function Pn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Vn(e,t,n,r){_e(r),0<(t=zr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zn=null,Wn=null;function Yn(e){Nr(e,0)}function Xn(e){if(W(Bs(e)))return e}function qn(e,t){if("change"===e)return t}var $n=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){zn&&(zn.detachEvent("onpropertychange",nr),Wn=zn=null)}function nr(e){if("value"===e.propertyName&&Xn(Wn)){var t=[];Vn(t,Wn,e,Ee(e)),Fe(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(zn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Wn)}function ir(e,t){if("click"===e)return Xn(t)}function Ar(e,t){if("input"===e||"change"===e)return Xn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ar(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!u.call(t,s)||!or(e[s],t[s]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=void 0===r.end?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=cr(n,i);var A=cr(n,r);s&&A&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==A.node||e.focusOffset!==A.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(A.node,A.offset)):(t.setEnd(A.node,A.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,mr=null,wr=null,yr=!1;function Br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&ar(wr,r)||(wr=r,0<(r=zr(mr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},vr={},Cr={};function Tr(e){if(vr[e])return vr[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return vr[e]=n[t];return e}c&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var _r=Tr("animationend"),Sr=Tr("animationiteration"),Ir=Tr("animationstart"),xr=Tr("transitionend"),kr=new Map,Fr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(e,t){kr.set(e,t),a(t,[e])}for(var Lr=0;Lr<Fr.length;Lr++){var Qr=Fr[Lr];Ur(Qr.toLowerCase(),"on"+(Qr[0].toUpperCase()+Qr.slice(1)))}Ur(_r,"onAnimationEnd"),Ur(Sr,"onAnimationIteration"),Ur(Ir,"onAnimationStart"),Ur("dblclick","onDoubleClick"),Ur("focusin","onFocus"),Ur("focusout","onBlur"),Ur(xr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Rr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,A,o,a,l){if(He.apply(this,arguments),Oe){if(!Oe)throw Error(i(198));var c=Re;Oe=!1,Re=null,Ne||(Ne=!0,Me=c)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var A=r.length-1;0<=A;A--){var o=r[A],a=o.instance,l=o.currentTarget;if(o=o.listener,a!==i&&s.isPropagationStopped())break e;Rr(s,o,l),i=a}else for(A=0;A<r.length;A++){if(a=(o=r[A]).instance,l=o.currentTarget,o=o.listener,a!==i&&s.isPropagationStopped())break e;Rr(s,o,l),i=a}}}if(Ne)throw e=Me,Ne=!1,Me=null,e}function Mr(e,t){var n=t[fs];void 0===n&&(n=t[fs]=new Set);var r=e+"__bubble";n.has(r)||(Gr(t,e,2,!1),n.add(r))}function Pr(e,t,n){var r=0;t&&(r|=4),Gr(n,e,r,t)}var Hr="_reactListening"+Math.random().toString(36).slice(2);function Kr(e){if(!e[Hr]){e[Hr]=!0,A.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||Pr(t,!1,e),Pr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hr]||(t[Hr]=!0,Pr("selectionchange",!1,t))}}function Gr(e,t,n,r){switch(qt(t)){case 1:var s=Vt;break;case 4:s=zt;break;default:s=Wt}n=s.bind(null,t,n,e),s=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function jr(e,t,n,r,s){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var A=r.tag;if(3===A||4===A){var o=r.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===A)for(A=r.return;null!==A;){var a=A.tag;if((3===a||4===a)&&((a=A.stateNode.containerInfo)===s||8===a.nodeType&&a.parentNode===s))return;A=A.return}for(;null!==o;){if(null===(A=ws(o)))return;if(5===(a=A.tag)||6===a){r=i=A;continue e}o=o.parentNode}}r=r.return}Fe((function(){var r=i,s=Ee(n),A=[];e:{var o=kr.get(e);if(void 0!==o){var a=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":a=Sn;break;case"focusin":l="focus",a=gn;break;case"focusout":l="blur",a=gn;break;case"beforeblur":case"afterblur":a=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":a=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":a=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":a=xn;break;case _r:case Sr:case Ir:a=mn;break;case xr:a=kn;break;case"scroll":a=hn;break;case"wheel":a=Un;break;case"copy":case"cut":case"paste":a=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":a=In}var c=0!==(4&t),u=!c&&"scroll"===e,h=c?null!==o?o+"Capture":null:o;c=[];for(var d,p=r;null!==p;){var f=(d=p).stateNode;if(5===d.tag&&null!==f&&(d=f,null!==h&&(null!=(f=Ue(p,h))&&c.push(Vr(p,f,d)))),u)break;p=p.return}0<c.length&&(o=new a(o,l,null,n,s),A.push({event:o,listeners:c}))}}if(0===(7&t)){if(a="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Be||!(l=n.relatedTarget||n.fromElement)||!ws(l)&&!l[ps])&&(a||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,a?(a=r,null!==(l=(l=n.relatedTarget||n.toElement)?ws(l):null)&&(l!==(u=Ke(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(a=null,l=r),a!==l)){if(c=pn,f="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,f="onPointerLeave",h="onPointerEnter",p="pointer"),u=null==a?o:Bs(a),d=null==l?o:Bs(l),(o=new c(f,p+"leave",a,n,s)).target=u,o.relatedTarget=d,f=null,ws(s)===r&&((c=new c(h,p+"enter",l,n,s)).target=d,c.relatedTarget=u,f=c),u=f,a&&l)e:{for(h=l,p=0,d=c=a;d;d=Wr(d))p++;for(d=0,f=h;f;f=Wr(f))d++;for(;0<p-d;)c=Wr(c),p--;for(;0<d-p;)h=Wr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Wr(c),h=Wr(h)}c=null}else c=null;null!==a&&Yr(A,o,a,c,!1),null!==l&&null!==u&&Yr(A,u,l,c,!0)}if("select"===(a=(o=r?Bs(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===a&&"file"===o.type)var g=qn;else if(jn(o))if($n)g=Ar;else{g=sr;var m=rr}else(a=o.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ir);switch(g&&(g=g(e,r))?Vn(A,g,n,s):(m&&m(e,o,r),"focusout"===e&&(m=o._wrapperState)&&m.controlled&&"number"===o.type&&ee(o,"number",o.value)),m=r?Bs(r):window,e){case"focusin":(jn(m)||"true"===m.contentEditable)&&(gr=m,mr=r,wr=null);break;case"focusout":wr=mr=gr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,Br(A,n,s);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":Br(A,n,s)}var w;if(Qn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Kn?Pn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Rn&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Kn&&(w=en()):(Jt="value"in($t=s)?$t.value:$t.textContent,Kn=!0)),0<(m=zr(r,y)).length&&(y=new Bn(y,e,null,n,s),A.push({event:y,listeners:m}),w?y.data=w:null!==(w=Hn(n))&&(y.data=w))),(w=On?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Mn=!0,Nn);case"textInput":return(e=t.data)===Nn&&Mn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!Qn&&Pn(e,t)?(e=en(),Zt=Jt=$t=null,Kn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=zr(r,"onBeforeInput")).length&&(s=new Bn("onBeforeInput","beforeinput",null,n,s),A.push({event:s,listeners:r}),s.data=w))}Nr(A,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;5===s.tag&&null!==i&&(s=i,null!=(i=Ue(e,n))&&r.unshift(Vr(e,i,s)),null!=(i=Ue(e,t))&&r.push(Vr(e,i,s))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,s){for(var i=t._reactName,A=[];null!==n&&n!==r;){var o=n,a=o.alternate,l=o.stateNode;if(null!==a&&a===r)break;5===o.tag&&null!==l&&(o=l,s?null!=(a=Ue(n,i))&&A.unshift(Vr(n,a,o)):s||null!=(a=Ue(n,i))&&A.push(Vr(n,a,o))),n=n.return}0!==A.length&&e.push({event:t,listeners:A})}var Xr=/\r\n?/g,qr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(qr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(i(425))}function Zr(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,is="function"===typeof Promise?Promise:void 0,As="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof is?function(e){return is.resolve(null).then(e).catch(os)}:rs;function os(e){setTimeout((function(){throw e}))}function as(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void Kt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);Kt(t)}function ls(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cs(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),hs="__reactFiber$"+us,ds="__reactProps$"+us,ps="__reactContainer$"+us,fs="__reactEvents$"+us,gs="__reactListeners$"+us,ms="__reactHandles$"+us;function ws(e){var t=e[hs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ps]||n[hs]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=cs(e);null!==e;){if(n=e[hs])return n;e=cs(e)}return t}n=(e=n).parentNode}return null}function ys(e){return!(e=e[hs]||e[ps])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Bs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function Es(e){return e[ds]||null}var bs=[],vs=-1;function Cs(e){return{current:e}}function Ts(e){0>vs||(e.current=bs[vs],bs[vs]=null,vs--)}function _s(e,t){vs++,bs[vs]=e.current,e.current=t}var Ss={},Is=Cs(Ss),xs=Cs(!1),ks=Ss;function Fs(e,t){var n=e.type.contextTypes;if(!n)return Ss;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,i={};for(s in n)i[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Us(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ls(){Ts(xs),Ts(Is)}function Qs(e,t,n){if(Is.current!==Ss)throw Error(i(168));_s(Is,t),_s(xs,n)}function Ds(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(i(108,G(e)||"Unknown",s));return R({},n,r)}function Os(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ss,ks=Is.current,_s(Is,e),_s(xs,xs.current),!0}function Rs(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Ds(e,t,ks),r.__reactInternalMemoizedMergedChildContext=e,Ts(xs),Ts(Is),_s(Is,e)):Ts(xs),_s(xs,n)}var Ns=null,Ms=!1,Ps=!1;function Hs(e){null===Ns?Ns=[e]:Ns.push(e)}function Ks(){if(!Ps&&null!==Ns){Ps=!0;var e=0,t=yt;try{var n=Ns;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ns=null,Ms=!1}catch(s){throw null!==Ns&&(Ns=Ns.slice(e+1)),We(Ze,Ks),s}finally{yt=t,Ps=!1}}return null}var Gs=[],js=0,Vs=null,zs=0,Ws=[],Ys=0,Xs=null,qs=1,$s="";function Js(e,t){Gs[js++]=zs,Gs[js++]=Vs,Vs=e,zs=t}function Zs(e,t,n){Ws[Ys++]=qs,Ws[Ys++]=$s,Ws[Ys++]=Xs,Xs=e;var r=qs;e=$s;var s=32-At(r)-1;r&=~(1<<s),n+=1;var i=32-At(t)+s;if(30<i){var A=s-s%5;i=(r&(1<<A)-1).toString(32),r>>=A,s-=A,qs=1<<32-At(t)+s|n<<s|r,$s=i+e}else qs=1<<i|n<<s|r,$s=e}function ei(e){null!==e.return&&(Js(e,1),Zs(e,1,0))}function ti(e){for(;e===Vs;)Vs=Gs[--js],Gs[js]=null,zs=Gs[--js],Gs[js]=null;for(;e===Xs;)Xs=Ws[--Ys],Ws[Ys]=null,$s=Ws[--Ys],Ws[Ys]=null,qs=Ws[--Ys],Ws[Ys]=null}var ni=null,ri=null,si=!1,ii=null;function Ai(e,t){var n=Fl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=ls(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xs?{id:qs,overflow:$s}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Fl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function ai(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function li(e){if(si){var t=ri;if(t){var n=t;if(!oi(e,t)){if(ai(e))throw Error(i(418));t=ls(n.nextSibling);var r=ni;t&&oi(e,t)?Ai(r,n):(e.flags=-4097&e.flags|2,si=!1,ni=e)}}else{if(ai(e))throw Error(i(418));e.flags=-4097&e.flags|2,si=!1,ni=e}}}function ci(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function ui(e){if(e!==ni)return!1;if(!si)return ci(e),si=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ri)){if(ai(e))throw hi(),Error(i(418));for(;t;)Ai(e,t),t=ls(t.nextSibling)}if(ci(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=ls(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?ls(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ri;e;)e=ls(e.nextSibling)}function di(){ri=ni=null,si=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var fi=B.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var s=r,A=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===A?t.ref:(t=function(e){var t=s.refs;null===e?delete t[A]:t[A]=e},t._stringRef=A,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function mi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wi(e){return(0,e._init)(e._payload)}function yi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Ll(e,t)).index=0,e.sibling=null,e}function A(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function a(e,t,n,r){return null===t||6!==t.tag?((t=Rl(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function l(e,t,n,r){var i=n.type;return i===v?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===U&&wi(i)===t.type)?((r=s(t,n.props)).ref=gi(e,t,n),r.return=e,r):((r=Ql(n.type,n.key,n.props,null,e.mode,r)).ref=gi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Nl(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function u(e,t,n,r,i){return null===t||7!==t.tag?((t=Dl(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Rl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Ql(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case b:return(t=Nl(t,e.mode,n)).return=e,t;case U:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dl(t,e.mode,n,null)).return=e,t;mi(e,t)}return null}function d(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:a(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===s?l(e,t,n,r):null;case b:return n.key===s?c(e,t,n,r):null;case U:return d(e,t,(s=n._init)(n._payload),r)}if(te(n)||D(n))return null!==s?null:u(e,t,n,r,null);mi(e,n)}return null}function p(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return a(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,s);case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case U:return p(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||D(r))return u(t,e=e.get(n)||null,r,s,null);mi(t,r)}return null}function f(s,i,o,a){for(var l=null,c=null,u=i,f=i=0,g=null;null!==u&&f<o.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var m=d(s,u,o[f],a);if(null===m){null===u&&(u=g);break}e&&u&&null===m.alternate&&t(s,u),i=A(m,i,f),null===c?l=m:c.sibling=m,c=m,u=g}if(f===o.length)return n(s,u),si&&Js(s,f),l;if(null===u){for(;f<o.length;f++)null!==(u=h(s,o[f],a))&&(i=A(u,i,f),null===c?l=u:c.sibling=u,c=u);return si&&Js(s,f),l}for(u=r(s,u);f<o.length;f++)null!==(g=p(u,s,f,o[f],a))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),i=A(g,i,f),null===c?l=g:c.sibling=g,c=g);return e&&u.forEach((function(e){return t(s,e)})),si&&Js(s,f),l}function g(s,o,a,l){var c=D(a);if("function"!==typeof c)throw Error(i(150));if(null==(a=c.call(a)))throw Error(i(151));for(var u=c=null,f=o,g=o=0,m=null,w=a.next();null!==f&&!w.done;g++,w=a.next()){f.index>g?(m=f,f=null):m=f.sibling;var y=d(s,f,w.value,l);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(s,f),o=A(y,o,g),null===u?c=y:u.sibling=y,u=y,f=m}if(w.done)return n(s,f),si&&Js(s,g),c;if(null===f){for(;!w.done;g++,w=a.next())null!==(w=h(s,w.value,l))&&(o=A(w,o,g),null===u?c=w:u.sibling=w,u=w);return si&&Js(s,g),c}for(f=r(s,f);!w.done;g++,w=a.next())null!==(w=p(f,s,g,w.value,l))&&(e&&null!==w.alternate&&f.delete(null===w.key?g:w.key),o=A(w,o,g),null===u?c=w:u.sibling=w,u=w);return e&&f.forEach((function(e){return t(s,e)})),si&&Js(s,g),c}return function e(r,i,A,a){if("object"===typeof A&&null!==A&&A.type===v&&null===A.key&&(A=A.props.children),"object"===typeof A&&null!==A){switch(A.$$typeof){case E:e:{for(var l=A.key,c=i;null!==c;){if(c.key===l){if((l=A.type)===v){if(7===c.tag){n(r,c.sibling),(i=s(c,A.props.children)).return=r,r=i;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===U&&wi(l)===c.type){n(r,c.sibling),(i=s(c,A.props)).ref=gi(r,c,A),i.return=r,r=i;break e}n(r,c);break}t(r,c),c=c.sibling}A.type===v?((i=Dl(A.props.children,r.mode,a,A.key)).return=r,r=i):((a=Ql(A.type,A.key,A.props,null,r.mode,a)).ref=gi(r,i,A),a.return=r,r=a)}return o(r);case b:e:{for(c=A.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===A.containerInfo&&i.stateNode.implementation===A.implementation){n(r,i.sibling),(i=s(i,A.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Nl(A,r.mode,a)).return=r,r=i}return o(r);case U:return e(r,i,(c=A._init)(A._payload),a)}if(te(A))return f(r,i,A,a);if(D(A))return g(r,i,A,a);mi(r,A)}return"string"===typeof A&&""!==A||"number"===typeof A?(A=""+A,null!==i&&6===i.tag?(n(r,i.sibling),(i=s(i,A)).return=r,r=i):(n(r,i),(i=Rl(A,r.mode,a)).return=r,r=i),o(r)):n(r,i)}}var Bi=yi(!0),Ei=yi(!1),bi=Cs(null),vi=null,Ci=null,Ti=null;function _i(){Ti=Ci=vi=null}function Si(e){var t=bi.current;Ts(bi),e._currentValue=t}function Ii(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xi(e,t){vi=e,Ti=Ci=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yo=!0),e.firstContext=null)}function ki(e){var t=e._currentValue;if(Ti!==e)if(e={context:e,memoizedValue:t,next:null},null===Ci){if(null===vi)throw Error(i(308));Ci=e,vi.dependencies={lanes:0,firstContext:e}}else Ci=Ci.next=e;return t}var Fi=null;function Ui(e){null===Fi?Fi=[e]:Fi.push(e)}function Li(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Ui(t)):(n.next=s.next,s.next=n),t.interleaved=n,Qi(e,r)}function Qi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Di=!1;function Oi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ri(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ni(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ia)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Qi(e,n)}return null===(s=r.interleaved)?(t.next=t,Ui(r)):(t.next=s.next,s.next=t),r.interleaved=t,Qi(e,n)}function Pi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,wt(e,n)}}function Hi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var A={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?s=i=A:i=i.next=A,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ki(e,t,n,r){var s=e.updateQueue;Di=!1;var i=s.firstBaseUpdate,A=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var a=o,l=a.next;a.next=null,null===A?i=l:A.next=l,A=a;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==A&&(null===o?c.firstBaseUpdate=l:o.next=l,c.lastBaseUpdate=a))}if(null!==i){var u=s.baseState;for(A=0,c=l=a=null,o=i;;){var h=o.lane,d=o.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,f=o;switch(h=t,d=n,f.tag){case 1:if("function"===typeof(p=f.payload)){u=p.call(d,u,h);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=f.payload)?p.call(d,u,h):p)||void 0===h)break e;u=R({},u,h);break e;case 2:Di=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[o]:h.push(o))}else d={eventTime:d,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(l=c=d,a=u):c=c.next=d,A|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(h=o).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===c&&(a=u),s.baseState=a,s.firstBaseUpdate=l,s.lastBaseUpdate=c,null!==(t=s.shared.interleaved)){s=t;do{A|=s.lane,s=s.next}while(s!==t)}else null===i&&(s.shared.lanes=0);Oa|=A,e.lanes=A,e.memoizedState=u}}function Gi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(i(191,s));s.call(r)}}}var ji={},Vi=Cs(ji),zi=Cs(ji),Wi=Cs(ji);function Yi(e){if(e===ji)throw Error(i(174));return e}function Xi(e,t){switch(_s(Wi,t),_s(zi,e),_s(Vi,ji),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ae(null,"");break;default:t=ae(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ts(Vi),_s(Vi,t)}function qi(){Ts(Vi),Ts(zi),Ts(Wi)}function $i(e){Yi(Wi.current);var t=Yi(Vi.current),n=ae(t,e.type);t!==n&&(_s(zi,e),_s(Vi,n))}function Ji(e){zi.current===e&&(Ts(Vi),Ts(zi))}var Zi=Cs(0);function eA(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tA=[];function nA(){for(var e=0;e<tA.length;e++)tA[e]._workInProgressVersionPrimary=null;tA.length=0}var rA=B.ReactCurrentDispatcher,sA=B.ReactCurrentBatchConfig,iA=0,AA=null,oA=null,aA=null,lA=!1,cA=!1,uA=0,hA=0;function dA(){throw Error(i(321))}function pA(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function fA(e,t,n,r,s,A){if(iA=A,AA=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rA.current=null===e||null===e.memoizedState?JA:ZA,e=n(r,s),cA){A=0;do{if(cA=!1,uA=0,25<=A)throw Error(i(301));A+=1,aA=oA=null,t.updateQueue=null,rA.current=eo,e=n(r,s)}while(cA)}if(rA.current=$A,t=null!==oA&&null!==oA.next,iA=0,aA=oA=AA=null,lA=!1,t)throw Error(i(300));return e}function gA(){var e=0!==uA;return uA=0,e}function mA(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===aA?AA.memoizedState=aA=e:aA=aA.next=e,aA}function wA(){if(null===oA){var e=AA.alternate;e=null!==e?e.memoizedState:null}else e=oA.next;var t=null===aA?AA.memoizedState:aA.next;if(null!==t)aA=t,oA=e;else{if(null===e)throw Error(i(310));e={memoizedState:(oA=e).memoizedState,baseState:oA.baseState,baseQueue:oA.baseQueue,queue:oA.queue,next:null},null===aA?AA.memoizedState=aA=e:aA=aA.next=e}return aA}function yA(e,t){return"function"===typeof t?t(e):t}function BA(e){var t=wA(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=oA,s=r.baseQueue,A=n.pending;if(null!==A){if(null!==s){var o=s.next;s.next=A.next,A.next=o}r.baseQueue=s=A,n.pending=null}if(null!==s){A=s.next,r=r.baseState;var a=o=null,l=null,c=A;do{var u=c.lane;if((iA&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(a=l=h,o=r):l=l.next=h,AA.lanes|=u,Oa|=u}c=c.next}while(null!==c&&c!==A);null===l?o=r:l.next=a,or(r,t.memoizedState)||(yo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{A=s.lane,AA.lanes|=A,Oa|=A,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function EA(e){var t=wA(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,A=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{A=e(A,o.action),o=o.next}while(o!==s);or(A,t.memoizedState)||(yo=!0),t.memoizedState=A,null===t.baseQueue&&(t.baseState=A),n.lastRenderedState=A}return[A,r]}function bA(){}function vA(e,t){var n=AA,r=wA(),s=t(),A=!or(r.memoizedState,s);if(A&&(r.memoizedState=s,yo=!0),r=r.queue,DA(_A.bind(null,n,r,e),[e]),r.getSnapshot!==t||A||null!==aA&&1&aA.memoizedState.tag){if(n.flags|=2048,kA(9,TA.bind(null,n,r,s,t),void 0,null),null===xa)throw Error(i(349));0!==(30&iA)||CA(n,t,s)}return s}function CA(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=AA.updateQueue)?(t={lastEffect:null,stores:null},AA.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function TA(e,t,n,r){t.value=n,t.getSnapshot=r,SA(t)&&IA(e)}function _A(e,t,n){return n((function(){SA(t)&&IA(e)}))}function SA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function IA(e){var t=Qi(e,1);null!==t&&nl(t,e,1,-1)}function xA(e){var t=mA();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yA,lastRenderedState:e},t.queue=e,e=e.dispatch=WA.bind(null,AA,e),[t.memoizedState,e]}function kA(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=AA.updateQueue)?(t={lastEffect:null,stores:null},AA.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function FA(){return wA().memoizedState}function UA(e,t,n,r){var s=mA();AA.flags|=e,s.memoizedState=kA(1|t,n,void 0,void 0===r?null:r)}function LA(e,t,n,r){var s=wA();r=void 0===r?null:r;var i=void 0;if(null!==oA){var A=oA.memoizedState;if(i=A.destroy,null!==r&&pA(r,A.deps))return void(s.memoizedState=kA(t,n,i,r))}AA.flags|=e,s.memoizedState=kA(1|t,n,i,r)}function QA(e,t){return UA(8390656,8,e,t)}function DA(e,t){return LA(2048,8,e,t)}function OA(e,t){return LA(4,2,e,t)}function RA(e,t){return LA(4,4,e,t)}function NA(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function MA(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,LA(4,4,NA.bind(null,t,e),n)}function PA(){}function HA(e,t){var n=wA();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pA(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function KA(e,t){var n=wA();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pA(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function GA(e,t,n){return 0===(21&iA)?(e.baseState&&(e.baseState=!1,yo=!0),e.memoizedState=n):(or(n,t)||(n=ft(),AA.lanes|=n,Oa|=n,e.baseState=!0),t)}function jA(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=sA.transition;sA.transition={};try{e(!1),t()}finally{yt=n,sA.transition=r}}function VA(){return wA().memoizedState}function zA(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},YA(e))XA(t,n);else if(null!==(n=Li(e,t,n,r))){nl(n,e,r,el()),qA(n,t,r)}}function WA(e,t,n){var r=tl(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(YA(e))XA(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var A=t.lastRenderedState,o=i(A,n);if(s.hasEagerState=!0,s.eagerState=o,or(o,A)){var a=t.interleaved;return null===a?(s.next=s,Ui(t)):(s.next=a.next,a.next=s),void(t.interleaved=s)}}catch(l){}null!==(n=Li(e,t,s,r))&&(nl(n,e,r,s=el()),qA(n,t,r))}}function YA(e){var t=e.alternate;return e===AA||null!==t&&t===AA}function XA(e,t){cA=lA=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qA(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,wt(e,n)}}var $A={readContext:ki,useCallback:dA,useContext:dA,useEffect:dA,useImperativeHandle:dA,useInsertionEffect:dA,useLayoutEffect:dA,useMemo:dA,useReducer:dA,useRef:dA,useState:dA,useDebugValue:dA,useDeferredValue:dA,useTransition:dA,useMutableSource:dA,useSyncExternalStore:dA,useId:dA,unstable_isNewReconciler:!1},JA={readContext:ki,useCallback:function(e,t){return mA().memoizedState=[e,void 0===t?null:t],e},useContext:ki,useEffect:QA,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,UA(4194308,4,NA.bind(null,t,e),n)},useLayoutEffect:function(e,t){return UA(4194308,4,e,t)},useInsertionEffect:function(e,t){return UA(4,2,e,t)},useMemo:function(e,t){var n=mA();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=mA();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=zA.bind(null,AA,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},mA().memoizedState=e},useState:xA,useDebugValue:PA,useDeferredValue:function(e){return mA().memoizedState=e},useTransition:function(){var e=xA(!1),t=e[0];return e=jA.bind(null,e[1]),mA().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=AA,s=mA();if(si){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===xa)throw Error(i(349));0!==(30&iA)||CA(r,t,n)}s.memoizedState=n;var A={value:n,getSnapshot:t};return s.queue=A,QA(_A.bind(null,r,A,e),[e]),r.flags|=2048,kA(9,TA.bind(null,r,A,n,t),void 0,null),n},useId:function(){var e=mA(),t=xa.identifierPrefix;if(si){var n=$s;t=":"+t+"R"+(n=(qs&~(1<<32-At(qs)-1)).toString(32)+n),0<(n=uA++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hA++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ZA={readContext:ki,useCallback:HA,useContext:ki,useEffect:DA,useImperativeHandle:MA,useInsertionEffect:OA,useLayoutEffect:RA,useMemo:KA,useReducer:BA,useRef:FA,useState:function(){return BA(yA)},useDebugValue:PA,useDeferredValue:function(e){return GA(wA(),oA.memoizedState,e)},useTransition:function(){return[BA(yA)[0],wA().memoizedState]},useMutableSource:bA,useSyncExternalStore:vA,useId:VA,unstable_isNewReconciler:!1},eo={readContext:ki,useCallback:HA,useContext:ki,useEffect:DA,useImperativeHandle:MA,useInsertionEffect:OA,useLayoutEffect:RA,useMemo:KA,useReducer:EA,useRef:FA,useState:function(){return EA(yA)},useDebugValue:PA,useDeferredValue:function(e){var t=wA();return null===oA?t.memoizedState=e:GA(t,oA.memoizedState,e)},useTransition:function(){return[EA(yA)[0],wA().memoizedState]},useMutableSource:bA,useSyncExternalStore:vA,useId:VA,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=R({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:R({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Ke(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),s=tl(e),i=Ni(r,s);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Mi(e,i,s))&&(nl(t,e,s,r),Pi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),s=tl(e),i=Ni(r,s);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Mi(e,i,s))&&(nl(t,e,s,r),Pi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),s=Ni(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Mi(e,s,r))&&(nl(t,e,r,n),Pi(t,e,r))}};function so(e,t,n,r,s,i,A){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,A):!t.prototype||!t.prototype.isPureReactComponent||(!ar(n,r)||!ar(s,i))}function io(e,t,n){var r=!1,s=Ss,i=t.contextType;return"object"===typeof i&&null!==i?i=ki(i):(s=Us(t)?ks:Is.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Fs(e,s):Ss),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Oi(e);var i=t.contextType;"object"===typeof i&&null!==i?s.context=ki(i):(i=Us(t)?ks:Is.current,s.context=Fs(e,i)),s.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(no(e,t,i,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&ro.enqueueReplaceState(s,s.state,null),Ki(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function ao(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var s=n}catch(i){s="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:s,digest:null}}function lo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function co(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var uo="function"===typeof WeakMap?WeakMap:Map;function ho(e,t,n){(n=Ni(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ja||(ja=!0,Va=r),co(0,t)},n}function po(e,t,n){(n=Ni(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){co(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){co(0,t),"function"!==typeof r&&(null===za?za=new Set([this]):za.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new uo;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Tl.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function mo(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ni(-1,1)).tag=2,Mi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var wo=B.ReactCurrentOwner,yo=!1;function Bo(e,t,n,r){t.child=null===e?Ei(t,null,n,r):Bi(t,e.child,n,r)}function Eo(e,t,n,r,s){n=n.render;var i=t.ref;return xi(t,s),r=fA(e,t,n,r,i,s),n=gA(),null===e||yo?(si&&n&&ei(t),t.flags|=1,Bo(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,jo(e,t,s))}function bo(e,t,n,r,s){if(null===e){var i=n.type;return"function"!==typeof i||Ul(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ql(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,vo(e,t,i,r,s))}if(i=e.child,0===(e.lanes&s)){var A=i.memoizedProps;if((n=null!==(n=n.compare)?n:ar)(A,r)&&e.ref===t.ref)return jo(e,t,s)}return t.flags|=1,(e=Ll(i,r)).ref=t.ref,e.return=t,t.child=e}function vo(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if(ar(i,r)&&e.ref===t.ref){if(yo=!1,t.pendingProps=r=i,0===(e.lanes&s))return t.lanes=e.lanes,jo(e,t,s);0!==(131072&e.flags)&&(yo=!0)}}return _o(e,t,n,r,s)}function Co(e,t,n){var r=t.pendingProps,s=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_s(La,Ua),Ua|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_s(La,Ua),Ua|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,_s(La,Ua),Ua|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,_s(La,Ua),Ua|=r;return Bo(e,t,s,n),t.child}function To(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _o(e,t,n,r,s){var i=Us(n)?ks:Is.current;return i=Fs(t,i),xi(t,s),n=fA(e,t,n,r,i,s),r=gA(),null===e||yo?(si&&r&&ei(t),t.flags|=1,Bo(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,jo(e,t,s))}function So(e,t,n,r,s){if(Us(n)){var i=!0;Os(t)}else i=!1;if(xi(t,s),null===t.stateNode)Go(e,t),io(t,n,r),oo(t,n,r,s),r=!0;else if(null===e){var A=t.stateNode,o=t.memoizedProps;A.props=o;var a=A.context,l=n.contextType;"object"===typeof l&&null!==l?l=ki(l):l=Fs(t,l=Us(n)?ks:Is.current);var c=n.getDerivedStateFromProps,u="function"===typeof c||"function"===typeof A.getSnapshotBeforeUpdate;u||"function"!==typeof A.UNSAFE_componentWillReceiveProps&&"function"!==typeof A.componentWillReceiveProps||(o!==r||a!==l)&&Ao(t,A,r,l),Di=!1;var h=t.memoizedState;A.state=h,Ki(t,r,A,s),a=t.memoizedState,o!==r||h!==a||xs.current||Di?("function"===typeof c&&(no(t,n,c,r),a=t.memoizedState),(o=Di||so(t,n,o,r,h,a,l))?(u||"function"!==typeof A.UNSAFE_componentWillMount&&"function"!==typeof A.componentWillMount||("function"===typeof A.componentWillMount&&A.componentWillMount(),"function"===typeof A.UNSAFE_componentWillMount&&A.UNSAFE_componentWillMount()),"function"===typeof A.componentDidMount&&(t.flags|=4194308)):("function"===typeof A.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),A.props=r,A.state=a,A.context=l,r=o):("function"===typeof A.componentDidMount&&(t.flags|=4194308),r=!1)}else{A=t.stateNode,Ri(e,t),o=t.memoizedProps,l=t.type===t.elementType?o:to(t.type,o),A.props=l,u=t.pendingProps,h=A.context,"object"===typeof(a=n.contextType)&&null!==a?a=ki(a):a=Fs(t,a=Us(n)?ks:Is.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof A.getSnapshotBeforeUpdate)||"function"!==typeof A.UNSAFE_componentWillReceiveProps&&"function"!==typeof A.componentWillReceiveProps||(o!==u||h!==a)&&Ao(t,A,r,a),Di=!1,h=t.memoizedState,A.state=h,Ki(t,r,A,s);var p=t.memoizedState;o!==u||h!==p||xs.current||Di?("function"===typeof d&&(no(t,n,d,r),p=t.memoizedState),(l=Di||so(t,n,l,r,h,p,a)||!1)?(c||"function"!==typeof A.UNSAFE_componentWillUpdate&&"function"!==typeof A.componentWillUpdate||("function"===typeof A.componentWillUpdate&&A.componentWillUpdate(r,p,a),"function"===typeof A.UNSAFE_componentWillUpdate&&A.UNSAFE_componentWillUpdate(r,p,a)),"function"===typeof A.componentDidUpdate&&(t.flags|=4),"function"===typeof A.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof A.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof A.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),A.props=r,A.state=p,A.context=a,r=l):("function"!==typeof A.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof A.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Io(e,t,n,r,i,s)}function Io(e,t,n,r,s,i){To(e,t);var A=0!==(128&t.flags);if(!r&&!A)return s&&Rs(t,n,!1),jo(e,t,i);r=t.stateNode,wo.current=t;var o=A&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&A?(t.child=Bi(t,e.child,null,i),t.child=Bi(t,null,o,i)):Bo(e,t,o,i),t.memoizedState=r.state,s&&Rs(t,n,!0),t.child}function xo(e){var t=e.stateNode;t.pendingContext?Qs(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Qs(0,t.context,!1),Xi(e,t.containerInfo)}function ko(e,t,n,r,s){return di(),pi(s),t.flags|=256,Bo(e,t,n,r),t.child}var Fo,Uo,Lo,Qo,Do={dehydrated:null,treeContext:null,retryLane:0};function Oo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ro(e,t,n){var r,s=t.pendingProps,A=Zi.current,o=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&A)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(A|=1),_s(Zi,1&A),null===e)return li(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=s.children,e=s.fallback,o?(s=t.mode,o=t.child,a={mode:"hidden",children:a},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=a):o=Ol(a,s,0,null),e=Dl(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Oo(n),t.memoizedState=Do,e):No(t,a));if(null!==(A=e.memoizedState)&&null!==(r=A.dehydrated))return function(e,t,n,r,s,A,o){if(n)return 256&t.flags?(t.flags&=-257,Mo(e,t,o,r=lo(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(A=r.fallback,s=t.mode,r=Ol({mode:"visible",children:r.children},s,0,null),(A=Dl(A,s,o,null)).flags|=2,r.return=t,A.return=t,r.sibling=A,t.child=r,0!==(1&t.mode)&&Bi(t,e.child,null,o),t.child.memoizedState=Oo(o),t.memoizedState=Do,A);if(0===(1&t.mode))return Mo(e,t,o,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var a=r.dgst;return r=a,Mo(e,t,o,r=lo(A=Error(i(419)),r,void 0))}if(a=0!==(o&e.childLanes),yo||a){if(null!==(r=xa)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|o))?0:s)&&s!==A.retryLane&&(A.retryLane=s,Qi(e,s),nl(r,e,s,-1))}return fl(),Mo(e,t,o,r=lo(Error(i(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Sl.bind(null,e),s._reactRetry=t,null):(e=A.treeContext,ri=ls(s.nextSibling),ni=t,si=!0,ii=null,null!==e&&(Ws[Ys++]=qs,Ws[Ys++]=$s,Ws[Ys++]=Xs,qs=e.id,$s=e.overflow,Xs=t),t=No(t,r.children),t.flags|=4096,t)}(e,t,a,s,r,A,n);if(o){o=s.fallback,a=t.mode,r=(A=e.child).sibling;var l={mode:"hidden",children:s.children};return 0===(1&a)&&t.child!==A?((s=t.child).childLanes=0,s.pendingProps=l,t.deletions=null):(s=Ll(A,l)).subtreeFlags=14680064&A.subtreeFlags,null!==r?o=Ll(r,o):(o=Dl(o,a,n,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,a=null===(a=e.child.memoizedState)?Oo(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Do,s}return e=(o=e.child).sibling,s=Ll(o,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function No(e,t){return(t=Ol({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Mo(e,t,n,r){return null!==r&&pi(r),Bi(t,e.child,null,n),(e=No(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Po(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ii(e.return,t,n)}function Ho(e,t,n,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Ko(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Bo(e,t,r.children,n),0!==(2&(r=Zi.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Po(e,n,t);else if(19===e.tag)Po(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_s(Zi,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===eA(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ho(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===eA(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ho(t,!0,n,null,i);break;case"together":Ho(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Go(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Oa|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Ll(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ll(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vo(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function zo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wo(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zo(t),null;case 1:case 17:return Us(t.type)&&Ls(),zo(t),null;case 3:return r=t.stateNode,qi(),Ts(xs),Ts(Is),nA(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ui(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(Al(ii),ii=null))),Uo(e,t),zo(t),null;case 5:Ji(t);var s=Yi(Wi.current);if(n=t.type,null!==e&&null!=t.stateNode)Lo(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return zo(t),null}if(e=Yi(Vi.current),ui(t)){r=t.stateNode,n=t.type;var A=t.memoizedProps;switch(r[hs]=t,r[ds]=A,e=0!==(1&t.mode),n){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(s=0;s<Dr.length;s++)Mr(Dr[s],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":q(r,A),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!A.multiple},Mr("invalid",r);break;case"textarea":se(r,A),Mr("invalid",r)}for(var a in we(n,A),s=null,A)if(A.hasOwnProperty(a)){var l=A[a];"children"===a?"string"===typeof l?r.textContent!==l&&(!0!==A.suppressHydrationWarning&&Jr(r.textContent,l,e),s=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==A.suppressHydrationWarning&&Jr(r.textContent,l,e),s=["children",""+l]):o.hasOwnProperty(a)&&null!=l&&"onScroll"===a&&Mr("scroll",r)}switch(n){case"input":z(r),Z(r,A,!0);break;case"textarea":z(r),Ae(r);break;case"select":case"option":break;default:"function"===typeof A.onClick&&(r.onclick=Zr)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{a=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),"select"===n&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[hs]=t,e[ds]=r,Fo(e,t,!1,!1),t.stateNode=e;e:{switch(a=ye(n,r),n){case"dialog":Mr("cancel",e),Mr("close",e),s=r;break;case"iframe":case"object":case"embed":Mr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Dr.length;s++)Mr(Dr[s],e);s=r;break;case"source":Mr("error",e),s=r;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),s=r;break;case"details":Mr("toggle",e),s=r;break;case"input":q(e,r),s=X(e,r),Mr("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=R({},r,{value:void 0}),Mr("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Mr("invalid",e)}for(A in we(n,s),l=s)if(l.hasOwnProperty(A)){var c=l[A];"style"===A?ge(e,c):"dangerouslySetInnerHTML"===A?null!=(c=c?c.__html:void 0)&&ue(e,c):"children"===A?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==A&&"suppressHydrationWarning"!==A&&"autoFocus"!==A&&(o.hasOwnProperty(A)?null!=c&&"onScroll"===A&&Mr("scroll",e):null!=c&&y(e,A,c,a))}switch(n){case"input":z(e),Z(e,r,!1);break;case"textarea":z(e),Ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+j(r.value));break;case"select":e.multiple=!!r.multiple,null!=(A=r.value)?ne(e,!!r.multiple,A,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return zo(t),null;case 6:if(e&&null!=t.stateNode)Qo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Yi(Wi.current),Yi(Vi.current),ui(t)){if(r=t.stateNode,n=t.memoizedProps,r[hs]=t,(A=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}A&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hs]=t,t.stateNode=r}return zo(t),null;case 13:if(Ts(Zi),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(si&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))hi(),di(),t.flags|=98560,A=!1;else if(A=ui(t),null!==r&&null!==r.dehydrated){if(null===e){if(!A)throw Error(i(318));if(!(A=null!==(A=t.memoizedState)?A.dehydrated:null))throw Error(i(317));A[hs]=t}else di(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;zo(t),A=!1}else null!==ii&&(Al(ii),ii=null),A=!0;if(!A)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zi.current)?0===Qa&&(Qa=3):fl())),null!==t.updateQueue&&(t.flags|=4),zo(t),null);case 4:return qi(),Uo(e,t),null===e&&Kr(t.stateNode.containerInfo),zo(t),null;case 10:return Si(t.type._context),zo(t),null;case 19:if(Ts(Zi),null===(A=t.memoizedState))return zo(t),null;if(r=0!==(128&t.flags),null===(a=A.rendering))if(r)Vo(A,!1);else{if(0!==Qa||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=eA(e))){for(t.flags|=128,Vo(A,!1),null!==(r=a.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(A=n).flags&=14680066,null===(a=A.alternate)?(A.childLanes=0,A.lanes=e,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=a.childLanes,A.lanes=a.lanes,A.child=a.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=a.memoizedProps,A.memoizedState=a.memoizedState,A.updateQueue=a.updateQueue,A.type=a.type,e=a.dependencies,A.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _s(Zi,1&Zi.current|2),t.child}e=e.sibling}null!==A.tail&&$e()>Ka&&(t.flags|=128,r=!0,Vo(A,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eA(a))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vo(A,!0),null===A.tail&&"hidden"===A.tailMode&&!a.alternate&&!si)return zo(t),null}else 2*$e()-A.renderingStartTime>Ka&&1073741824!==n&&(t.flags|=128,r=!0,Vo(A,!1),t.lanes=4194304);A.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=A.last)?n.sibling=a:t.child=a,A.last=a)}return null!==A.tail?(t=A.tail,A.rendering=t,A.tail=t.sibling,A.renderingStartTime=$e(),t.sibling=null,n=Zi.current,_s(Zi,r?1&n|2:1&n),t):(zo(t),null);case 22:case 23:return ul(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ua)&&(zo(t),6&t.subtreeFlags&&(t.flags|=8192)):zo(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Yo(e,t){switch(ti(t),t.tag){case 1:return Us(t.type)&&Ls(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return qi(),Ts(xs),Ts(Is),nA(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ji(t),null;case 13:if(Ts(Zi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));di()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ts(Zi),null;case 4:return qi(),null;case 10:return Si(t.type._context),null;case 22:case 23:return ul(),null;default:return null}}Fo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Uo=function(){},Lo=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Yi(Vi.current);var i,A=null;switch(n){case"input":s=X(e,s),r=X(e,r),A=[];break;case"select":s=R({},s,{value:void 0}),r=R({},r,{value:void 0}),A=[];break;case"textarea":s=re(e,s),r=re(e,r),A=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in we(n,r),n=null,s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&null!=s[c])if("style"===c){var a=s[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?A||(A=[]):(A=A||[]).push(c,null));for(c in r){var l=r[c];if(a=null!=s?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(null!=l||null!=a))if("style"===c)if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(A||(A=[]),A.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,a=a?a.__html:void 0,null!=l&&a!==l&&(A=A||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(A=A||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Mr("scroll",e),A||a===l||(A=[])):(A=A||[]).push(c,l))}n&&(A=A||[]).push("style",n);var c=A;(t.updateQueue=c)&&(t.flags|=4)}},Qo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xo=!1,qo=!1,$o="function"===typeof WeakSet?WeakSet:Set,Jo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cl(e,t,r)}else n.current=null}function ea(e,t,n){try{n()}catch(r){Cl(e,t,r)}}var ta=!1;function na(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,void 0!==i&&ea(t,n,i)}s=s.next}while(s!==r)}}function ra(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sa(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ia(e){var t=e.alternate;null!==t&&(e.alternate=null,ia(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hs],delete t[ds],delete t[fs],delete t[gs],delete t[ms])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Aa(e){return 5===e.tag||3===e.tag||4===e.tag}function oa(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Aa(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function aa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(aa(e,t,n),e=e.sibling;null!==e;)aa(e,t,n),e=e.sibling}function la(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(la(e,t,n),e=e.sibling;null!==e;)la(e,t,n),e=e.sibling}var ca=null,ua=!1;function ha(e,t,n){for(n=n.child;null!==n;)da(e,t,n),n=n.sibling}function da(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(st,n)}catch(o){}switch(n.tag){case 5:qo||Zo(n,t);case 6:var r=ca,s=ua;ca=null,ha(e,t,n),ua=s,null!==(ca=r)&&(ua?(e=ca,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ca.removeChild(n.stateNode));break;case 18:null!==ca&&(ua?(e=ca,n=n.stateNode,8===e.nodeType?as(e.parentNode,n):1===e.nodeType&&as(e,n),Kt(e)):as(ca,n.stateNode));break;case 4:r=ca,s=ua,ca=n.stateNode.containerInfo,ua=!0,ha(e,t,n),ca=r,ua=s;break;case 0:case 11:case 14:case 15:if(!qo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var i=s,A=i.destroy;i=i.tag,void 0!==A&&(0!==(2&i)||0!==(4&i))&&ea(n,t,A),s=s.next}while(s!==r)}ha(e,t,n);break;case 1:if(!qo&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Cl(n,t,o)}ha(e,t,n);break;case 21:ha(e,t,n);break;case 22:1&n.mode?(qo=(r=qo)||null!==n.memoizedState,ha(e,t,n),qo=r):ha(e,t,n);break;default:ha(e,t,n)}}function pa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $o),t.forEach((function(t){var r=Il.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function fa(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var A=e,o=t,a=o;e:for(;null!==a;){switch(a.tag){case 5:ca=a.stateNode,ua=!1;break e;case 3:case 4:ca=a.stateNode.containerInfo,ua=!0;break e}a=a.return}if(null===ca)throw Error(i(160));da(A,o,s),ca=null,ua=!1;var l=s.alternate;null!==l&&(l.return=null),s.return=null}catch(c){Cl(s,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ga(t,e),t=t.sibling}function ga(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fa(t,e),ma(e),4&r){try{na(3,e,e.return),ra(3,e)}catch(g){Cl(e,e.return,g)}try{na(5,e,e.return)}catch(g){Cl(e,e.return,g)}}break;case 1:fa(t,e),ma(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(fa(t,e),ma(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var s=e.stateNode;try{he(s,"")}catch(g){Cl(e,e.return,g)}}if(4&r&&null!=(s=e.stateNode)){var A=e.memoizedProps,o=null!==n?n.memoizedProps:A,a=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===a&&"radio"===A.type&&null!=A.name&&$(s,A),ye(a,o);var c=ye(a,A);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];"style"===u?ge(s,h):"dangerouslySetInnerHTML"===u?ue(s,h):"children"===u?he(s,h):y(s,u,h,c)}switch(a){case"input":J(s,A);break;case"textarea":ie(s,A);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!A.multiple;var p=A.value;null!=p?ne(s,!!A.multiple,p,!1):d!==!!A.multiple&&(null!=A.defaultValue?ne(s,!!A.multiple,A.defaultValue,!0):ne(s,!!A.multiple,A.multiple?[]:"",!1))}s[ds]=A}catch(g){Cl(e,e.return,g)}}break;case 6:if(fa(t,e),ma(e),4&r){if(null===e.stateNode)throw Error(i(162));s=e.stateNode,A=e.memoizedProps;try{s.nodeValue=A}catch(g){Cl(e,e.return,g)}}break;case 3:if(fa(t,e),ma(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Kt(t.containerInfo)}catch(g){Cl(e,e.return,g)}break;case 4:default:fa(t,e),ma(e);break;case 13:fa(t,e),ma(e),8192&(s=e.child).flags&&(A=null!==s.memoizedState,s.stateNode.isHidden=A,!A||null!==s.alternate&&null!==s.alternate.memoizedState||(Ha=$e())),4&r&&pa(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(qo=(c=qo)||u,fa(t,e),qo=c):fa(t,e),ma(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!u&&0!==(1&e.mode))for(Jo=e,u=e.child;null!==u;){for(h=Jo=u;null!==Jo;){switch(p=(d=Jo).child,d.tag){case 0:case 11:case 14:case 15:na(4,d,d.return);break;case 1:Zo(d,d.return);var f=d.stateNode;if("function"===typeof f.componentWillUnmount){r=d,n=d.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){Cl(r,n,g)}}break;case 5:Zo(d,d.return);break;case 22:if(null!==d.memoizedState){Ea(h);continue}}null!==p?(p.return=d,Jo=p):Ea(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{s=h.stateNode,c?"function"===typeof(A=s.style).setProperty?A.setProperty("display","none","important"):A.display="none":(a=h.stateNode,o=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,a.style.display=fe("display",o))}catch(g){Cl(e,e.return,g)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){Cl(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fa(t,e),ma(e),4&r&&pa(e);case 21:}}function ma(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(Aa(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(he(s,""),r.flags&=-33),la(e,oa(e),s);break;case 3:case 4:var A=r.stateNode.containerInfo;aa(e,oa(e),A);break;default:throw Error(i(161))}}catch(o){Cl(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wa(e,t,n){Jo=e,ya(e,t,n)}function ya(e,t,n){for(var r=0!==(1&e.mode);null!==Jo;){var s=Jo,i=s.child;if(22===s.tag&&r){var A=null!==s.memoizedState||Xo;if(!A){var o=s.alternate,a=null!==o&&null!==o.memoizedState||qo;o=Xo;var l=qo;if(Xo=A,(qo=a)&&!l)for(Jo=s;null!==Jo;)a=(A=Jo).child,22===A.tag&&null!==A.memoizedState?ba(s):null!==a?(a.return=A,Jo=a):ba(s);for(;null!==i;)Jo=i,ya(i,t,n),i=i.sibling;Jo=s,Xo=o,qo=l}Ba(e)}else 0!==(8772&s.subtreeFlags)&&null!==i?(i.return=s,Jo=i):Ba(e)}}function Ba(e){for(;null!==Jo;){var t=Jo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:qo||ra(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!qo)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var A=t.updateQueue;null!==A&&Gi(t,A,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Gi(t,o,n)}break;case 5:var a=t.stateNode;if(null===n&&4&t.flags){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Kt(h)}}}break;default:throw Error(i(163))}qo||512&t.flags&&sa(t)}catch(d){Cl(t,t.return,d)}}if(t===e){Jo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jo=n;break}Jo=t.return}}function Ea(e){for(;null!==Jo;){var t=Jo;if(t===e){Jo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jo=n;break}Jo=t.return}}function ba(e){for(;null!==Jo;){var t=Jo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ra(4,t)}catch(a){Cl(t,n,a)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(a){Cl(t,s,a)}}var i=t.return;try{sa(t)}catch(a){Cl(t,i,a)}break;case 5:var A=t.return;try{sa(t)}catch(a){Cl(t,A,a)}}}catch(a){Cl(t,t.return,a)}if(t===e){Jo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Jo=o;break}Jo=t.return}}var va,Ca=Math.ceil,Ta=B.ReactCurrentDispatcher,_a=B.ReactCurrentOwner,Sa=B.ReactCurrentBatchConfig,Ia=0,xa=null,ka=null,Fa=0,Ua=0,La=Cs(0),Qa=0,Da=null,Oa=0,Ra=0,Na=0,Ma=null,Pa=null,Ha=0,Ka=1/0,Ga=null,ja=!1,Va=null,za=null,Wa=!1,Ya=null,Xa=0,qa=0,$a=null,Ja=-1,Za=0;function el(){return 0!==(6&Ia)?$e():-1!==Ja?Ja:Ja=$e()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Ia)&&0!==Fa?Fa&-Fa:null!==fi.transition?(0===Za&&(Za=ft()),Za):0!==(e=yt)?e:e=void 0===(e=window.event)?16:qt(e.type)}function nl(e,t,n,r){if(50<qa)throw qa=0,$a=null,Error(i(185));mt(e,n,r),0!==(2&Ia)&&e===xa||(e===xa&&(0===(2&Ia)&&(Ra|=n),4===Qa&&ol(e,Fa)),rl(e,r),1===n&&0===Ia&&0===(1&t.mode)&&(Ka=$e()+500,Ms&&Ks()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var A=31-At(i),o=1<<A,a=s[A];-1===a?0!==(o&n)&&0===(o&r)||(s[A]=dt(o,t)):a<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var r=ht(e,e===xa?Fa:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ms=!0,Hs(e)}(al.bind(null,e)):Hs(al.bind(null,e)),As((function(){0===(6&Ia)&&Ks()})),n=null;else{switch(Bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=xl(n,sl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sl(e,t){if(Ja=-1,Za=0,0!==(6&Ia))throw Error(i(327));var n=e.callbackNode;if(bl()&&e.callbackNode!==n)return null;var r=ht(e,e===xa?Fa:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gl(e,r);else{t=r;var s=Ia;Ia|=2;var A=pl();for(xa===e&&Fa===t||(Ga=null,Ka=$e()+500,hl(e,t));;)try{wl();break}catch(a){dl(e,a)}_i(),Ta.current=A,Ia=s,null!==ka?t=0:(xa=null,Fa=0,t=Qa)}if(0!==t){if(2===t&&(0!==(s=pt(e))&&(r=s,t=il(e,s))),1===t)throw n=Da,hl(e,0),ol(e,r),rl(e,$e()),n;if(6===t)ol(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!or(i(),s))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=gl(e,r))&&(0!==(A=pt(e))&&(r=A,t=il(e,A))),1===t))throw n=Da,hl(e,0),ol(e,r),rl(e,$e()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:El(e,Pa,Ga);break;case 3:if(ol(e,r),(130023424&r)===r&&10<(t=Ha+500-$e())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(El.bind(null,e,Pa,Ga),t);break}El(e,Pa,Ga);break;case 4:if(ol(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-At(r);A=1<<o,(o=t[o])>s&&(s=o),r&=~A}if(r=s,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ca(r/1960))-r)){e.timeoutHandle=rs(El.bind(null,e,Pa,Ga),r);break}El(e,Pa,Ga);break;default:throw Error(i(329))}}}return rl(e,$e()),e.callbackNode===n?sl.bind(null,e):null}function il(e,t){var n=Ma;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=gl(e,t))&&(t=Pa,Pa=n,null!==t&&Al(t)),e}function Al(e){null===Pa?Pa=e:Pa.push.apply(Pa,e)}function ol(e,t){for(t&=~Na,t&=~Ra,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-At(t),r=1<<n;e[n]=-1,t&=~r}}function al(e){if(0!==(6&Ia))throw Error(i(327));bl();var t=ht(e,0);if(0===(1&t))return rl(e,$e()),null;var n=gl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=il(e,r))}if(1===n)throw n=Da,hl(e,0),ol(e,t),rl(e,$e()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,El(e,Pa,Ga),rl(e,$e()),null}function ll(e,t){var n=Ia;Ia|=1;try{return e(t)}finally{0===(Ia=n)&&(Ka=$e()+500,Ms&&Ks())}}function cl(e){null!==Ya&&0===Ya.tag&&0===(6&Ia)&&bl();var t=Ia;Ia|=1;var n=Sa.transition,r=yt;try{if(Sa.transition=null,yt=1,e)return e()}finally{yt=r,Sa.transition=n,0===(6&(Ia=t))&&Ks()}}function ul(){Ua=La.current,Ts(La)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==ka)for(n=ka.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ls();break;case 3:qi(),Ts(xs),Ts(Is),nA();break;case 5:Ji(r);break;case 4:qi();break;case 13:case 19:Ts(Zi);break;case 10:Si(r.type._context);break;case 22:case 23:ul()}n=n.return}if(xa=e,ka=e=Ll(e.current,null),Fa=Ua=t,Qa=0,Da=null,Na=Ra=Oa=0,Pa=Ma=null,null!==Fi){for(t=0;t<Fi.length;t++)if(null!==(r=(n=Fi[t]).interleaved)){n.interleaved=null;var s=r.next,i=n.pending;if(null!==i){var A=i.next;i.next=s,r.next=A}n.pending=r}Fi=null}return e}function dl(e,t){for(;;){var n=ka;try{if(_i(),rA.current=$A,lA){for(var r=AA.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}lA=!1}if(iA=0,aA=oA=AA=null,cA=!1,uA=0,_a.current=null,null===n||null===n.return){Qa=1,Da=t,ka=null;break}e:{var A=e,o=n.return,a=n,l=t;if(t=Fa,a.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,u=a,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,mo(p,o,a,0,t),1&p.mode&&fo(A,c,t),l=c;var f=(t=p).updateQueue;if(null===f){var g=new Set;g.add(l),t.updateQueue=g}else f.add(l);break e}if(0===(1&t)){fo(A,c,t),fl();break e}l=Error(i(426))}else if(si&&1&a.mode){var m=go(o);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),mo(m,o,a,0,t),pi(ao(l,a));break e}}A=l=ao(l,a),4!==Qa&&(Qa=2),null===Ma?Ma=[A]:Ma.push(A),A=o;do{switch(A.tag){case 3:A.flags|=65536,t&=-t,A.lanes|=t,Hi(A,ho(0,l,t));break e;case 1:a=l;var w=A.type,y=A.stateNode;if(0===(128&A.flags)&&("function"===typeof w.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===za||!za.has(y)))){A.flags|=65536,t&=-t,A.lanes|=t,Hi(A,po(A,a,t));break e}}A=A.return}while(null!==A)}Bl(n)}catch(B){t=B,ka===n&&null!==n&&(ka=n=n.return);continue}break}}function pl(){var e=Ta.current;return Ta.current=$A,null===e?$A:e}function fl(){0!==Qa&&3!==Qa&&2!==Qa||(Qa=4),null===xa||0===(268435455&Oa)&&0===(268435455&Ra)||ol(xa,Fa)}function gl(e,t){var n=Ia;Ia|=2;var r=pl();for(xa===e&&Fa===t||(Ga=null,hl(e,t));;)try{ml();break}catch(s){dl(e,s)}if(_i(),Ia=n,Ta.current=r,null!==ka)throw Error(i(261));return xa=null,Fa=0,Qa}function ml(){for(;null!==ka;)yl(ka)}function wl(){for(;null!==ka&&!Xe();)yl(ka)}function yl(e){var t=va(e.alternate,e,Ua);e.memoizedProps=e.pendingProps,null===t?Bl(e):ka=t,_a.current=null}function Bl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wo(n,t,Ua)))return void(ka=n)}else{if(null!==(n=Yo(n,t)))return n.flags&=32767,void(ka=n);if(null===e)return Qa=6,void(ka=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ka=t);ka=t=e}while(null!==t);0===Qa&&(Qa=5)}function El(e,t,n){var r=yt,s=Sa.transition;try{Sa.transition=null,yt=1,function(e,t,n,r){do{bl()}while(null!==Ya);if(0!==(6&Ia))throw Error(i(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var A=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-At(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}(e,A),e===xa&&(ka=xa=null,Fa=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Wa||(Wa=!0,xl(tt,(function(){return bl(),null}))),A=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||A){A=Sa.transition,Sa.transition=null;var o=yt;yt=1;var a=Ia;Ia|=4,_a.current=null,function(e,t){if(es=jt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,A=r.focusNode;r=r.focusOffset;try{n.nodeType,A.nodeType}catch(E){n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==s&&3!==h.nodeType||(a=o+s),h!==A||0!==r&&3!==h.nodeType||(l=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===s&&(a=o),d===A&&++u===r&&(l=o),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===a||-1===l?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},jt=!1,Jo=t;null!==Jo;)if(e=(t=Jo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jo=e;else for(;null!==Jo;){t=Jo;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,m=f.memoizedState,w=t.stateNode,y=w.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),m);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var B=t.stateNode.containerInfo;1===B.nodeType?B.textContent="":9===B.nodeType&&B.documentElement&&B.removeChild(B.documentElement);break;default:throw Error(i(163))}}catch(E){Cl(t,t.return,E)}if(null!==(e=t.sibling)){e.return=t.return,Jo=e;break}Jo=t.return}f=ta,ta=!1}(e,n),ga(n,e),pr(ts),jt=!!es,ts=es=null,e.current=n,wa(n,e,s),qe(),Ia=a,yt=o,Sa.transition=A}else e.current=n;if(Wa&&(Wa=!1,Ya=e,Xa=s),A=e.pendingLanes,0===A&&(za=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ja)throw ja=!1,e=Va,Va=null,e;0!==(1&Xa)&&0!==e.tag&&bl(),A=e.pendingLanes,0!==(1&A)?e===$a?qa++:(qa=0,$a=e):qa=0,Ks()}(e,t,n,r)}finally{Sa.transition=s,yt=r}return null}function bl(){if(null!==Ya){var e=Bt(Xa),t=Sa.transition,n=yt;try{if(Sa.transition=null,yt=16>e?16:e,null===Ya)var r=!1;else{if(e=Ya,Ya=null,Xa=0,0!==(6&Ia))throw Error(i(331));var s=Ia;for(Ia|=4,Jo=e.current;null!==Jo;){var A=Jo,o=A.child;if(0!==(16&Jo.flags)){var a=A.deletions;if(null!==a){for(var l=0;l<a.length;l++){var c=a[l];for(Jo=c;null!==Jo;){var u=Jo;switch(u.tag){case 0:case 11:case 15:na(8,u,A)}var h=u.child;if(null!==h)h.return=u,Jo=h;else for(;null!==Jo;){var d=(u=Jo).sibling,p=u.return;if(ia(u),u===c){Jo=null;break}if(null!==d){d.return=p,Jo=d;break}Jo=p}}}var f=A.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Jo=A}}if(0!==(2064&A.subtreeFlags)&&null!==o)o.return=A,Jo=o;else e:for(;null!==Jo;){if(0!==(2048&(A=Jo).flags))switch(A.tag){case 0:case 11:case 15:na(9,A,A.return)}var w=A.sibling;if(null!==w){w.return=A.return,Jo=w;break e}Jo=A.return}}var y=e.current;for(Jo=y;null!==Jo;){var B=(o=Jo).child;if(0!==(2064&o.subtreeFlags)&&null!==B)B.return=o,Jo=B;else e:for(o=y;null!==Jo;){if(0!==(2048&(a=Jo).flags))try{switch(a.tag){case 0:case 11:case 15:ra(9,a)}}catch(b){Cl(a,a.return,b)}if(a===o){Jo=null;break e}var E=a.sibling;if(null!==E){E.return=a.return,Jo=E;break e}Jo=a.return}}if(Ia=s,Ks(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(st,e)}catch(b){}r=!0}return r}finally{yt=n,Sa.transition=t}}return!1}function vl(e,t,n){e=Mi(e,t=ho(0,t=ao(n,t),1),1),t=el(),null!==e&&(mt(e,1,t),rl(e,t))}function Cl(e,t,n){if(3===e.tag)vl(e,e,n);else for(;null!==t;){if(3===t.tag){vl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===za||!za.has(r))){t=Mi(t,e=po(t,e=ao(n,e),1),1),e=el(),null!==t&&(mt(t,1,e),rl(t,e));break}}t=t.return}}function Tl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,xa===e&&(Fa&n)===n&&(4===Qa||3===Qa&&(130023424&Fa)===Fa&&500>$e()-Ha?hl(e,0):Na|=n),rl(e,t)}function _l(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=Qi(e,t))&&(mt(e,t,n),rl(e,n))}function Sl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_l(e,n)}function Il(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),_l(e,n)}function xl(e,t){return We(e,t)}function kl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fl(e,t,n,r){return new kl(e,t,n,r)}function Ul(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ll(e,t){var n=e.alternate;return null===n?((n=Fl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ql(e,t,n,r,s,A){var o=2;if(r=e,"function"===typeof e)Ul(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case v:return Dl(n.children,s,A,t);case C:o=8,s|=8;break;case T:return(e=Fl(12,n,t,2|s)).elementType=T,e.lanes=A,e;case x:return(e=Fl(13,n,t,s)).elementType=x,e.lanes=A,e;case k:return(e=Fl(19,n,t,s)).elementType=k,e.lanes=A,e;case L:return Ol(n,s,A,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:o=10;break e;case S:o=9;break e;case I:o=11;break e;case F:o=14;break e;case U:o=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Fl(o,n,t,s)).elementType=e,t.type=r,t.lanes=A,t}function Dl(e,t,n,r){return(e=Fl(7,e,r,t)).lanes=n,e}function Ol(e,t,n,r){return(e=Fl(22,e,r,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function Rl(e,t,n){return(e=Fl(6,e,null,t)).lanes=n,e}function Nl(e,t,n){return(t=Fl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ml(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Pl(e,t,n,r,s,i,A,o,a){return e=new Ml(e,t,n,o,a),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Fl(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oi(i),e}function Hl(e){if(!e)return Ss;e:{if(Ke(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Us(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Us(n))return Ds(e,n,t)}return t}function Kl(e,t,n,r,s,i,A,o,a){return(e=Pl(n,r,!0,e,0,i,0,o,a)).context=Hl(null),n=e.current,(i=Ni(r=el(),s=tl(n))).callback=void 0!==t&&null!==t?t:null,Mi(n,i,s),e.current.lanes=s,mt(e,s,r),rl(e,r),e}function Gl(e,t,n,r){var s=t.current,i=el(),A=tl(s);return n=Hl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ni(i,A)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Mi(s,t,A))&&(nl(e,s,A,i),Pi(e,s,A)),A}function jl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function zl(e,t){Vl(e,t),(e=e.alternate)&&Vl(e,t)}va=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||xs.current)yo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yo=!1,function(e,t,n){switch(t.tag){case 3:xo(t),di();break;case 5:$i(t);break;case 1:Us(t.type)&&Os(t);break;case 4:Xi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;_s(bi,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_s(Zi,1&Zi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ro(e,t,n):(_s(Zi,1&Zi.current),null!==(e=jo(e,t,n))?e.sibling:null);_s(Zi,1&Zi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ko(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),_s(Zi,Zi.current),r)break;return null;case 22:case 23:return t.lanes=0,Co(e,t,n)}return jo(e,t,n)}(e,t,n);yo=0!==(131072&e.flags)}else yo=!1,si&&0!==(1048576&t.flags)&&Zs(t,zs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Go(e,t),e=t.pendingProps;var s=Fs(t,Is.current);xi(t,n),s=fA(null,t,r,e,s,n);var A=gA();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Us(r)?(A=!0,Os(t)):A=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Oi(t),s.updater=ro,t.stateNode=s,s._reactInternals=t,oo(t,r,e,n),t=Io(null,t,r,!0,A,n)):(t.tag=0,si&&A&&ei(t),Bo(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Go(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Ul(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===F)return 14}return 2}(r),e=to(r,e),s){case 0:t=_o(null,t,r,e,n);break e;case 1:t=So(null,t,r,e,n);break e;case 11:t=Eo(null,t,r,e,n);break e;case 14:t=bo(null,t,r,to(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,_o(e,t,r,s=t.elementType===r?s:to(r,s),n);case 1:return r=t.type,s=t.pendingProps,So(e,t,r,s=t.elementType===r?s:to(r,s),n);case 3:e:{if(xo(t),null===e)throw Error(i(387));r=t.pendingProps,s=(A=t.memoizedState).element,Ri(e,t),Ki(t,r,null,n);var o=t.memoizedState;if(r=o.element,A.isDehydrated){if(A={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=A,t.memoizedState=A,256&t.flags){t=ko(e,t,r,n,s=ao(Error(i(423)),t));break e}if(r!==s){t=ko(e,t,r,n,s=ao(Error(i(424)),t));break e}for(ri=ls(t.stateNode.containerInfo.firstChild),ni=t,si=!0,ii=null,n=Ei(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(di(),r===s){t=jo(e,t,n);break e}Bo(e,t,r,n)}t=t.child}return t;case 5:return $i(t),null===e&&li(t),r=t.type,s=t.pendingProps,A=null!==e?e.memoizedProps:null,o=s.children,ns(r,s)?o=null:null!==A&&ns(r,A)&&(t.flags|=32),To(e,t),Bo(e,t,o,n),t.child;case 6:return null===e&&li(t),null;case 13:return Ro(e,t,n);case 4:return Xi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Bi(t,null,r,n):Bo(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,Eo(e,t,r,s=t.elementType===r?s:to(r,s),n);case 7:return Bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,A=t.memoizedProps,o=s.value,_s(bi,r._currentValue),r._currentValue=o,null!==A)if(or(A.value,o)){if(A.children===s.children&&!xs.current){t=jo(e,t,n);break e}}else for(null!==(A=t.child)&&(A.return=t);null!==A;){var a=A.dependencies;if(null!==a){o=A.child;for(var l=a.firstContext;null!==l;){if(l.context===r){if(1===A.tag){(l=Ni(-1,n&-n)).tag=2;var c=A.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}A.lanes|=n,null!==(l=A.alternate)&&(l.lanes|=n),Ii(A.return,n,t),a.lanes|=n;break}l=l.next}}else if(10===A.tag)o=A.type===t.type?null:A.child;else if(18===A.tag){if(null===(o=A.return))throw Error(i(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),Ii(o,n,t),o=A.sibling}else o=A.child;if(null!==o)o.return=A;else for(o=A;null!==o;){if(o===t){o=null;break}if(null!==(A=o.sibling)){A.return=o.return,o=A;break}o=o.return}A=o}Bo(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,xi(t,n),r=r(s=ki(s)),t.flags|=1,Bo(e,t,r,n),t.child;case 14:return s=to(r=t.type,t.pendingProps),bo(e,t,r,s=to(r.type,s),n);case 15:return vo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:to(r,s),Go(e,t),t.tag=1,Us(r)?(e=!0,Os(t)):e=!1,xi(t,n),io(t,r,s),oo(t,r,s,n),Io(null,t,r,!0,e,n);case 19:return Ko(e,t,n);case 22:return Co(e,t,n)}throw Error(i(156,t.tag))};var Wl="function"===typeof reportError?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}function Xl(e){this._internalRoot=e}function ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jl(){}function Zl(e,t,n,r,s){var i=n._reactRootContainer;if(i){var A=i;if("function"===typeof s){var o=s;s=function(){var e=jl(A);o.call(e)}}Gl(t,A,e,s)}else A=function(e,t,n,r,s){if(s){if("function"===typeof r){var i=r;r=function(){var e=jl(A);i.call(e)}}var A=Kl(t,r,e,0,null,!1,0,"",Jl);return e._reactRootContainer=A,e[ps]=A.current,Kr(8===e.nodeType?e.parentNode:e),cl(),A}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var o=r;r=function(){var e=jl(a);o.call(e)}}var a=Pl(e,0,!1,null,0,!1,0,"",Jl);return e._reactRootContainer=a,e[ps]=a.current,Kr(8===e.nodeType?e.parentNode:e),cl((function(){Gl(t,a,n,r)})),a}(n,t,e,s,r);return jl(A)}Xl.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Gl(e,t,null,null)},Xl.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){Gl(null,e,null,null)})),t[ps]=null}},Xl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&Rt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(wt(t,1|n),rl(t,$e()),0===(6&Ia)&&(Ka=$e()+500,Ks()))}break;case 13:cl((function(){var t=Qi(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),zl(e,1)}},bt=function(e){if(13===e.tag){var t=Qi(e,134217728);if(null!==t)nl(t,e,134217728,el());zl(e,134217728)}},vt=function(e){if(13===e.tag){var t=tl(e),n=Qi(e,t);if(null!==n)nl(n,e,t,el());zl(e,t)}},Ct=function(){return yt},Tt=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},be=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Es(r);if(!s)throw Error(i(90));W(r),J(r,s)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=ll,xe=cl;var ec={usingClientEntryPoint:!1,Events:[ys,Bs,Es,_e,Se,ll]},tc={findFiberByHostInstance:ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{st=rc.inject(nc),it=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ql(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:b,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!ql(e))throw Error(i(299));var n=!1,r="",s=Wl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Pl(e,1,!1,null,0,n,0,r,s),e[ps]=t.current,Kr(8===e.nodeType?e.parentNode:e),new Yl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!$l(t))throw Error(i(200));return Zl(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!ql(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,s=!1,A="",o=Wl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(A=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Kl(t,null,e,1,null!=n?n:null,s,0,A,o),e[ps]=t.current,Kr(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Xl(t)},t.render=function(e,t,n){if(!$l(t))throw Error(i(200));return Zl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$l(e))throw Error(i(40));return!!e._reactRootContainer&&(cl((function(){Zl(null,null,e,!1,(function(){e._reactRootContainer=null,e[ps]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$l(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zl(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{"use strict";var r=n(43),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),A=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,i={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)A.call(t,r)&&!a.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:s,type:e,key:l,ref:c,props:i,_owner:o.current}}t.Fragment=i,t.jsx=l,t.jsxs=l},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function w(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=m.prototype;var B=y.prototype=new w;B.constructor=y,f(B,m.prototype),B.isPureReactComponent=!0;var E=Array.isArray,b=Object.prototype.hasOwnProperty,v={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var s,i={},A=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(A=""+t.key),t)b.call(t,s)&&!C.hasOwnProperty(s)&&(i[s]=t[s]);var a=arguments.length-2;if(1===a)i.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(s in a=e.defaultProps)void 0===i[s]&&(i[s]=a[s]);return{$$typeof:n,type:e,key:A,ref:o,props:i,_owner:v.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,s,i,A){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var a=!1;if(null===e)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case n:case r:a=!0}}if(a)return A=A(a=e),e=""===i?"."+I(a,0):i,E(A)?(s="",null!=e&&(s=e.replace(S,"$&/")+"/"),x(A,t,s,"",(function(e){return e}))):null!=A&&(_(A)&&(A=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(A,s+(!A.key||a&&a.key===A.key?"":(""+A.key).replace(S,"$&/")+"/")+e)),t.push(A)),1;if(a=0,i=""===i?".":i+":",E(e))for(var l=0;l<e.length;l++){var c=i+I(o=e[l],l);a+=x(o,t,s,c,A)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(o=e.next()).done;)a+=x(o=o.value,t,s,c=i+I(o,l++),A);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function k(e,t,n){if(null==e)return e;var r=[],s=0;return x(e,r,"","",(function(e){return t.call(n,e,s++)})),r}function F(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var U={current:null},L={transition:null},Q={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:L,ReactCurrentOwner:v};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:k,forEach:function(e,t,n){k(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return k(e,(function(){t++})),t},toArray:function(e){return k(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=s,t.Profiler=A,t.PureComponent=y,t.StrictMode=i,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=f({},e.props),i=e.key,A=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(A=t.ref,o=v.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)b.call(t,l)&&!C.hasOwnProperty(l)&&(s[l]=void 0===t[l]&&void 0!==a?a[l]:t[l])}var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}return{$$typeof:n,type:e.type,key:i,ref:A,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:a,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:F}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return U.current.useCallback(e,t)},t.useContext=function(e){return U.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return U.current.useDeferredValue(e)},t.useEffect=function(e,t){return U.current.useEffect(e,t)},t.useId=function(){return U.current.useId()},t.useImperativeHandle=function(e,t,n){return U.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return U.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return U.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return U.current.useMemo(e,t)},t.useReducer=function(e,t,n){return U.current.useReducer(e,t,n)},t.useRef=function(e){return U.current.useRef(e)},t.useState=function(e){return U.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return U.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return U.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,A=s>>>1;r<A;){var o=2*(r+1)-1,a=e[o],l=o+1,c=e[l];if(0>i(a,n))l<s&&0>i(c,a)?(e[r]=c,e[l]=n,r=l):(e[r]=a,e[o]=n,r=o);else{if(!(l<s&&0>i(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var A=performance;t.unstable_now=function(){return A.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,p=!1,f=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,w="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function B(e){for(var t=r(c);null!==t;){if(null===t.callback)s(c);else{if(!(t.startTime<=e))break;s(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function E(e){if(g=!1,B(e),!f)if(null!==r(l))f=!0,L(b);else{var t=r(c);null!==t&&Q(E,t.startTime-e)}}function b(e,n){f=!1,g&&(g=!1,w(_),_=-1),p=!0;var i=d;try{for(B(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!x());){var A=h.callback;if("function"===typeof A){h.callback=null,d=h.priorityLevel;var o=A(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(l)&&s(l),B(n)}else s(l);h=r(l)}if(null!==h)var a=!0;else{var u=r(c);null!==u&&Q(E,u.startTime-n),a=!1}return a}finally{h=null,d=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var v,C=!1,T=null,_=-1,S=5,I=-1;function x(){return!(t.unstable_now()-I<S)}function k(){if(null!==T){var e=t.unstable_now();I=e;var n=!0;try{n=T(!0,e)}finally{n?v():(C=!1,T=null)}}else C=!1}if("function"===typeof y)v=function(){y(k)};else if("undefined"!==typeof MessageChannel){var F=new MessageChannel,U=F.port2;F.port1.onmessage=k,v=function(){U.postMessage(null)}}else v=function(){m(k,0)};function L(e){T=e,C||(C=!0,v())}function Q(e,n){_=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,L(b))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,s,i){var A=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?A+i:A:i=A,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>A?(e.sortIndex=i,n(c,e),null===r(l)&&e===r(c)&&(g?(w(_),_=-1):g=!0,Q(E,i-A))):(e.sortIndex=o,n(l,e),f||p||(f=!0,L(b))),e},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},222:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=null;if(!e||"string"!==typeof e)return n;var r=(0,s.default)(e),i="function"===typeof t;return r.forEach((function(e){if("declaration"===e.type){var r=e.property,s=e.value;i?t(r,s,e):s&&((n=n||{})[r]=s)}})),n};var s=r(n(403))},440:e=>{"use strict";var t=function(){};e.exports=t},749:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/pdf.worker.min.251d69a696d4b789725e.mjs"}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".104d52a0.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="audio-copilot:";n.l=(r,s,i,A)=>{if(e[r])e[r].push(s);else{var o,a;if(void 0!==i)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var u=l[c];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+i){o=u;break}}o||(a=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+i),o.src=r),e[r]=[s];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(d);var s=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach((e=>e(n))),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),a&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Audio-Copilot/",(()=>{n.b=document.baseURI||self.location.href;var e={792:0};n.f.j=(t,r)=>{var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)r.push(s[2]);else{var i=new Promise(((n,r)=>s=e[t]=[n,r]));r.push(s[2]=i);var A=n.p+n.u(t),o=new Error;n.l(A,(r=>{if(n.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var i=r&&("load"===r.type?"missing":r.type),A=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+A+")",o.name="ChunkLoadError",o.type=i,o.request=A,s[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var s,i,A=r[0],o=r[1],a=r[2],l=0;if(A.some((t=>0!==e[t]))){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(a)a(n)}for(t&&t(r);l<A.length;l++)i=A[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkaudio_copilot=self.webpackChunkaudio_copilot||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{dU:()=>bo,ng:()=>vo,EA:()=>Co,Tm:()=>To,D6:()=>_o,YE:()=>So});var t={};n.r(t),n.d(t,{boolean:()=>ja,booleanish:()=>Va,commaOrSpaceSeparated:()=>qa,commaSeparated:()=>Xa,number:()=>Wa,overloadedBoolean:()=>za,spaceSeparated:()=>Ya});var r={};n.r(r),n.d(r,{attentionMarkers:()=>Fu,contentInitial:()=>Tu,disable:()=>Uu,document:()=>Cu,flow:()=>Su,flowInitial:()=>_u,insideSpan:()=>ku,string:()=>Iu,text:()=>xu});var s=n(43),i=n(391);const A=globalThis.atob,o=globalThis.btoa;class a{static floatTo16BitPCM(e){const t=new ArrayBuffer(2*e.length),n=new DataView(t);let r=0;for(let s=0;s<e.length;s++,r+=2){let t=Math.max(-1,Math.min(1,e[s]));n.setInt16(r,t<0?32768*t:32767*t,!0)}return t}static base64ToArrayBuffer(e){const t=A(e),n=t.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=t.charCodeAt(s);return r.buffer}static arrayBufferToBase64(e){e instanceof Float32Array?e=this.floatTo16BitPCM(e):e instanceof Int16Array&&(e=e.buffer);let t="",n=new Uint8Array(e);for(let r=0;r<n.length;r+=32768){let e=n.subarray(r,r+32768);t+=String.fromCharCode.apply(null,e)}return o(t)}static mergeInt16Arrays(e,t){if(e instanceof ArrayBuffer&&(e=new Int16Array(e)),t instanceof ArrayBuffer&&(t=new Int16Array(t)),!(e instanceof Int16Array)||!(t instanceof Int16Array))throw new Error("Both items must be Int16Array");const n=new Int16Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n}static generateId(e){const t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return`${e}${Array((arguments.length>1&&void 0!==arguments[1]?arguments[1]:21)-e.length).fill(0).map((e=>t[Math.floor(58*Math.random())])).join("")}`}}const l=e=>new Promise((t=>setTimeout((()=>t()),e)));class c{constructor(){this.eventHandlers={},this.nextEventHandlers={}}clearEventHandlers(){return this.eventHandlers={},this.nextEventHandlers={},!0}on(e,t){return this.eventHandlers[e]=this.eventHandlers[e]||[],this.eventHandlers[e].push(t),t}onNext(e,t){return this.nextEventHandlers[e]=this.nextEventHandlers[e]||[],this.nextEventHandlers[e].push(t),t}off(e,t){const n=this.eventHandlers[e]||[];if(t){const r=n.indexOf(t);if(-1===r)throw new Error(`Could not turn off specified event listener for "${e}": not found as a listener`);n.splice(r,1)}else delete this.eventHandlers[e];return!0}offNext(e,t){const n=this.nextEventHandlers[e]||[];if(t){const r=n.indexOf(t);if(-1===r)throw new Error(`Could not turn off specified next event listener for "${e}": not found as a listener`);n.splice(r,1)}else delete this.nextEventHandlers[e];return!0}async waitForNext(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=Date.now();let r;for(this.onNext(e,(e=>r=e));!r;){if(t){if(Date.now()-n>t)return null}await l(1)}return r}dispatch(e,t){const n=[].concat(this.eventHandlers[e]||[]);for(const s of n)s(t);const r=[].concat(this.nextEventHandlers[e]||[]);for(const s of r)s(t);return delete this.nextEventHandlers[e],!0}}class u extends c{constructor(){let{url:e,apiKey:t,dangerouslyAllowAPIKeyInBrowser:n,debug:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(super(),this.defaultUrl="wss://api.openai.com/v1/realtime",this.url=e||this.defaultUrl,this.apiKey=t||null,this.debug=!!r,this.ws=null,globalThis.document&&this.apiKey&&!n)throw new Error('Can not provide API key in the browser without "dangerouslyAllowAPIKeyInBrowser" set to true')}isConnected(){return!!this.ws}log(){const e=(new Date).toISOString();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const s=[`[Websocket/${e}]`].concat(n).map((e=>"object"===typeof e&&null!==e?JSON.stringify(e,null,2):e));return this.debug&&console.log(...s),!0}async connect(){let{model:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{model:"gpt-4o-realtime-preview-2024-10-01"};if(this.apiKey||this.url!==this.defaultUrl||console.warn(`No apiKey provided for connection to "${this.url}"`),this.isConnected())throw new Error("Already connected");if(globalThis.WebSocket){globalThis.document&&this.apiKey&&console.warn("Warning: Connecting using API key in the browser, this is not recommended");const t=new(0,globalThis.WebSocket)(`${this.url}${e?`?model=${e}`:""}`,["realtime",`openai-insecure-api-key.${this.apiKey}`,"openai-beta.realtime-v1"]);return t.addEventListener("message",(e=>{const t=JSON.parse(e.data);this.receive(t.type,t)})),new Promise(((e,n)=>{const r=()=>{this.disconnect(t),n(new Error(`Could not connect to "${this.url}"`))};t.addEventListener("error",r),t.addEventListener("open",(()=>{this.log(`Connected to "${this.url}"`),t.removeEventListener("error",r),t.addEventListener("error",(()=>{this.disconnect(t),this.log(`Error, disconnected from "${this.url}"`),this.dispatch("close",{error:!0})})),t.addEventListener("close",(()=>{this.disconnect(t),this.log(`Disconnected from "${this.url}"`),this.dispatch("close",{error:!1})})),this.ws=t,e(!0)}))}))}{const e="ws",t=new(0,(await import(e)).default)("wss://api.openai.com/v1/realtime?model=gpt-4o-realtime-preview-2024-10-01",[],{finishRequest:e=>{e.setHeader("Authorization",`Bearer ${this.apiKey}`),e.setHeader("OpenAI-Beta","realtime=v1"),e.end()}});return t.on("message",(e=>{const t=JSON.parse(e.toString());this.receive(t.type,t)})),new Promise(((e,n)=>{const r=()=>{this.disconnect(t),n(new Error(`Could not connect to "${this.url}"`))};t.on("error",r),t.on("open",(()=>{this.log(`Connected to "${this.url}"`),t.removeListener("error",r),t.on("error",(()=>{this.disconnect(t),this.log(`Error, disconnected from "${this.url}"`),this.dispatch("close",{error:!0})})),t.on("close",(()=>{this.disconnect(t),this.log(`Disconnected from "${this.url}"`),this.dispatch("close",{error:!1})})),this.ws=t,e(!0)}))}))}}disconnect(e){if(!e||this.ws===e)return this.ws&&this.ws.close(),this.ws=null,!0}receive(e,t){return this.log("received:",e,t),this.dispatch(`server.${e}`,t),this.dispatch("server.*",t),!0}send(e,t){if(!this.isConnected())throw new Error("RealtimeAPI is not connected");if("object"!==typeof(t=t||{}))throw new Error("data must be an object");const n={event_id:a.generateId("evt_"),type:e,...t};return this.dispatch(`client.${e}`,n),this.dispatch("client.*",n),this.log("sent:",e,n),this.ws.send(JSON.stringify(n)),!0}}class h{defaultFrequency=24e3;EventProcessors={"conversation.item.created":e=>{const{item:t}=e,n=JSON.parse(JSON.stringify(t));if(this.itemLookup[n.id]||(this.itemLookup[n.id]=n,this.items.push(n)),n.formatted={},n.formatted.audio=new Int16Array(0),n.formatted.text="",n.formatted.transcript="",this.queuedSpeechItems[n.id]&&(n.formatted.audio=this.queuedSpeechItems[n.id].audio,delete this.queuedSpeechItems[n.id]),n.content){const e=n.content.filter((e=>["text","input_text"].includes(e.type)));for(const t of e)n.formatted.text+=t.text}return this.queuedTranscriptItems[n.id]&&(n.formatted.transcript=this.queuedTranscriptItems.transcript,delete this.queuedTranscriptItems[n.id]),"message"===n.type?"user"===n.role?(n.status="completed",this.queuedInputAudio&&(n.formatted.audio=this.queuedInputAudio,this.queuedInputAudio=null)):n.status="in_progress":"function_call"===n.type?(n.formatted.tool={type:"function",name:n.name,call_id:n.call_id,arguments:""},n.status="in_progress"):"function_call_output"===n.type&&(n.status="completed",n.formatted.output=n.output),{item:n,delta:null}},"conversation.item.truncated":e=>{const{item_id:t,audio_end_ms:n}=e,r=this.itemLookup[t];if(!r)throw new Error(`item.truncated: Item "${t}" not found`);const s=Math.floor(n*this.defaultFrequency/1e3);return r.formatted.transcript="",r.formatted.audio=r.formatted.audio.slice(0,s),{item:r,delta:null}},"conversation.item.deleted":e=>{const{item_id:t}=e,n=this.itemLookup[t];if(!n)throw new Error(`item.deleted: Item "${t}" not found`);delete this.itemLookup[n.id];const r=this.items.indexOf(n);return r>-1&&this.items.splice(r,1),{item:n,delta:null}},"conversation.item.input_audio_transcription.completed":e=>{const{item_id:t,content_index:n,transcript:r}=e,s=this.itemLookup[t],i=r||" ";return s?(s.content[n].transcript=r,s.formatted.transcript=i,{item:s,delta:{transcript:r}}):(this.queuedTranscriptItems[t]={transcript:i},{item:null,delta:null})},"input_audio_buffer.speech_started":e=>{const{item_id:t,audio_start_ms:n}=e;return this.queuedSpeechItems[t]={audio_start_ms:n},{item:null,delta:null}},"input_audio_buffer.speech_stopped":(e,t)=>{const{item_id:n,audio_end_ms:r}=e;this.queuedSpeechItems[n]||(this.queuedSpeechItems[n]={audio_start_ms:r});const s=this.queuedSpeechItems[n];if(s.audio_end_ms=r,t){const e=Math.floor(s.audio_start_ms*this.defaultFrequency/1e3),n=Math.floor(s.audio_end_ms*this.defaultFrequency/1e3);s.audio=t.slice(e,n)}return{item:null,delta:null}},"response.created":e=>{const{response:t}=e;return this.responseLookup[t.id]||(this.responseLookup[t.id]=t,this.responses.push(t)),{item:null,delta:null}},"response.output_item.added":e=>{const{response_id:t,item:n}=e,r=this.responseLookup[t];if(!r)throw new Error(`response.output_item.added: Response "${t}" not found`);return r.output.push(n.id),{item:null,delta:null}},"response.output_item.done":e=>{const{item:t}=e;if(!t)throw new Error('response.output_item.done: Missing "item"');const n=this.itemLookup[t.id];if(!n)throw new Error(`response.output_item.done: Item "${t.id}" not found`);return n.status=t.status,{item:n,delta:null}},"response.content_part.added":e=>{const{item_id:t,part:n}=e,r=this.itemLookup[t];if(!r)throw new Error(`response.content_part.added: Item "${t}" not found`);return r.content.push(n),{item:r,delta:null}},"response.audio_transcript.delta":e=>{const{item_id:t,content_index:n,delta:r}=e,s=this.itemLookup[t];if(!s)throw new Error(`response.audio_transcript.delta: Item "${t}" not found`);return s.content[n].transcript+=r,s.formatted.transcript+=r,{item:s,delta:{transcript:r}}},"response.audio.delta":e=>{const{item_id:t,content_index:n,delta:r}=e,s=this.itemLookup[t];if(!s)throw new Error(`response.audio.delta: Item "${t}" not found`);const i=a.base64ToArrayBuffer(r),A=new Int16Array(i);return s.formatted.audio=a.mergeInt16Arrays(s.formatted.audio,A),{item:s,delta:{audio:A}}},"response.text.delta":e=>{const{item_id:t,content_index:n,delta:r}=e,s=this.itemLookup[t];if(!s)throw new Error(`response.text.delta: Item "${t}" not found`);return s.content[n].text+=r,s.formatted.text+=r,{item:s,delta:{text:r}}},"response.function_call_arguments.delta":e=>{const{item_id:t,delta:n}=e,r=this.itemLookup[t];if(!r)throw new Error(`response.function_call_arguments.delta: Item "${t}" not found`);return r.arguments+=n,r.formatted.tool.arguments+=n,{item:r,delta:{arguments:n}}}};constructor(){this.clear()}clear(){return this.itemLookup={},this.items=[],this.responseLookup={},this.responses=[],this.queuedSpeechItems={},this.queuedTranscriptItems={},this.queuedInputAudio=null,!0}queueInputAudio(e){return this.queuedInputAudio=e,e}processEvent(e){if(!e.event_id)throw console.error(e),new Error('Missing "event_id" on event');if(!e.type)throw console.error(e),new Error('Missing "type" on event');const t=this.EventProcessors[e.type];if(!t)throw new Error(`Missing conversation event processor for "${e.type}"`);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return t.call(this,e,...r)}getItem(e){return this.itemLookup[e]||null}getItems(){return this.items.slice()}}class d extends c{constructor(){let{url:e,apiKey:t,dangerouslyAllowAPIKeyInBrowser:n,debug:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.defaultSessionConfig={modalities:["text","audio"],instructions:"",voice:"verse",input_audio_format:"pcm16",output_audio_format:"pcm16",input_audio_transcription:null,turn_detection:null,tools:[],tool_choice:"auto",temperature:.8,max_response_output_tokens:4096},this.sessionConfig={},this.transcriptionModels=[{model:"whisper-1"}],this.defaultServerVadConfig={type:"server_vad",threshold:.5,prefix_padding_ms:300,silence_duration_ms:200},this.realtime=new u({url:e,apiKey:t,dangerouslyAllowAPIKeyInBrowser:n,debug:r}),this.conversation=new h,this._resetConfig(),this._addAPIEventHandlers()}_resetConfig(){return this.sessionCreated=!1,this.tools={},this.sessionConfig=JSON.parse(JSON.stringify(this.defaultSessionConfig)),this.inputAudioBuffer=new Int16Array(0),!0}_addAPIEventHandlers(){var e=this;this.realtime.on("client.*",(e=>{const t={time:(new Date).toISOString(),source:"client",event:e};this.dispatch("realtime.event",t)})),this.realtime.on("server.*",(e=>{const t={time:(new Date).toISOString(),source:"server",event:e};this.dispatch("realtime.event",t)})),this.realtime.on("server.session.created",(()=>this.sessionCreated=!0));const t=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];const{item:i,delta:A}=e.conversation.processEvent(t,...r);return{item:i,delta:A}},n=function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];const{item:A,delta:o}=t(n,...s);return A&&e.dispatch("conversation.updated",{item:A,delta:o}),{item:A,delta:o}},r=async e=>{try{const t=JSON.parse(e.arguments),n=this.tools[e.name];if(!n)throw new Error(`Tool "${e.name}" has not been added`);const r=await n.handler(t);this.realtime.send("conversation.item.create",{item:{type:"function_call_output",call_id:e.call_id,output:JSON.stringify(r)}})}catch(t){this.realtime.send("conversation.item.create",{item:{type:"function_call_output",call_id:e.call_id,output:JSON.stringify({error:t.message})}})}this.createResponse()};return this.realtime.on("server.response.created",t),this.realtime.on("server.response.output_item.added",t),this.realtime.on("server.response.content_part.added",t),this.realtime.on("server.input_audio_buffer.speech_started",(e=>{t(e),this.dispatch("conversation.interrupted")})),this.realtime.on("server.input_audio_buffer.speech_stopped",(e=>t(e,this.inputAudioBuffer))),this.realtime.on("server.conversation.item.created",(e=>{const{item:t}=n(e);this.dispatch("conversation.item.appended",{item:t}),"completed"===t.status&&this.dispatch("conversation.item.completed",{item:t})})),this.realtime.on("server.conversation.item.truncated",n),this.realtime.on("server.conversation.item.deleted",n),this.realtime.on("server.conversation.item.input_audio_transcription.completed",n),this.realtime.on("server.response.audio_transcript.delta",n),this.realtime.on("server.response.audio.delta",n),this.realtime.on("server.response.text.delta",n),this.realtime.on("server.response.function_call_arguments.delta",n),this.realtime.on("server.response.output_item.done",(async e=>{const{item:t}=n(e);"completed"===t.status&&this.dispatch("conversation.item.completed",{item:t}),t.formatted.tool&&r(t.formatted.tool)})),!0}isConnected(){return this.realtime.isConnected()}reset(){return this.disconnect(),this.clearEventHandlers(),this.realtime.clearEventHandlers(),this._resetConfig(),this._addAPIEventHandlers(),!0}async connect(){if(this.isConnected())throw new Error("Already connected, use .disconnect() first");return await this.realtime.connect(),this.updateSession(),!0}async waitForSessionCreated(){if(!this.isConnected())throw new Error("Not connected, use .connect() first");for(;!this.sessionCreated;)await new Promise((e=>setTimeout((()=>e()),1)));return!0}disconnect(){this.sessionCreated=!1,this.realtime.isConnected()&&this.realtime.disconnect(),this.conversation.clear()}getTurnDetectionType(){return this.sessionConfig.turn_detection?.type||null}addTool(e,t){if(!e?.name)throw new Error("Missing tool name in definition");const n=e?.name;if(this.tools[n])throw new Error(`Tool "${n}" already added. Please use .removeTool("${n}") before trying to add again.`);if("function"!==typeof t)throw new Error(`Tool "${n}" handler must be a function`);return this.tools[n]={definition:e,handler:t},this.updateSession(),this.tools[n]}removeTool(e){if(!this.tools[e])throw new Error(`Tool "${e}" does not exist, can not be removed.`);return delete this.tools[e],!0}deleteItem(e){return this.realtime.send("conversation.item.delete",{item_id:e}),!0}updateSession(){let{modalities:e,instructions:t,voice:n,input_audio_format:r,output_audio_format:s,input_audio_transcription:i,turn_detection:A,tools:o,tool_choice:a,temperature:l,max_response_output_tokens:c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};void 0!==e&&(this.sessionConfig.modalities=e),void 0!==t&&(this.sessionConfig.instructions=t),void 0!==n&&(this.sessionConfig.voice=n),void 0!==r&&(this.sessionConfig.input_audio_format=r),void 0!==s&&(this.sessionConfig.output_audio_format=s),void 0!==i&&(this.sessionConfig.input_audio_transcription=i),void 0!==A&&(this.sessionConfig.turn_detection=A),void 0!==o&&(this.sessionConfig.tools=o),void 0!==a&&(this.sessionConfig.tool_choice=a),void 0!==l&&(this.sessionConfig.temperature=l),void 0!==c&&(this.sessionConfig.max_response_output_tokens=c);const u=[].concat((o||[]).map((e=>{const t={type:"function",...e};if(this.tools[t?.name])throw new Error(`Tool "${t?.name}" has already been defined`);return t})),Object.keys(this.tools).map((e=>({type:"function",...this.tools[e].definition})))),h={...this.sessionConfig};return h.tools=u,this.realtime.isConnected()&&this.realtime.send("session.update",{session:h}),!0}sendUserMessageContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e.length){for(const t of e)"input_audio"===t.type&&(t.audio instanceof ArrayBuffer||t.audio instanceof Int16Array)&&(t.audio=a.arrayBufferToBase64(t.audio));this.realtime.send("conversation.item.create",{item:{type:"message",role:"user",content:e}})}return this.createResponse(),!0}appendInputAudio(e){return e.byteLength>0&&(this.realtime.send("input_audio_buffer.append",{audio:a.arrayBufferToBase64(e)}),this.inputAudioBuffer=a.mergeInt16Arrays(this.inputAudioBuffer,e)),!0}createResponse(){return null===this.getTurnDetectionType()&&this.inputAudioBuffer.byteLength>0&&(this.realtime.send("input_audio_buffer.commit"),this.conversation.queueInputAudio(this.inputAudioBuffer),this.inputAudioBuffer=new Int16Array(0)),this.realtime.send("response.create"),!0}cancelResponse(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e)return this.realtime.send("response.cancel"),{item:null};if(e){const n=this.conversation.getItem(e);if(!n)throw new Error(`Could not find item "${e}"`);if("message"!==n.type)throw new Error('Can only cancelResponse messages with type "message"');if("assistant"!==n.role)throw new Error('Can only cancelResponse messages with role "assistant"');this.realtime.send("response.cancel");const r=n.content.findIndex((e=>"audio"===e.type));if(-1===r)throw new Error("Could not find audio on item to cancel");return this.realtime.send("conversation.item.truncate",{item_id:e,content_index:r,audio_end_ms:Math.floor(t/this.conversation.defaultFrequency*1e3)}),{item:n}}}async waitForNextItem(){const e=await this.waitForNext("conversation.item.appended"),{item:t}=e;return{item:t}}async waitForNextCompletedItem(){const e=await this.waitForNext("conversation.item.completed"),{item:t}=e;return{item:t}}}globalThis.atob,globalThis.btoa;class p{static floatTo16BitPCM(e){const t=new ArrayBuffer(2*e.length),n=new DataView(t);let r=0;for(let s=0;s<e.length;s++,r+=2){let t=Math.max(-1,Math.min(1,e[s]));n.setInt16(r,t<0?32768*t:32767*t,!0)}return t}static mergeBuffers(e,t){const n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(t),e.byteLength),n.buffer}_packData(e,t){return[new Uint8Array([t,t>>8]),new Uint8Array([t,t>>8,t>>16,t>>24])][e]}pack(e,t){if(null===t||void 0===t||!t.bitsPerSample)throw new Error('Missing "bitsPerSample"');if(null===t||void 0===t||!t.channels)throw new Error('Missing "channels"');if(null===t||void 0===t||!t.data)throw new Error('Missing "data"');const{bitsPerSample:n,channels:r,data:s}=t,i=["RIFF",this._packData(1,52),"WAVE","fmt ",this._packData(1,16),this._packData(0,1),this._packData(0,r.length),this._packData(1,e),this._packData(1,e*r.length*n/8),this._packData(0,r.length*n/8),this._packData(0,n),"data",this._packData(1,r[0].length*r.length*n/8),s],A=new Blob(i,{type:"audio/mpeg"});return{blob:A,url:URL.createObjectURL(A),channelCount:r.length,sampleRate:e,duration:s.byteLength/(r.length*e*2)}}}globalThis.WavPacker=p;const f=[4186.01,4434.92,4698.63,4978.03,5274.04,5587.65,5919.91,6271.93,6644.88,7040,7458.62,7902.13],g=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],m=[],w=[];for(let n=1;n<=8;n++)for(let e=0;e<f.length;e++){const t=f[e];m.push(t/Math.pow(2,8-n)),w.push(g[e]+n)}const y=[32,2e3],B=m.filter(((e,t)=>m[t]>y[0]&&m[t]<y[1])),E=w.filter(((e,t)=>m[t]>y[0]&&m[t]<y[1]));class b{static getFrequencies(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"frequency",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-100,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-30;n||(n=new Float32Array(e.frequencyBinCount),e.getFloatFrequencyData(n));const A=t/2,o=1/n.length*A;let a,l,c;if("music"===r||"voice"===r){const e="voice"===r?B:m,t=Array(e.length).fill(s);for(let r=0;r<n.length;r++){const s=r*o,i=n[r];for(let n=e.length-1;n>=0;n--)if(s>e[n]){t[n]=Math.max(t[n],i);break}}a=t,l="voice"===r?B:m,c="voice"===r?E:w}else a=Array.from(n),l=a.map(((e,t)=>o*t)),c=l.map((e=>`${e.toFixed(2)} Hz`));const u=a.map((e=>Math.max(0,Math.min((e-s)/(i-s),1))));return{values:new Float32Array(u),frequencies:l,labels:c}}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.fftResults=[],t){const{length:n,sampleRate:r}=t,s=new OfflineAudioContext({length:n,sampleRate:r}),i=s.createBufferSource();i.buffer=t;const A=s.createAnalyser();A.fftSize=8192,A.smoothingTimeConstant=.1,i.connect(A);const o=1/60,a=n/r,l=e=>{const t=o*e;t<a&&s.suspend(t).then((()=>{const t=new Float32Array(A.frequencyBinCount);A.getFloatFrequencyData(t),this.fftResults.push(t),l(e+1)})),1===e?s.startRendering():s.resume()};i.start(0),l(1),this.audio=e,this.context=s,this.analyser=A,this.sampleRate=r,this.audioBuffer=t}else{const t=new AudioContext,n=t.createMediaElementSource(e),r=t.createAnalyser();r.fftSize=8192,r.smoothingTimeConstant=.1,n.connect(r),r.connect(t.destination),this.audio=e,this.context=t,this.analyser=r,this.sampleRate=this.context.sampleRate,this.audioBuffer=null}}getFrequencies(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"frequency",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-30,r=null;if(this.audioBuffer&&this.fftResults.length){const e=this.audio.currentTime/this.audio.duration,t=Math.min(e*this.fftResults.length|0,this.fftResults.length-1);r=this.fftResults[t]}return b.getFrequencies(this.analyser,this.sampleRate,r,e,t,n)}async resumeIfSuspended(){return"suspended"===this.context.state&&await this.context.resume(),!0}}globalThis.AudioAnalysis=b;const v=new Blob(["\nclass StreamProcessor extends AudioWorkletProcessor {\n  constructor() {\n    super();\n    this.hasStarted = false;\n    this.hasInterrupted = false;\n    this.outputBuffers = [];\n    this.bufferLength = 128;\n    this.write = { buffer: new Float32Array(this.bufferLength), trackId: null };\n    this.writeOffset = 0;\n    this.trackSampleOffsets = {};\n    this.port.onmessage = (event) => {\n      if (event.data) {\n        const payload = event.data;\n        if (payload.event === 'write') {\n          const int16Array = payload.buffer;\n          const float32Array = new Float32Array(int16Array.length);\n          for (let i = 0; i < int16Array.length; i++) {\n            float32Array[i] = int16Array[i] / 0x8000; // Convert Int16 to Float32\n          }\n          this.writeData(float32Array, payload.trackId);\n        } else if (\n          payload.event === 'offset' ||\n          payload.event === 'interrupt'\n        ) {\n          const requestId = payload.requestId;\n          const trackId = this.write.trackId;\n          const offset = this.trackSampleOffsets[trackId] || 0;\n          this.port.postMessage({\n            event: 'offset',\n            requestId,\n            trackId,\n            offset,\n          });\n          if (payload.event === 'interrupt') {\n            this.hasInterrupted = true;\n          }\n        } else {\n          throw new Error(`Unhandled event \"${payload.event}\"`);\n        }\n      }\n    };\n  }\n\n  writeData(float32Array, trackId = null) {\n    let { buffer } = this.write;\n    let offset = this.writeOffset;\n    for (let i = 0; i < float32Array.length; i++) {\n      buffer[offset++] = float32Array[i];\n      if (offset >= buffer.length) {\n        this.outputBuffers.push(this.write);\n        this.write = { buffer: new Float32Array(this.bufferLength), trackId };\n        buffer = this.write.buffer;\n        offset = 0;\n      }\n    }\n    this.writeOffset = offset;\n    return true;\n  }\n\n  process(inputs, outputs, parameters) {\n    const output = outputs[0];\n    const outputChannelData = output[0];\n    const outputBuffers = this.outputBuffers;\n    if (this.hasInterrupted) {\n      this.port.postMessage({ event: 'stop' });\n      return false;\n    } else if (outputBuffers.length) {\n      this.hasStarted = true;\n      const { buffer, trackId } = outputBuffers.shift();\n      for (let i = 0; i < outputChannelData.length; i++) {\n        outputChannelData[i] = buffer[i] || 0;\n      }\n      if (trackId) {\n        this.trackSampleOffsets[trackId] =\n          this.trackSampleOffsets[trackId] || 0;\n        this.trackSampleOffsets[trackId] += buffer.length;\n      }\n      return true;\n    } else if (this.hasStarted) {\n      this.port.postMessage({ event: 'stop' });\n      // hanks - to resume the playback, a separate message should be sent to indicate \n      // reply completed from real-time API\n      this.port.postMessage({ event: 'stop_by_completion' });\n      return false;\n    } else {\n      return true;\n    }\n  }\n}\n\nregisterProcessor('stream_processor', StreamProcessor);\n"],{type:"application/javascript"}),C=URL.createObjectURL(v);class T{constructor(){let{sampleRate:e=44100}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.scriptSrc=C,this.sampleRate=e,this.context=null,this.stream=null,this.analyser=null,this.trackSampleOffsets={},this.interruptedTrackIds={},this.newsAudio=null,this.newsVideo=null,this.isHidden=!0,this.setIsPlaying=null,this.repeatCurrent=null,this.itemStatus=null,this.askStop=!1,this.gainNode=null}setItemStatus(e){this.itemStatus=e}async connect(e,t,n,r){this.context=new AudioContext({sampleRate:this.sampleRate}),"suspended"===this.context.state&&await this.context.resume();try{await this.context.audioWorklet.addModule(this.scriptSrc)}catch(i){throw console.error(i),new Error(`Could not add audioWorklet module: ${this.scriptSrc}`)}const s=this.context.createAnalyser();return s.fftSize=8192,s.smoothingTimeConstant=.1,this.analyser=s,this.newsAudio=e,this.newsVideo=t,this.setIsPlaying=n,this.repeatCurrent=r,this.gainNode=this.context.createGain(),this.gainNode.connect(this.context.destination),this.gainNode.gain.value=0,!0}setMute(){this.gainNode&&(this.gainNode.gain.value=-1)}unMute(){this.gainNode&&(this.gainNode.gain.value=0)}getFrequencies(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"frequency",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-30;if(!this.analyser)throw new Error("Not connected, please call .connect() first");return b.getFrequencies(this.analyser,this.sampleRate,null,e,t,n)}_start(){const e=new AudioWorkletNode(this.context,"stream_processor");return e.connect(this.context.destination),e.connect(this.gainNode),e.port.onmessage=t=>{const{event:n}=t.data;if("stop"===n)e.disconnect(),this.stream=null;else if("offset"===n){const{requestId:e,trackId:n,offset:r}=t.data,s=r/this.sampleRate;this.trackSampleOffsets[e]={trackId:n,offset:r,currentTime:s}}else"stop_by_completion"===n&&("completed"===this.itemStatus&&this.newsAudio&&this.isHidden&&(this.askStop?this.newsAudio.pause():(this.newsAudio.play(),this.setIsPlaying(!0))),"completed"===this.itemStatus&&this.newsVideo&&!this.isHidden&&(this.askStop?this.newsVideo.pause():(this.newsVideo.play(),this.setIsPlaying(!0))))},this.analyser.disconnect(),e.connect(this.analyser),this.stream=e,!0}add16BitPCM(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";if("string"!==typeof n)throw new Error("trackId must be a string");if(!this.interruptedTrackIds[n]){if(this.stream||this._start(),e instanceof Int16Array)t=e;else{if(!(e instanceof ArrayBuffer))throw new Error("argument must be Int16Array or ArrayBuffer");t=new Int16Array(e)}return this.stream.port.postMessage({event:"write",buffer:t,trackId:n}),t}}async getTrackSampleOffset(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.stream)return null;const t=crypto.randomUUID();let n;for(this.stream.port.postMessage({event:e?"interrupt":"offset",requestId:t});!n;)n=this.trackSampleOffsets[t],await new Promise((e=>setTimeout((()=>e()),1)));const{trackId:r}=n;return e&&r&&(this.interruptedTrackIds[r]=!0),n}async interrupt(){return this.getTrackSampleOffset(!0)}}globalThis.WavStreamPlayer=T;const _=new Blob(["\nclass AudioProcessor extends AudioWorkletProcessor {\n\n  constructor() {\n    super();\n    this.port.onmessage = this.receive.bind(this);\n    this.initialize();\n  }\n\n  initialize() {\n    this.foundAudio = false;\n    this.recording = false;\n    this.chunks = [];\n  }\n\n  /**\n   * Concatenates sampled chunks into channels\n   * Format is chunk[Left[], Right[]]\n   */\n  readChannelData(chunks, channel = -1, maxChannels = 9) {\n    let channelLimit;\n    if (channel !== -1) {\n      if (chunks[0] && chunks[0].length - 1 < channel) {\n        throw new Error(\n          `Channel ${channel} out of range: max ${chunks[0].length}`\n        );\n      }\n      channelLimit = channel + 1;\n    } else {\n      channel = 0;\n      channelLimit = Math.min(chunks[0] ? chunks[0].length : 1, maxChannels);\n    }\n    const channels = [];\n    for (let n = channel; n < channelLimit; n++) {\n      const length = chunks.reduce((sum, chunk) => {\n        return sum + chunk[n].length;\n      }, 0);\n      const buffers = chunks.map((chunk) => chunk[n]);\n      const result = new Float32Array(length);\n      let offset = 0;\n      for (let i = 0; i < buffers.length; i++) {\n        result.set(buffers[i], offset);\n        offset += buffers[i].length;\n      }\n      channels[n] = result;\n    }\n    return channels;\n  }\n\n  /**\n   * Combines parallel audio data into correct format,\n   * channels[Left[], Right[]] to float32Array[LRLRLRLR...]\n   */\n  formatAudioData(channels) {\n    if (channels.length === 1) {\n      // Simple case is only one channel\n      const float32Array = channels[0].slice();\n      const meanValues = channels[0].slice();\n      return { float32Array, meanValues };\n    } else {\n      const float32Array = new Float32Array(\n        channels[0].length * channels.length\n      );\n      const meanValues = new Float32Array(channels[0].length);\n      for (let i = 0; i < channels[0].length; i++) {\n        const offset = i * channels.length;\n        let meanValue = 0;\n        for (let n = 0; n < channels.length; n++) {\n          float32Array[offset + n] = channels[n][i];\n          meanValue += channels[n][i];\n        }\n        meanValues[i] = meanValue / channels.length;\n      }\n      return { float32Array, meanValues };\n    }\n  }\n\n  /**\n   * Converts 32-bit float data to 16-bit integers\n   */\n  floatTo16BitPCM(float32Array) {\n    const buffer = new ArrayBuffer(float32Array.length * 2);\n    const view = new DataView(buffer);\n    let offset = 0;\n    for (let i = 0; i < float32Array.length; i++, offset += 2) {\n      let s = Math.max(-1, Math.min(1, float32Array[i]));\n      view.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7fff, true);\n    }\n    return buffer;\n  }\n\n  /**\n   * Retrieves the most recent amplitude values from the audio stream\n   * @param {number} channel\n   */\n  getValues(channel = -1) {\n    const channels = this.readChannelData(this.chunks, channel);\n    const { meanValues } = this.formatAudioData(channels);\n    return { meanValues, channels };\n  }\n\n  /**\n   * Exports chunks as an audio/wav file\n   */\n  export() {\n    const channels = this.readChannelData(this.chunks);\n    const { float32Array, meanValues } = this.formatAudioData(channels);\n    const audioData = this.floatTo16BitPCM(float32Array);\n    return {\n      meanValues: meanValues,\n      audio: {\n        bitsPerSample: 16,\n        channels: channels,\n        data: audioData,\n      },\n    };\n  }\n\n  receive(e) {\n    const { event, id } = e.data;\n    let receiptData = {};\n    switch (event) {\n      case 'start':\n        this.recording = true;\n        break;\n      case 'stop':\n        this.recording = false;\n        break;\n      case 'clear':\n        this.initialize();\n        break;\n      case 'export':\n        receiptData = this.export();\n        break;\n      case 'read':\n        receiptData = this.getValues();\n        break;\n      default:\n        break;\n    }\n    // Always send back receipt\n    this.port.postMessage({ event: 'receipt', id, data: receiptData });\n  }\n\n  sendChunk(chunk) {\n    const channels = this.readChannelData([chunk]);\n    const { float32Array, meanValues } = this.formatAudioData(channels);\n    const rawAudioData = this.floatTo16BitPCM(float32Array);\n    const monoAudioData = this.floatTo16BitPCM(meanValues);\n    this.port.postMessage({\n      event: 'chunk',\n      data: {\n        mono: monoAudioData,\n        raw: rawAudioData,\n      },\n    });\n  }\n\n  process(inputList, outputList, parameters) {\n    // Copy input to output (e.g. speakers)\n    // Note that this creates choppy sounds with Mac products\n    const sourceLimit = Math.min(inputList.length, outputList.length);\n    for (let inputNum = 0; inputNum < sourceLimit; inputNum++) {\n      const input = inputList[inputNum];\n      const output = outputList[inputNum];\n      const channelCount = Math.min(input.length, output.length);\n      for (let channelNum = 0; channelNum < channelCount; channelNum++) {\n        input[channelNum].forEach((sample, i) => {\n          output[channelNum][i] = sample;\n        });\n      }\n    }\n    const inputs = inputList[0];\n    // There's latency at the beginning of a stream before recording starts\n    // Make sure we actually receive audio data before we start storing chunks\n    let sliceIndex = 0;\n    if (!this.foundAudio) {\n      for (const channel of inputs) {\n        sliceIndex = 0; // reset for each channel\n        if (this.foundAudio) {\n          break;\n        }\n        if (channel) {\n          for (const value of channel) {\n            if (value !== 0) {\n              // find only one non-zero entry in any channel\n              this.foundAudio = true;\n              break;\n            } else {\n              sliceIndex++;\n            }\n          }\n        }\n      }\n    }\n    if (inputs && inputs[0] && this.foundAudio && this.recording) {\n      // We need to copy the TypedArray, because the `process`\n      // internals will reuse the same buffer to hold each input\n      const chunk = inputs.map((input) => input.slice(sliceIndex));\n      this.chunks.push(chunk);\n      this.sendChunk(chunk);\n    }\n    return true;\n  }\n}\n\nregisterProcessor('audio_processor', AudioProcessor);\n"],{type:"application/javascript"}),S=URL.createObjectURL(_);class I{constructor(){let{sampleRate:e=44100,outputToSpeakers:t=!1,debug:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.scriptSrc=S,this.sampleRate=e,this.outputToSpeakers=t,this.debug=!!n,this._deviceChangeCallback=null,this._devices=[],this.stream=null,this.processor=null,this.source=null,this.node=null,this.recording=!1,this._lastEventId=0,this.eventReceipts={},this.eventTimeout=5e3,this._chunkProcessor=()=>{},this._chunkProcessorSize=void 0,this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)}}static async decode(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;const n=new AudioContext({sampleRate:arguments.length>1&&void 0!==arguments[1]?arguments[1]:44100});let r,s;if(e instanceof Blob){if(-1!==t)throw new Error('Can not specify "fromSampleRate" when reading from Blob');s=e,r=await s.arrayBuffer()}else if(e instanceof ArrayBuffer){if(-1!==t)throw new Error('Can not specify "fromSampleRate" when reading from ArrayBuffer');r=e,s=new Blob([r],{type:"audio/wav"})}else{let n,i;if(e instanceof Int16Array){i=e,n=new Float32Array(e.length);for(let t=0;t<e.length;t++)n[t]=e[t]/32768}else if(e instanceof Float32Array)n=e;else{if(!(e instanceof Array))throw new Error('"audioData" must be one of: Blob, Float32Arrray, Int16Array, ArrayBuffer, Array<number>');n=new Float32Array(e)}if(-1===t)throw new Error('Must specify "fromSampleRate" when reading from Float32Array, In16Array or Array');if(t<3e3)throw new Error('Minimum "fromSampleRate" is 3000 (3kHz)');i||(i=p.floatTo16BitPCM(n));const A={bitsPerSample:16,channels:[n],data:i};s=(new p).pack(t,A).blob,r=await s.arrayBuffer()}const i=await n.decodeAudioData(r),A=i.getChannelData(0);return{blob:s,url:URL.createObjectURL(s),values:A,audioBuffer:i}}log(){return this.debug&&this.log(...arguments),!0}getSampleRate(){return this.sampleRate}getStatus(){return this.processor?this.recording?"recording":"paused":"ended"}async _event(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(n=n||this.processor,!n)throw new Error("Can not send events without recording first");const r={event:e,id:this._lastEventId++,data:t};n.port.postMessage(r);const s=(new Date).valueOf();for(;!this.eventReceipts[r.id];){if((new Date).valueOf()-s>this.eventTimeout)throw new Error(`Timeout waiting for "${e}" event`);await new Promise((e=>setTimeout((()=>e(!0)),1)))}const i=this.eventReceipts[r.id];return delete this.eventReceipts[r.id],i}listenForDeviceChange(e){if(null===e&&this._deviceChangeCallback)navigator.mediaDevices.removeEventListener("devicechange",this._deviceChangeCallback),this._deviceChangeCallback=null;else if(null!==e){let t=0,n=[];const r=e=>e.map((e=>e.deviceId)).sort().join(","),s=async()=>{let s=++t;const i=await this.listDevices();s===t&&r(n)!==r(i)&&(n=i,e(i.slice()))};navigator.mediaDevices.addEventListener("devicechange",s),s(),this._deviceChangeCallback=s}return!0}async requestPermission(){const e=await navigator.permissions.query({name:"microphone"});if("denied"===e.state)window.alert("You must grant microphone access to use this feature.");else if("prompt"===e.state)try{const e=await navigator.mediaDevices.getUserMedia({audio:!0});e.getTracks().forEach((e=>e.stop()))}catch(t){window.alert("You must grant microphone access to use this feature.")}return!0}async listDevices(){if(!navigator.mediaDevices||!("enumerateDevices"in navigator.mediaDevices))throw new Error("Could not request user devices");await this.requestPermission();const e=(await navigator.mediaDevices.enumerateDevices()).filter((e=>"audioinput"===e.kind)),t=e.findIndex((e=>"default"===e.deviceId)),n=[];if(-1!==t){let r=e.splice(t,1)[0],s=e.findIndex((e=>e.groupId===r.groupId));-1!==s&&(r=e.splice(s,1)[0]),r.default=!0,n.push(r)}return n.concat(e)}async begin(e){if(this.processor)throw new Error("Already connected: please call .end() to start a new session");if(!navigator.mediaDevices||!("getUserMedia"in navigator.mediaDevices))throw new Error("Could not request user media");try{const t={audio:!0};e&&(t.audio={deviceId:{exact:e}}),this.stream=await navigator.mediaDevices.getUserMedia(t)}catch(A){throw new Error("Could not start media stream")}const t=new AudioContext({sampleRate:this.sampleRate}),n=t.createMediaStreamSource(this.stream);try{await t.audioWorklet.addModule(this.scriptSrc)}catch(o){throw console.error(o),new Error(`Could not add audioWorklet module: ${this.scriptSrc}`)}const r=new AudioWorkletNode(t,"audio_processor");r.port.onmessage=e=>{const{event:t,id:n,data:r}=e.data;if("receipt"===t)this.eventReceipts[n]=r;else if("chunk"===t)if(this._chunkProcessorSize){const e=this._chunkProcessorBuffer;this._chunkProcessorBuffer={raw:p.mergeBuffers(e.raw,r.raw),mono:p.mergeBuffers(e.mono,r.mono)},this._chunkProcessorBuffer.mono.byteLength>=this._chunkProcessorSize&&(this._chunkProcessor(this._chunkProcessorBuffer),this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)})}else this._chunkProcessor(r)};const s=n.connect(r),i=t.createAnalyser();return i.fftSize=8192,i.smoothingTimeConstant=.1,s.connect(i),this.outputToSpeakers&&(console.warn("Warning: Output to speakers may affect sound quality,\nespecially due to system audio feedback preventative measures.\nuse only for debugging"),i.connect(t.destination)),this.source=n,this.node=s,this.analyser=i,this.processor=r,!0}getFrequencies(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"frequency",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-30;if(!this.processor)throw new Error("Session ended: please call .begin() first");return b.getFrequencies(this.analyser,this.sampleRate,null,e,t,n)}async pause(){if(!this.processor)throw new Error("Session ended: please call .begin() first");if(!this.recording)throw new Error("Already paused: please call .record() first");return this._chunkProcessorBuffer.raw.byteLength&&this._chunkProcessor(this._chunkProcessorBuffer),this.log("Pausing ..."),await this._event("stop"),this.recording=!1,!0}async record(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8192;if(!this.processor)throw new Error("Session ended: please call .begin() first");if(this.recording)throw new Error("Already recording: please call .pause() first");if("function"!==typeof e)throw new Error("chunkProcessor must be a function");return this._chunkProcessor=e,this._chunkProcessorSize=t,this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)},this.log("Recording ..."),await this._event("start"),this.recording=!0,!0}async clear(){if(!this.processor)throw new Error("Session ended: please call .begin() first");return await this._event("clear"),!0}async read(){if(!this.processor)throw new Error("Session ended: please call .begin() first");this.log("Reading ...");return await this._event("read")}async save(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.processor)throw new Error("Session ended: please call .begin() first");if(!e&&this.recording)throw new Error("Currently recording: please call .pause() first, or call .save(true) to force");this.log("Exporting ...");const t=await this._event("export");return(new p).pack(this.sampleRate,t.audio)}async end(){if(!this.processor)throw new Error("Session ended: please call .begin() first");const e=this.processor;this.log("Stopping ..."),await this._event("stop"),this.recording=!1;this.stream.getTracks().forEach((e=>e.stop())),this.log("Exporting ...");const t=await this._event("export",{},e);this.processor.disconnect(),this.source.disconnect(),this.node.disconnect(),this.analyser.disconnect(),this.stream=null,this.processor=null,this.source=null,this.node=null;return(new p).pack(this.sampleRate,t.audio)}async quit(){return this.listenForDeviceChange(null),this.processor&&await this.end(),!0}}globalThis.WavRecorder=I;const x=new WeakMap,k={drawBars:function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,A=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];s=Math.floor(Math.min(s,(e.width-A)/(Math.max(i,1)+A))),s||(s=Math.floor((e.width-A)/(Math.max(i,1)+A))),i||(i=(e.width-A)/s-A);const a=function(e,t){let n,r,s,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],A=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(A&&(r=t.toString(),s=i.toString(),n=x.has(e)?x.get(e):{},x.set(e,n),n[r]=n[r]||{},n[r][s]))return n[r][s];const o=e.length,a=new Array(t);if(t<=o){a.fill(0);const n=new Array(t).fill(0);for(let r=0;r<o;r++){const s=Math.floor(r*(t/o));i?a[s]=Math.max(a[s],Math.abs(e[r])):a[s]+=Math.abs(e[r]),n[s]++}if(!i)for(let e=0;e<a.length;e++)a[e]=a[e]/n[e]}else for(let l=0;l<t;l++){const n=l*(o-1)/(t-1),r=Math.floor(n),s=Math.ceil(n),i=n-r;a[l]=s>=o?e[o-1]:e[r]*(1-i)+e[s]*i}return A&&(n[r][s]=a),a}(n,s,!0);for(let l=0;l<s;l++){const n=Math.abs(a[l]),s=Math.max(1,n*e.height),c=A+l*(i+A),u=o?(e.height-s)/2:e.height-s;t.fillStyle=r,t.fillRect(c,u,i,s)}}};var F=n(173),U=n.n(F);function L(){return L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L.apply(this,arguments)}function Q(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var D=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=Q(e,["color","size"]);return s.createElement("svg",L({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))}));D.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},D.displayName="X";const O=D;function R(){return R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R.apply(this,arguments)}function N(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var M=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=N(e,["color","size"]);return s.createElement("svg",R({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),s.createElement("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}))}));M.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},M.displayName="BookOpen";const P=M;function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}function K(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var G=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=K(e,["color","size"]);return s.createElement("svg",H({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("path",{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"}))}));G.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},G.displayName="Key";const j=G;function V(){return V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}function z(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var W=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=z(e,["color","size"]);return s.createElement("svg",V({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("polyline",{points:"17 1 21 5 17 9"}),s.createElement("path",{d:"M3 11V9a4 4 0 0 1 4-4h14"}),s.createElement("polyline",{points:"7 23 3 19 7 15"}),s.createElement("path",{d:"M21 13v2a4 4 0 0 1-4 4H3"}))}));W.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},W.displayName="Repeat";const Y=W;function X(){return X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X.apply(this,arguments)}function q(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var $=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=q(e,["color","size"]);return s.createElement("svg",X({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("polygon",{points:"19 20 9 12 19 4 19 20"}),s.createElement("line",{x1:"5",y1:"19",x2:"5",y2:"5"}))}));$.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},$.displayName="SkipBack";const J=$;function Z(){return Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z.apply(this,arguments)}function ee(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var te=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=ee(e,["color","size"]);return s.createElement("svg",Z({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("polygon",{points:"5 4 15 12 5 20 5 4"}),s.createElement("line",{x1:"19",y1:"5",x2:"19",y2:"19"}))}));te.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},te.displayName="SkipForward";const ne=te;function re(){return re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},re.apply(this,arguments)}function se(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var ie=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=se(e,["color","size"]);return s.createElement("svg",re({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("circle",{cx:"12",cy:"12",r:"10"}),s.createElement("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),s.createElement("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}))}));ie.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},ie.displayName="Globe";const Ae=ie;function oe(){return oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(this,arguments)}function ae(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var le=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=ae(e,["color","size"]);return s.createElement("svg",oe({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("circle",{cx:"11",cy:"11",r:"8"}),s.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),s.createElement("line",{x1:"11",y1:"8",x2:"11",y2:"14"}),s.createElement("line",{x1:"8",y1:"11",x2:"14",y2:"11"}))}));le.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},le.displayName="ZoomIn";const ce=le;function ue(){return ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue.apply(this,arguments)}function he(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var de=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=he(e,["color","size"]);return s.createElement("svg",ue({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("circle",{cx:"11",cy:"11",r:"8"}),s.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),s.createElement("line",{x1:"8",y1:"11",x2:"14",y2:"11"}))}));de.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},de.displayName="ZoomOut";const pe=de;function fe(){return fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(this,arguments)}function ge(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var me=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=ge(e,["color","size"]);return s.createElement("svg",fe({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),s.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))}));me.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},me.displayName="Plus";const we=me;function ye(){return ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}function Be(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var Ee=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=Be(e,["color","size"]);return s.createElement("svg",ye({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))}));Ee.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},Ee.displayName="Minus";const be=Ee;function ve(){return ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ve.apply(this,arguments)}function Ce(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var Te=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=Ce(e,["color","size"]);return s.createElement("svg",ve({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),s.createElement("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),s.createElement("line",{x1:"9",y1:"21",x2:"9",y2:"9"}))}));Te.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},Te.displayName="Layout";const _e=Te;function Se(){return Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Se.apply(this,arguments)}function Ie(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var xe=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=Ie(e,["color","size"]);return s.createElement("svg",Se({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"}))}));xe.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},xe.displayName="Zap";const ke=xe;function Fe(){return Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fe.apply(this,arguments)}function Ue(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var Le=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=Ue(e,["color","size"]);return s.createElement("svg",Fe({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),s.createElement("polyline",{points:"12 19 5 12 12 5"}))}));Le.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},Le.displayName="ArrowLeft";const Qe=Le;function De(){return De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},De.apply(this,arguments)}function Oe(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var Re=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=Oe(e,["color","size"]);return s.createElement("svg",De({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),s.createElement("polyline",{points:"12 5 19 12 12 19"}))}));Re.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},Re.displayName="ArrowRight";const Ne=Re;function Me(){return Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Me.apply(this,arguments)}function Pe(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var He=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=Pe(e,["color","size"]);return s.createElement("svg",Me({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("line",{x1:"18",y1:"10",x2:"6",y2:"10"}),s.createElement("line",{x1:"21",y1:"6",x2:"3",y2:"6"}),s.createElement("line",{x1:"21",y1:"14",x2:"3",y2:"14"}),s.createElement("line",{x1:"18",y1:"18",x2:"6",y2:"18"}))}));He.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},He.displayName="AlignCenter";const Ke=He;function Ge(){return Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge.apply(this,arguments)}function je(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var Ve=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=je(e,["color","size"]);return s.createElement("svg",Ge({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("rect",{x:"6",y:"4",width:"4",height:"16"}),s.createElement("rect",{x:"14",y:"4",width:"4",height:"16"}))}));Ve.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},Ve.displayName="Pause";const ze=Ve;function We(){return We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},We.apply(this,arguments)}function Ye(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var Xe=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=Ye(e,["color","size"]);return s.createElement("svg",We({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("polygon",{points:"5 3 19 12 5 21 5 3"}))}));Xe.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},Xe.displayName="Play";const qe=Xe;function $e(){return $e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$e.apply(this,arguments)}function Je(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var Ze=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=Je(e,["color","size"]);return s.createElement("svg",$e({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),s.createElement("polyline",{points:"17 6 23 6 23 12"}))}));Ze.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},Ze.displayName="TrendingUp";const et=Ze;function tt(){return tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tt.apply(this,arguments)}function nt(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var rt=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=nt(e,["color","size"]);return s.createElement("svg",tt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}))}));rt.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},rt.displayName="Volume";const st=rt;function it(){return it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},it.apply(this,arguments)}function At(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var ot=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=At(e,["color","size"]);return s.createElement("svg",it({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),s.createElement("polyline",{points:"2 17 12 22 22 17"}),s.createElement("polyline",{points:"2 12 12 17 22 12"}))}));ot.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},ot.displayName="Layers";const at=ot;function lt(){return lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lt.apply(this,arguments)}function ct(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var ut=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=ct(e,["color","size"]);return s.createElement("svg",lt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("circle",{cx:"12",cy:"12",r:"10"}),s.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),s.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))}));ut.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},ut.displayName="HelpCircle";const ht=ut;function dt(){return dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dt.apply(this,arguments)}function pt(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var ft=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=pt(e,["color","size"]);return s.createElement("svg",dt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}),s.createElement("path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"}),s.createElement("path",{d:"M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"}),s.createElement("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),s.createElement("line",{x1:"8",y1:"23",x2:"16",y2:"23"}))}));ft.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},ft.displayName="MicOff";const gt=ft;function mt(){return mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mt.apply(this,arguments)}function wt(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var yt=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=wt(e,["color","size"]);return s.createElement("svg",mt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),s.createElement("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),s.createElement("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),s.createElement("line",{x1:"8",y1:"23",x2:"16",y2:"23"}))}));yt.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},yt.displayName="Mic";const Bt=yt;function Et(){return Et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Et.apply(this,arguments)}function bt(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var vt=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=bt(e,["color","size"]);return s.createElement("svg",Et({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("circle",{cx:"12",cy:"12",r:"3"}),s.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}))}));vt.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},vt.displayName="Settings";const Ct=vt;function Tt(){return Tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tt.apply(this,arguments)}function _t(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var St=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=_t(e,["color","size"]);return s.createElement("svg",Tt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),s.createElement("circle",{cx:"12",cy:"7",r:"4"}))}));St.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},St.displayName="User";const It=St;function xt(){return xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xt.apply(this,arguments)}function kt(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var Ft=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=kt(e,["color","size"]);return s.createElement("svg",xt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),s.createElement("circle",{cx:"8.5",cy:"7",r:"4"}),s.createElement("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),s.createElement("line",{x1:"23",y1:"11",x2:"17",y2:"11"}))}));Ft.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},Ft.displayName="UserPlus";const Ut=Ft;function Lt(){return Lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lt.apply(this,arguments)}function Qt(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var Dt=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=Qt(e,["color","size"]);return s.createElement("svg",Lt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),s.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))}));Dt.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},Dt.displayName="Edit";const Ot=Dt;function Rt(){return Rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rt.apply(this,arguments)}function Nt(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var Mt=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=Nt(e,["color","size"]);return s.createElement("svg",Rt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}))}));Mt.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},Mt.displayName="Edit2";const Pt=Mt;function Ht(){return Ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ht.apply(this,arguments)}function Kt(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var Gt=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=Kt(e,["color","size"]);return s.createElement("svg",Ht({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),s.createElement("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}))}));Gt.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},Gt.displayName="Book";const jt=Gt;var Vt=n(579),zt=function(e,t,n){if(n||2===arguments.length)for(var r,s=0,i=t.length;s<i;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))},Wt=zt(zt(zt(zt(zt(zt(zt(zt(zt(zt(zt(zt(zt(zt(zt(zt(zt(zt([],["onCopy","onCut","onPaste"],!0),["onCompositionEnd","onCompositionStart","onCompositionUpdate"],!0),["onFocus","onBlur"],!0),["onInput","onInvalid","onReset","onSubmit"],!0),["onLoad","onError"],!0),["onKeyDown","onKeyPress","onKeyUp"],!0),["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],!0),["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],!0),["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],!0),["onSelect"],!0),["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],!0),["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],!0),["onScroll"],!0),["onWheel"],!0),["onAnimationStart","onAnimationEnd","onAnimationIteration"],!0),["onTransitionEnd"],!0),["onChange"],!0),["onToggle"],!0);function Yt(e,t){var n={};return Wt.forEach((function(r){var s=e[r];s&&(n[r]=t?function(e){return s(e,t(r))}:s)})),n}function Xt(e){var t=!1;return{promise:new Promise((function(n,r){e.then((function(e){return!t&&n(e)})).catch((function(e){return!t&&r(e)}))})),cancel:function(){t=!0}}}function qt(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=qt(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const $t=function(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=qt(e))&&(r&&(r+=" "),r+=t);return r};var Jt=!0,Zt="Invariant failed";function en(e,t){if(!e){if(Jt)throw new Error(Zt);var n="function"===typeof t?t():t,r=n?"".concat(Zt,": ").concat(n):Zt;throw new Error(r)}}var tn=n(440),nn=Object.prototype.hasOwnProperty;function rn(e,t,n){for(n of e.keys())if(sn(n,t))return n}function sn(e,t){var n,r,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&sn(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;for(r of e){if((s=r)&&"object"===typeof s&&!(s=rn(t,s)))return!1;if(!t.has(s))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e){if((s=r[0])&&"object"===typeof s&&!(s=rn(t,s)))return!1;if(!sn(r[1],t.get(s)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(nn.call(e,n)&&++r&&!nn.call(t,n))return!1;if(!(n in t)||!sn(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}var An={d:(e,t)=>{for(var n in t)An.o(t,n)&&!An.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},on=globalThis.pdfjsLib={};An.d(on,{AbortException:()=>yr,AnnotationEditorLayer:()=>Bo,AnnotationEditorParamsType:()=>En,AnnotationEditorType:()=>Bn,AnnotationEditorUIManager:()=>Es,AnnotationLayer:()=>oo,AnnotationMode:()=>yn,CMapCompressionType:()=>er,ColorPicker:()=>go,DOMSVGFactory:()=>Xr,DrawLayer:()=>Eo,FeatureTest:()=>vr,GlobalWorkerOptions:()=>hi,ImageKind:()=>xn,InvalidPDFException:()=>fr,MissingPDFException:()=>gr,OPS:()=>tr,Outliner:()=>co,PDFDataRangeTransport:()=>pA,PDFDateString:()=>os,PDFWorker:()=>yA,PasswordResponses:()=>nr,PermissionFlag:()=>bn,PixelsPerInch:()=>Vr,RenderingCancelledException:()=>$r,TextLayer:()=>nA,UnexpectedResponseException:()=>mr,Util:()=>Tr,VerbosityLevel:()=>Zn,XfaLayer:()=>kA,build:()=>_A,createValidAbsoluteUrl:()=>cr,fetchData:()=>zr,getDocument:()=>uA,getFilenameFromUrl:()=>es,getPdfFilenameFromUrl:()=>ts,getXfaPageViewport:()=>as,isDataScheme:()=>Jr,isPdfFile:()=>Zr,noContextMenu:()=>ss,normalizeUnicode:()=>Ir,renderTextLayer:()=>rA,setLayerDimensions:()=>hs,shadow:()=>ur,updateTextLayer:()=>sA,version:()=>TA});const an="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),ln=[1,0,0,1,0,0],cn=[.001,0,0,.001,0,0],un=1.35,hn=1,dn=2,pn=4,fn=16,gn=32,mn=64,wn=256,yn={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Bn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},En={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},bn={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},vn=0,Cn=1,Tn=2,_n=3,Sn=3,In=4,xn={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},kn=1,Fn=2,Un=3,Ln=4,Qn=5,Dn=6,On=7,Rn=8,Nn=9,Mn=10,Pn=11,Hn=12,Kn=13,Gn=14,jn=15,Vn=16,zn=17,Wn=20,Yn=1,Xn=2,qn=3,$n=4,Jn=5,Zn={ERRORS:0,WARNINGS:1,INFOS:5},er={NONE:0,BINARY:1},tr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},nr={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let rr=Zn.WARNINGS;function sr(e){Number.isInteger(e)&&(rr=e)}function ir(){return rr}function Ar(e){rr>=Zn.INFOS&&console.log(`Info: ${e}`)}function or(e){rr>=Zn.WARNINGS&&console.log(`Warning: ${e}`)}function ar(e){throw new Error(e)}function lr(e,t){e||ar(t)}function cr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;try{if(n&&"string"===typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);t?.length>=2&&(e=`http://${e}`)}if(n.tryConvertEncoding)try{e=function(e){return decodeURIComponent(escape(e))}(e)}catch{}}const r=t?new URL(e,t):new URL(e);if(function(e){switch(e?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(r))return r}catch{}return null}function ur(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const hr=function(){function e(t,n){this.constructor===e&&ar("Cannot initialize BaseException."),this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class dr extends hr{constructor(e,t){super(e,"PasswordException"),this.code=t}}class pr extends hr{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class fr extends hr{constructor(e){super(e,"InvalidPDFException")}}class gr extends hr{constructor(e){super(e,"MissingPDFException")}}class mr extends hr{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class wr extends hr{constructor(e){super(e,"FormatError")}}class yr extends hr{constructor(e){super(e,"AbortException")}}function Br(e){"object"===typeof e&&void 0!==e?.length||ar("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const r=[];for(let s=0;s<t;s+=n){const i=Math.min(s+n,t),A=e.subarray(s,i);r.push(String.fromCharCode.apply(null,A))}return r.join("")}function Er(e){"string"!==typeof e&&ar("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let r=0;r<t;++r)n[r]=255&e.charCodeAt(r);return n}function br(e){const t=Object.create(null);for(const[n,r]of e)t[n]=r;return t}class vr{static get isLittleEndian(){return ur(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return ur(this,"isEvalSupported",function(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return ur(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get platform(){return"undefined"!==typeof navigator&&"string"===typeof navigator?.platform?ur(this,"platform",{isMac:navigator.platform.includes("Mac")}):ur(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return ur(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Cr=Array.from(Array(256).keys(),(e=>e.toString(16).padStart(2,"0")));class Tr{static makeHexColor(e,t,n){return`#${Cr[e]}${Cr[t]}${Cr[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),i=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],r[0],s[0],i[0]),Math.min(n[1],r[1],s[1],i[1]),Math.max(n[0],r[0],s[0],i[0]),Math.max(n[1],r[1],s[1],i[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],i=e[2]*t[1]+e[3]*t[3],A=(n+i)/2,o=Math.sqrt((n+i)**2-4*(n*i-s*r))/2,a=A+o||1,l=A-o||1;return[Math.sqrt(a),Math.sqrt(l)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),i=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>i?null:[n,s,r,i]}static#e(e,t,n,r,s,i,A,o,a,l){if(a<=0||a>=1)return;const c=1-a,u=a*a,h=u*a,d=c*(c*(c*e+3*a*t)+3*u*n)+h*r,p=c*(c*(c*s+3*a*i)+3*u*A)+h*o;l[0]=Math.min(l[0],d),l[1]=Math.min(l[1],p),l[2]=Math.max(l[2],d),l[3]=Math.max(l[3],p)}static#t(e,t,n,r,s,i,A,o,a,l,c,u){if(Math.abs(a)<1e-12)return void(Math.abs(l)>=1e-12&&this.#e(e,t,n,r,s,i,A,o,-c/l,u));const h=l**2-4*c*a;if(h<0)return;const d=Math.sqrt(h),p=2*a;this.#e(e,t,n,r,s,i,A,o,(-l+d)/p,u),this.#e(e,t,n,r,s,i,A,o,(-l-d)/p,u)}static bezierBoundingBox(e,t,n,r,s,i,A,o,a){return a?(a[0]=Math.min(a[0],e,A),a[1]=Math.min(a[1],t,o),a[2]=Math.max(a[2],e,A),a[3]=Math.max(a[3],t,o)):a=[Math.min(e,A),Math.min(t,o),Math.max(e,A),Math.max(t,o)],this.#t(e,n,s,A,t,r,i,o,3*(3*(n-s)-e+A),6*(e-2*n+s),3*(n-e),a),this.#t(e,n,s,A,t,r,i,o,3*(3*(r-i)-t+o),6*(t-2*r+i),3*(r-t),a),a}}let _r=null,Sr=null;function Ir(e){return _r||(_r=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Sr=new Map([["\ufb05","\u017ft"]])),e.replaceAll(_r,((e,t,n)=>t?t.normalize("NFKC"):Sr.get(n)))}const xr="pdfjs_internal_id_",kr=0,Fr=1,Ur=2,Lr=3,Qr=4,Dr=5,Or=6,Rr=7,Nr=8;class Mr{constructor(){this.constructor===Mr&&ar("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,r,s){return"none"}destroy(){}}class Pr{#n=!1;constructor(){let{enableHWA:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.constructor===Pr&&ar("Cannot initialize BaseCanvasFactory."),this.#n=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#n})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){ar("Abstract method `_createCanvas` called.")}}class Hr{constructor(e){let{baseUrl:t=null,isCompressed:n=!0}=e;this.constructor===Hr&&ar("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=n}async fetch(e){let{name:t}=e;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":""),r=this.isCompressed?er.BINARY:er.NONE;return this._fetchData(n,r).catch((e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)}))}_fetchData(e,t){ar("Abstract method `_fetchData` called.")}}class Kr{constructor(e){let{baseUrl:t=null}=e;this.constructor===Kr&&ar("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${t}`;return this._fetchData(n).catch((e=>{throw new Error(`Unable to load font data at: ${n}`)}))}_fetchData(e){ar("Abstract method `_fetchData` called.")}}class Gr{constructor(){this.constructor===Gr&&ar("Cannot initialize BaseSVGFactory.")}create(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if("string"!==typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){ar("Abstract method `_createSVG` called.")}}const jr="http://www.w3.org/2000/svg";class Vr{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=(()=>this.CSS/this.PDF)()}async function zr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(rs(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);switch(t){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise(((n,r)=>{const s=new XMLHttpRequest;s.open("GET",e,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE)if(200!==s.status&&0!==s.status)r(new Error(s.statusText));else{switch(t){case"arraybuffer":case"blob":case"json":return void n(s.response)}n(s.responseText)}},s.send(null)}))}class Wr extends Hr{_fetchData(e,t){return zr(e,this.isCompressed?"arraybuffer":"text").then((e=>({cMapData:e instanceof ArrayBuffer?new Uint8Array(e):Er(e),compressionType:t})))}}class Yr extends Kr{_fetchData(e){return zr(e,"arraybuffer").then((e=>new Uint8Array(e)))}}class Xr extends Gr{_createSVG(e){return document.createElementNS(jr,e)}}class qr{constructor(e){let{viewBox:t,scale:n,rotation:r,offsetX:s=0,offsetY:i=0,dontFlip:A=!1}=e;this.viewBox=t,this.scale=n,this.rotation=r,this.offsetX=s,this.offsetY=i;const o=(t[2]+t[0])/2,a=(t[3]+t[1])/2;let l,c,u,h,d,p,f,g;switch(r%=360,r<0&&(r+=360),r){case 180:l=-1,c=0,u=0,h=1;break;case 90:l=0,c=1,u=1,h=0;break;case 270:l=0,c=-1,u=-1,h=0;break;case 0:l=1,c=0,u=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}A&&(u=-u,h=-h),0===l?(d=Math.abs(a-t[1])*n+s,p=Math.abs(o-t[0])*n+i,f=(t[3]-t[1])*n,g=(t[2]-t[0])*n):(d=Math.abs(o-t[0])*n+s,p=Math.abs(a-t[1])*n+i,f=(t[2]-t[0])*n,g=(t[3]-t[1])*n),this.transform=[l*n,c*n,u*n,h*n,d-l*n*o-u*n*a,p-c*n*o-h*n*a],this.width=f,this.height=g}get rawDims(){const{viewBox:e}=this;return ur(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone(){let{scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new qr({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){return Tr.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Tr.applyTransform([e[0],e[1]],this.transform),n=Tr.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return Tr.applyInverseTransform([e,t],this.transform)}}class $r extends hr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(e,"RenderingCancelledException"),this.extraDelay=t}}function Jr(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function Zr(e){return"string"===typeof e&&/\.pdf$/i.test(e)}function es(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)}function ts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(Jr(e))return or('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e);let s=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(s&&(s=s[0],s.includes("%")))try{s=n.exec(decodeURIComponent(s))[0]}catch{}return s||t}class ns{started=(()=>Object.create(null))();times=[];time(e){e in this.started&&or(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||or(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:s}of this.times)e.push(`${n.padEnd(t)} ${s-r}ms\n`);return e.join("")}}function rs(e,t){try{const{protocol:n}=t?new URL(e,t):new URL(e);return"http:"===n||"https:"===n}catch{return!1}}function ss(e){e.preventDefault()}function is(e){console.log("Deprecated API usage: "+e)}let As;class os{static toDateObject(e){if(!e||"string"!==typeof e)return null;As||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=As.exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let i=parseInt(t[4],10);i=i>=0&&i<=23?i:0;let A=parseInt(t[5],10);A=A>=0&&A<=59?A:0;let o=parseInt(t[6],10);o=o>=0&&o<=59?o:0;const a=t[7]||"Z";let l=parseInt(t[8],10);l=l>=0&&l<=23?l:0;let c=parseInt(t[9],10)||0;return c=c>=0&&c<=59?c:0,"-"===a?(i+=l,A+=c):"+"===a&&(i-=l,A-=c),new Date(Date.UTC(n,r,s,i,A,o))}}function as(e,t){let{scale:n=1,rotation:r=0}=t;const{width:s,height:i}=e.attributes.style,A=[0,0,parseInt(s),parseInt(i)];return new qr({viewBox:A,scale:n,rotation:r})}function ls(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map((e=>parseInt(e))):e.startsWith("rgba(")?e.slice(5,-1).split(",").map((e=>parseInt(e))).slice(0,3):(or(`Not a valid color format: "${e}"`),[0,0,0])}function cs(e){const{a:t,b:n,c:r,d:s,e:i,f:A}=e.getTransform();return[t,n,r,s,i,A]}function us(e){const{a:t,b:n,c:r,d:s,e:i,f:A}=e.getTransform().invertSelf();return[t,n,r,s,i,A]}function hs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof qr){const{pageWidth:r,pageHeight:s}=t.rawDims,{style:i}=e,A=vr.isCSSRoundSupported,o=`var(--scale-factor) * ${r}px`,a=`var(--scale-factor) * ${s}px`,l=A?`round(${o}, 1px)`:`calc(${o})`,c=A?`round(${a}, 1px)`:`calc(${a})`;n&&t.rotation%180!==0?(i.width=c,i.height=l):(i.width=l,i.height=c)}r&&e.setAttribute("data-main-rotation",t.rotation)}class ds{#r=null;#s=null;#i;#A=null;constructor(e){this.#i=e}render(){const e=this.#r=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const t=this.#i._uiManager._signal;e.addEventListener("contextmenu",ss,{signal:t}),e.addEventListener("pointerdown",ds.#o,{signal:t});const n=this.#A=document.createElement("div");n.className="buttons",e.append(n);const r=this.#i.toolbarPosition;if(r){const{style:t}=e,n="ltr"===this.#i._uiManager.direction?1-r[0]:r[0];t.insetInlineEnd=100*n+"%",t.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return this.#a(),e}static#o(e){e.stopPropagation()}#l(e){this.#i._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()}#c(e){this.#i._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()}#u(e){const t=this.#i._uiManager._signal;e.addEventListener("focusin",this.#l.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#c.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",ss,{signal:t})}hide(){this.#r.classList.add("hidden"),this.#s?.hideDropdown()}show(){this.#r.classList.remove("hidden")}#a(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${this.#i.editorType}-button`),this.#u(e),e.addEventListener("click",(e=>{this.#i._uiManager.delete()}),{signal:this.#i._uiManager._signal}),this.#A.append(e)}get#h(){const e=document.createElement("div");return e.className="divider",e}addAltTextButton(e){this.#u(e),this.#A.prepend(e,this.#h)}addColorPicker(e){this.#s=e;const t=e.renderButton();this.#u(t),this.#A.prepend(t,this.#h)}remove(){this.#r.remove(),this.#s?.destroy(),this.#s=null}}class ps{#A=null;#r=null;#d;constructor(e){this.#d=e}#p(){const e=this.#r=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",ss,{signal:this.#d._signal});const t=this.#A=document.createElement("div");return t.className="buttons",e.append(t),this.#f(),e}#g(e,t){let n=0,r=0;for(const s of e){const e=s.y+s.height;if(e<n)continue;const i=s.x+(t?s.width:0);e>n?(r=i,n=e):t?i>r&&(r=i):i<r&&(r=i)}return[t?1-r:r,n]}show(e,t,n){const[r,s]=this.#g(t,n),{style:i}=this.#r||=this.#p();e.append(this.#r),i.insetInlineEnd=100*r+"%",i.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#r.remove()}#f(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=this.#d._signal;e.addEventListener("contextmenu",ss,{signal:n}),e.addEventListener("click",(()=>{this.#d.highlightSelection("floating_button")}),{signal:n}),this.#A.append(e)}}function fs(e,t,n){for(const r of n)t.addEventListener(r,e[r].bind(e))}class gs{#m=0;get id(){return"pdfjs_internal_editor_"+this.#m++}}class ms{#w=(()=>function(){if("undefined"!==typeof crypto&&"function"===typeof crypto?.randomUUID)return crypto.randomUUID();const e=new Uint8Array(32);if("undefined"!==typeof crypto&&"function"===typeof crypto?.getRandomValues)crypto.getRandomValues(e);else for(let t=0;t<32;t++)e[t]=Math.floor(255*Math.random());return Br(e)}())();#m=0;#y=null;static get _isSVGFittingCanvas(){const e=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),t=new Image;t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';return ur(this,"_isSVGFittingCanvas",t.decode().then((()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0]))))}async#B(e,t){this.#y||=new Map;let n=this.#y.get(e);if(null===n)return null;if(n?.bitmap)return n.refCounter+=1,n;try{let e;if(n||={bitmap:null,id:`image_${this.#w}_${this.#m++}`,refCounter:0,isSvg:!1},"string"===typeof t?(n.url=t,e=await zr(t,"blob")):e=n.file=t,"image/svg+xml"===e.type){const t=ms._isSVGFittingCanvas,r=new FileReader,s=new Image,i=new Promise(((e,i)=>{s.onload=()=>{n.bitmap=s,n.isSvg=!0,e()},r.onload=async()=>{const e=n.svgUrl=r.result;s.src=await t?`${e}#svgView(preserveAspectRatio(none))`:e},s.onerror=r.onerror=i}));r.readAsDataURL(e),await i}else n.bitmap=await createImageBitmap(e);n.refCounter=1}catch(r){console.error(r),n=null}return this.#y.set(e,n),n&&this.#y.set(n.id,n),n}async getFromFile(e){const{lastModified:t,name:n,size:r,type:s}=e;return this.#B(`${t}_${n}_${r}_${s}`,e)}async getFromUrl(e){return this.#B(e,e)}async getFromId(e){this.#y||=new Map;const t=this.#y.get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=this.#y.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#y||=new Map;const t=this.#y.get(e);t&&(t.refCounter-=1,0===t.refCounter&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${this.#w}_`)}}class ws{#E=[];#b=!1;#v;#C=-1;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;this.#v=e}add(e){let{cmd:t,undo:n,post:r,mustExec:s,type:i=NaN,overwriteIfSameType:A=!1,keepUndo:o=!1}=e;if(s&&t(),this.#b)return;const a={cmd:t,undo:n,post:r,type:i};if(-1===this.#C)return this.#E.length>0&&(this.#E.length=0),this.#C=0,void this.#E.push(a);if(A&&this.#E[this.#C].type===i)return o&&(a.undo=this.#E[this.#C].undo),void(this.#E[this.#C]=a);const l=this.#C+1;l===this.#v?this.#E.splice(0,1):(this.#C=l,l<this.#E.length&&this.#E.splice(l)),this.#E.push(a)}undo(){if(-1===this.#C)return;this.#b=!0;const{undo:e,post:t}=this.#E[this.#C];e(),t?.(),this.#b=!1,this.#C-=1}redo(){if(this.#C<this.#E.length-1){this.#C+=1,this.#b=!0;const{cmd:e,post:t}=this.#E[this.#C];e(),t?.(),this.#b=!1}}hasSomethingToUndo(){return-1!==this.#C}hasSomethingToRedo(){return this.#C<this.#E.length-1}destroy(){this.#E=null}}class ys{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=vr.platform;for(const[n,r,s={}]of e)for(const e of n){const n=e.startsWith("mac+");t&&n?(this.callbacks.set(e.slice(4),{callback:r,options:s}),this.allKeys.add(e.split("+").at(-1))):t||n||(this.callbacks.set(e,{callback:r,options:s}),this.allKeys.add(e.split("+").at(-1)))}}#T(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(this.#T(t));if(!n)return;const{callback:r,options:{bubbles:s=!1,args:i=[],checker:A=null}}=n;A&&!A(e,t)||(r.bind(e,...i,t)(),s||(t.stopPropagation(),t.preventDefault()))}}class Bs{static _colorsMapping=(()=>new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]))();get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return function(e){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const n of e.keys()){t.style.color=n;const r=window.getComputedStyle(t).color;e.set(n,ls(r))}t.remove()}(e),ur(this,"_colors",e)}convert(e){const t=ls(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every(((e,n)=>e===t[n])))return Bs._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Tr.makeHexColor(...t):e}}class Es{#_=(()=>new AbortController)();#S=null;#I=(()=>new Map)();#x=(()=>new Map)();#k=null;#F=null;#U=null;#L=(()=>new ws)();#Q=0;#D=(()=>new Set)();#O=null;#R=null;#N=(()=>new Set)();#M=!1;#P=null;#H=null;#K=null;#G=!1;#j=null;#V=(()=>new gs)();#z=!1;#W=!1;#Y=null;#X=null;#q=null;#$=(()=>Bn.NONE)();#J=(()=>new Set)();#Z=null;#ee=null;#te=null;#ne=this.blur.bind(this);#re=this.focus.bind(this);#se=this.copy.bind(this);#ie=this.cut.bind(this);#Ae=this.paste.bind(this);#oe=this.keydown.bind(this);#ae=this.keyup.bind(this);#le=this.onEditingAction.bind(this);#ce=this.onPageChanging.bind(this);#ue=this.onScaleChanging.bind(this);#he=this.onRotationChanging.bind(this);#de={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#pe=[0,0];#fe=null;#ge=null;#me=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=Es.prototype,t=e=>e.#ge.contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&e.hasSomethingToControl(),n=(e,t)=>{let{target:n}=t;if(n instanceof HTMLInputElement){const{type:e}=n;return"text"!==e&&"number"!==e}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return ur(this,"_keyboardManager",new ys([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&e.#ge.contains(n)&&!e.isEnterHandled}}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&e.#ge.contains(document.activeElement)}}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}constructor(e,t,n,r,s,i,A,o,a){this._signal=this.#_.signal,this.#ge=e,this.#me=t,this.#k=n,this._eventBus=r,this._eventBus._on("editingaction",this.#le),this._eventBus._on("pagechanging",this.#ce),this._eventBus._on("scalechanging",this.#ue),this._eventBus._on("rotationchanging",this.#he),this.#we(),this.#ye(),this.#Be(),this.#F=s.annotationStorage,this.#P=s.filterFactory,this.#ee=i,this.#K=A||null,this.#M=o,this.#q=a||null,this.viewParameters={realScale:Vr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#_?.abort(),this.#_=null,this._signal=null,this._eventBus._off("editingaction",this.#le),this._eventBus._off("pagechanging",this.#ce),this._eventBus._off("scalechanging",this.#ue),this._eventBus._off("rotationchanging",this.#he);for(const e of this.#x.values())e.destroy();this.#x.clear(),this.#I.clear(),this.#N.clear(),this.#S=null,this.#J.clear(),this.#L.destroy(),this.#k?.destroy(),this.#j?.hide(),this.#j=null,this.#H&&(clearTimeout(this.#H),this.#H=null),this.#fe&&(clearTimeout(this.#fe),this.#fe=null)}async mlGuess(e){return this.#q?.guess(e)||null}get hasMLManager(){return!!this.#q}get hcmFilter(){return ur(this,"hcmFilter",this.#ee?this.#P.addHCMFilter(this.#ee.foreground,this.#ee.background):"none")}get direction(){return ur(this,"direction",getComputedStyle(this.#ge).direction)}get highlightColors(){return ur(this,"highlightColors",this.#K?new Map(this.#K.split(",").map((e=>e.split("=").map((e=>e.trim()))))):null)}get highlightColorNames(){return ur(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,(e=>e.reverse()))):null)}setMainHighlightColorPicker(e){this.#X=e}editAltText(e){this.#k?.editAltText(this,e)}onPageChanging(e){let{pageNumber:t}=e;this.#Q=t-1}focusMainContainer(){this.#ge.focus()}findParent(e,t){for(const n of this.#x.values()){const{x:r,y:s,width:i,height:A}=n.div.getBoundingClientRect();if(e>=r&&e<=r+i&&t>=s&&t<=s+A)return n}return null}disableUserSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#me.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#N.add(e)}removeShouldRescale(e){this.#N.delete(e)}onScaleChanging(e){let{scale:t}=e;this.commitOrRemove(),this.viewParameters.realScale=t*Vr.PDF_TO_CSS_UNITS;for(const n of this.#N)n.onScaleChanging()}onRotationChanging(e){let{pagesRotation:t}=e;this.commitOrRemove(),this.viewParameters.rotation=t}#Ee(e){let{anchorNode:t}=e;return t.nodeType===Node.TEXT_NODE?t.parentElement:t}highlightSelection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:i}=t,A=t.toString(),o=this.#Ee(t).closest(".textLayer"),a=this.getSelectionBoxes(o);if(a){t.empty(),this.#$===Bn.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:Bn.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const t of this.#x.values())if(t.hasTextLayer(o)){t.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:a,anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:i,text:A});break}}}#be(){const e=document.getSelection();if(!e||e.isCollapsed)return;const t=this.#Ee(e).closest(".textLayer"),n=this.getSelectionBoxes(t);n&&(this.#j||=new ps(this),this.#j.show(t,n,"ltr"===this.direction))}addToAnnotationStorage(e){e.isEmpty()||!this.#F||this.#F.has(e.id)||this.#F.setValue(e.id,e)}#ve(){const e=document.getSelection();if(!e||e.isCollapsed)return void(this.#Z&&(this.#j?.hide(),this.#Z=null,this.#Ce({hasSelectedText:!1})));const{anchorNode:t}=e;if(t===this.#Z)return;if(this.#Ee(e).closest(".textLayer")){if(this.#j?.hide(),this.#Z=t,this.#Ce({hasSelectedText:!0}),(this.#$===Bn.HIGHLIGHT||this.#$===Bn.NONE)&&(this.#$===Bn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#G=this.isShiftKeyDown,!this.isShiftKeyDown)){const e=this._signal,t=e=>{"pointerup"===e.type&&0!==e.button||(window.removeEventListener("pointerup",t),window.removeEventListener("blur",t),"pointerup"===e.type&&this.#Te("main_toolbar"))};window.addEventListener("pointerup",t,{signal:e}),window.addEventListener("blur",t,{signal:e})}}else this.#Z&&(this.#j?.hide(),this.#Z=null,this.#Ce({hasSelectedText:!1}))}#Te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.#$===Bn.HIGHLIGHT?this.highlightSelection(e):this.#M&&this.#be()}#we(){document.addEventListener("selectionchange",this.#ve.bind(this),{signal:this._signal})}#_e(){const e=this._signal;window.addEventListener("focus",this.#re,{signal:e}),window.addEventListener("blur",this.#ne,{signal:e})}#Se(){window.removeEventListener("focus",this.#re),window.removeEventListener("blur",this.#ne)}blur(){if(this.isShiftKeyDown=!1,this.#G&&(this.#G=!1,this.#Te("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#J)if(t.div.contains(e)){this.#Y=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#Y)return;const[e,t]=this.#Y;this.#Y=null,t.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0,signal:this._signal}),t.focus()}#Be(){const e=this._signal;window.addEventListener("keydown",this.#oe,{signal:e}),window.addEventListener("keyup",this.#ae,{signal:e})}#Ie(){window.removeEventListener("keydown",this.#oe),window.removeEventListener("keyup",this.#ae)}#xe(){const e=this._signal;document.addEventListener("copy",this.#se,{signal:e}),document.addEventListener("cut",this.#ie,{signal:e}),document.addEventListener("paste",this.#Ae,{signal:e})}#ke(){document.removeEventListener("copy",this.#se),document.removeEventListener("cut",this.#ie),document.removeEventListener("paste",this.#Ae)}#ye(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#Be(),this.#xe()}removeEditListeners(){this.#Ie(),this.#ke()}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of this.#R)if(n.isHandlingMimeForPasting(t))return e.dataTransfer.dropEffect="copy",void e.preventDefault()}drop(e){for(const t of e.dataTransfer.items)for(const n of this.#R)if(n.isHandlingMimeForPasting(t.type))return n.paste(t,this.currentLayer),void e.preventDefault()}copy(e){if(e.preventDefault(),this.#S?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const n of this.#J){const e=n.serialize(!0);e&&t.push(e)}0!==t.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const i of t.items)for(const e of this.#R)if(e.isHandlingMimeForPasting(i.type))return void e.paste(i,this.currentLayer);let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){return void or(`paste: "${s.message}".`)}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const e=[];for(const i of n){const t=r.deserialize(i);if(!t)return;e.push(t)}const t=()=>{for(const t of e)this.#Fe(t);this.#Ue(e)},s=()=>{for(const t of e)t.remove()};this.addCommands({cmd:t,undo:s,mustExec:!0})}catch(s){or(`paste: "${s.message}".`)}}keydown(e){this.isShiftKeyDown||"Shift"!==e.key||(this.isShiftKeyDown=!0),this.#$===Bn.NONE||this.isEditorHandlingKeyboard||Es._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!1,this.#G&&(this.#G=!1,this.#Te("main_toolbar")))}onEditingAction(e){let{name:t}=e;switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu")}}#Ce(e){const t=Object.entries(e).some((e=>{let[t,n]=e;return this.#de[t]!==n}));t&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#de,e)}),this.#$===Bn.HIGHLIGHT&&!1===e.hasSelectedEditor&&this.#Le([[En.HIGHLIGHT_FREE,!0]]))}#Le(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#_e(),this.#xe(),this.#Ce({isEditing:this.#$!==Bn.NONE,isEmpty:this.#Qe(),hasSomethingToUndo:this.#L.hasSomethingToUndo(),hasSomethingToRedo:this.#L.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#Se(),this.#ke(),this.#Ce({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#R){this.#R=e;for(const e of this.#R)this.#Le(e.defaultPropertiesToUpdate)}}getId(){return this.#V.id}get currentLayer(){return this.#x.get(this.#Q)}getLayer(e){return this.#x.get(e)}get currentPageIndex(){return this.#Q}addLayer(e){this.#x.set(e.pageIndex,e),this.#z?e.enable():e.disable()}removeLayer(e){this.#x.delete(e.pageIndex)}updateMode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.#$!==e){if(this.#$=e,e===Bn.NONE)return this.setEditingState(!1),void this.#De();this.setEditingState(!0),this.#Oe(),this.unselectAll();for(const t of this.#x.values())t.updateMode(e);if(t||!n){if(t)for(const e of this.#I.values())if(e.annotationElementId===t){this.setSelected(e),e.enterInEditMode();break}}else this.addNewEditorFromKeyboard()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==this.#$&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){if(this.#R){switch(e){case En.CREATE:return void this.currentLayer.addNewEditor();case En.HIGHLIGHT_DEFAULT_COLOR:this.#X?.updateColor(t);break;case En.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#te||=new Map).set(e,t),this.showAllEditors("highlight",t)}for(const n of this.#J)n.updateParams(e,t);for(const n of this.#R)n.updateDefaultParams(e,t)}}showAllEditors(e,t){for(const n of this.#I.values())n.editorType===e&&n.show(t);(this.#te?.get(En.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#Le([[En.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.#W!==e){this.#W=e;for(const t of this.#x.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}#Oe(){if(!this.#z){this.#z=!0;for(const e of this.#x.values())e.enable();for(const e of this.#I.values())e.enable()}}#De(){if(this.unselectAll(),this.#z){this.#z=!1;for(const e of this.#x.values())e.disable();for(const e of this.#I.values())e.disable()}}getEditors(e){const t=[];for(const n of this.#I.values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return this.#I.get(e)}addEditor(e){this.#I.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#H&&clearTimeout(this.#H),this.#H=setTimeout((()=>{this.focusMainContainer(),this.#H=null}),0)),this.#I.delete(e.id),this.unselect(e),e.annotationElementId&&this.#D.has(e.annotationElementId)||this.#F?.remove(e.id)}addDeletedAnnotationElement(e){this.#D.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#D.has(e)}removeDeletedAnnotationElement(e){this.#D.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#Fe(e){const t=this.#x.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#S!==e&&(this.#S=e,e&&this.#Le(e.propertiesToUpdate))}get#Re(){let e=null;for(e of this.#J);return e}updateUI(e){this.#Re===e&&this.#Le(e.propertiesToUpdate)}toggleSelected(e){if(this.#J.has(e))return this.#J.delete(e),e.unselect(),void this.#Ce({hasSelectedEditor:this.hasSelection});this.#J.add(e),e.select(),this.#Le(e.propertiesToUpdate),this.#Ce({hasSelectedEditor:!0})}setSelected(e){for(const t of this.#J)t!==e&&t.unselect();this.#J.clear(),this.#J.add(e),e.select(),this.#Le(e.propertiesToUpdate),this.#Ce({hasSelectedEditor:!0})}isSelected(e){return this.#J.has(e)}get firstSelectedEditor(){return this.#J.values().next().value}unselect(e){e.unselect(),this.#J.delete(e),this.#Ce({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#J.size}get isEnterHandled(){return 1===this.#J.size&&this.firstSelectedEditor.isEnterHandled}undo(){this.#L.undo(),this.#Ce({hasSomethingToUndo:this.#L.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#Qe()})}redo(){this.#L.redo(),this.#Ce({hasSomethingToUndo:!0,hasSomethingToRedo:this.#L.hasSomethingToRedo(),isEmpty:this.#Qe()})}addCommands(e){this.#L.add(e),this.#Ce({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#Qe()})}#Qe(){if(0===this.#I.size)return!0;if(1===this.#I.size)for(const e of this.#I.values())return e.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...this.#J];this.addCommands({cmd:()=>{for(const t of e)t.remove()},undo:()=>{for(const t of e)this.#Fe(t)},mustExec:!0})}commitOrRemove(){this.#S?.commitOrRemove()}hasSomethingToControl(){return this.#S||this.hasSelection}#Ue(e){for(const t of this.#J)t.unselect();this.#J.clear();for(const t of e)t.isEmpty()||(this.#J.add(t),t.select());this.#Ce({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#J)e.commit();this.#Ue(this.#I.values())}unselectAll(){if((!this.#S||(this.#S.commitOrRemove(),this.#$===Bn.NONE))&&this.hasSelection){for(const e of this.#J)e.unselect();this.#J.clear(),this.#Ce({hasSelectedEditor:!1})}}translateSelectedEditors(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;this.#pe[0]+=e,this.#pe[1]+=t;const[n,r]=this.#pe,s=[...this.#J];this.#fe&&clearTimeout(this.#fe),this.#fe=setTimeout((()=>{this.#fe=null,this.#pe[0]=this.#pe[1]=0,this.addCommands({cmd:()=>{for(const e of s)this.#I.has(e.id)&&e.translateInPage(n,r)},undo:()=>{for(const e of s)this.#I.has(e.id)&&e.translateInPage(-n,-r)},mustExec:!1})}),1e3);for(const i of s)i.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#O=new Map;for(const e of this.#J)this.#O.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#O)return!1;this.disableUserSelect(!1);const e=this.#O;this.#O=null;let t=!1;for(const[{x:r,y:s,pageIndex:i},A]of e)A.newX=r,A.newY=s,A.newPageIndex=i,t||=r!==A.savedX||s!==A.savedY||i!==A.savedPageIndex;if(!t)return!1;const n=(e,t,n,r)=>{if(this.#I.has(e.id)){const s=this.#x.get(r);s?e._setParentAndPosition(s,t,n):(e.pageIndex=r,e.x=t,e.y=n)}};return this.addCommands({cmd:()=>{for(const[t,{newX:r,newY:s,newPageIndex:i}]of e)n(t,r,s,i)},undo:()=>{for(const[t,{savedX:r,savedY:s,savedPageIndex:i}]of e)n(t,r,s,i)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#O)for(const n of this.#O.keys())n.drag(e,t)}rebuild(e){if(null===e.parent){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||1===this.#J.size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#S===e}getActive(){return this.#S}getMode(){return this.#$}get imageManager(){return ur(this,"imageManager",new ms)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let a=0,l=t.rangeCount;a<l;a++)if(!e.contains(t.getRangeAt(a).commonAncestorContainer))return null;const{x:n,y:r,width:s,height:i}=e.getBoundingClientRect();let A;switch(e.getAttribute("data-main-rotation")){case"90":A=(e,t,A,o)=>({x:(t-r)/i,y:1-(e+A-n)/s,width:o/i,height:A/s});break;case"180":A=(e,t,A,o)=>({x:1-(e+A-n)/s,y:1-(t+o-r)/i,width:A/s,height:o/i});break;case"270":A=(e,t,A,o)=>({x:1-(t+o-r)/i,y:(e-n)/s,width:o/i,height:A/s});break;default:A=(e,t,A,o)=>({x:(e-n)/s,y:(t-r)/i,width:A/s,height:o/i})}const o=[];for(let a=0,l=t.rangeCount;a<l;a++){const e=t.getRangeAt(a);if(!e.collapsed)for(const{x:t,y:n,width:r,height:s}of e.getClientRects())0!==r&&0!==s&&o.push(A(t,n,r,s))}return 0===o.length?null:o}addChangedExistingAnnotation(e){let{annotationElementId:t,id:n}=e;(this.#U||=new Map).set(t,n)}removeChangedExistingAnnotation(e){let{annotationElementId:t}=e;this.#U?.delete(t)}renderAnnotationElement(e){const t=this.#U?.get(e.data.id);if(!t)return;const n=this.#F.getRawValue(t);n&&(this.#$!==Bn.NONE||n.hasBeenModified)&&n.renderAnnotationElement(e)}}class bs{#Ne="";#Me=!1;#Pe=null;#He=null;#Ke=null;#Ge=!1;#i=null;static _l10nPromise=null;constructor(e){this.#i=e}static initialize(e){bs._l10nPromise||=e}async render(){const e=this.#Pe=document.createElement("button");e.className="altText";const t=await bs._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0";const n=this.#i._uiManager._signal;e.addEventListener("contextmenu",ss,{signal:n}),e.addEventListener("pointerdown",(e=>e.stopPropagation()),{signal:n});const r=e=>{e.preventDefault(),this.#i._uiManager.editAltText(this.#i)};return e.addEventListener("click",r,{capture:!0,signal:n}),e.addEventListener("keydown",(t=>{t.target===e&&"Enter"===t.key&&(this.#Ge=!0,r(t))}),{signal:n}),await this.#je(),e}finish(){this.#Pe&&(this.#Pe.focus({focusVisible:this.#Ge}),this.#Ge=!1)}isEmpty(){return!this.#Ne&&!this.#Me}get data(){return{altText:this.#Ne,decorative:this.#Me}}set data(e){let{altText:t,decorative:n}=e;this.#Ne===t&&this.#Me===n||(this.#Ne=t,this.#Me=n,this.#je())}toggle(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#Pe&&(!e&&this.#Ke&&(clearTimeout(this.#Ke),this.#Ke=null),this.#Pe.disabled=!e)}destroy(){this.#Pe?.remove(),this.#Pe=null,this.#He=null}async#je(){const e=this.#Pe;if(!e)return;if(!this.#Ne&&!this.#Me)return e.classList.remove("done"),void this.#He?.remove();e.classList.add("done"),bs._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then((t=>{e.setAttribute("aria-label",t)}));let t=this.#He;if(!t){this.#He=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip");const n=t.id=`alt-text-tooltip-${this.#i.id}`;e.setAttribute("aria-describedby",n);const r=100,s=this.#i._uiManager._signal;s.addEventListener("abort",(()=>{clearTimeout(this.#Ke),this.#Ke=null}),{once:!0}),e.addEventListener("mouseenter",(()=>{this.#Ke=setTimeout((()=>{this.#Ke=null,this.#He.classList.add("show"),this.#i._reportTelemetry({action:"alt_text_tooltip"})}),r)}),{signal:s}),e.addEventListener("mouseleave",(()=>{this.#Ke&&(clearTimeout(this.#Ke),this.#Ke=null),this.#He?.classList.remove("show")}),{signal:s})}t.innerText=this.#Me?await bs._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):this.#Ne,t.parentNode||e.append(t);const n=this.#i.getImageForAltText();n?.setAttribute("aria-describedby",t.id)}}class vs{#Ve=null;#ze=null;#Ne=null;#We=!1;#Ye=!1;#Xe=null;#qe=null;#$e=this.focusin.bind(this);#Je=this.focusout.bind(this);#Ze=null;#et="";#tt=!1;#nt=null;#rt=!1;#st=!1;#it=!1;#At=null;#ot=0;#at=0;#lt=null;_initialOptions=(()=>Object.create(null))();_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#ct=!1;#ut=(()=>vs._zIndex++)();static _borderLineWidth=-1;static _colorManager=(()=>new Bs)();static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=vs.prototype._resizeWithKeyboard,t=Es.TRANSLATE_SMALL,n=Es.TRANSLATE_BIG;return ur(this,"_resizerKeyboardManager",new ys([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],vs.prototype._stopResizingWithKeyboard]]))}constructor(e){this.constructor===vs&&ar("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:s,pageY:i}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[s,i];const[A,o]=this.parentDimensions;this.x=e.x/A,this.y=e.y/o,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return ur(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Cs({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,n){if(vs._l10nPromise||=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map((t=>[t,e.get(t.replaceAll(/([A-Z])/g,(e=>`-${e.toLowerCase()}`)))]))),n?.strings)for(const s of n.strings)vs._l10nPromise.set(s,e.get(s));if(-1!==vs._borderLineWidth)return;const r=getComputedStyle(document.documentElement);vs._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){ar("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#ct}set _isDraggable(e){this.#ct=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#ut}setParent(e){null!==e?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#ht(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#tt?this.#tt=!1:this.parent.setSelected(this))}focusout(e){if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const t=e.relatedTarget;t?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,r){const[s,i]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/s,this.y=(t+r)/i,this.fixAndSetPosition()}#dt(e,t,n){let[r,s]=e;[t,n]=this.screenToPageTranslation(t,n),this.x+=t/r,this.y+=n/s,this.fixAndSetPosition()}translate(e,t){this.#dt(this.parentDimensions,e,t)}translateInPage(e,t){this.#nt||=[this.x,this.y],this.#dt(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){this.#nt||=[this.x,this.y];const[n,r]=this.parentDimensions;if(this.x+=e/n,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:e,y:t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,e,t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:i}=this;const[A,o]=this.getBaseTranslation();s+=A,i+=o,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*i).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#nt&&(this.#nt[0]!==this.x||this.#nt[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=vs,r=n/e,s=n/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation;const[t,n]=this.pageDimensions;let{x:r,y:s,width:i,height:A}=this;if(i*=t,A*=n,r*=t,s*=n,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(t-i,r)),s=Math.max(0,Math.min(n-A,s));break;case 90:r=Math.max(0,Math.min(t-A,r)),s=Math.min(n,Math.max(i,s));break;case 180:r=Math.min(t,Math.max(i,r)),s=Math.min(n,Math.max(A,s));break;case 270:r=Math.min(t,Math.max(A,r)),s=Math.max(0,Math.min(n-i,s))}this.x=r/=t,this.y=s/=n;const[o,a]=this.getBaseTranslation();r+=o,s+=a;const{style:l}=this.div;l.left=`${(100*r).toFixed(2)}%`,l.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}static#pt(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return vs.#pt(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return vs.#pt(e,t,360-this.parentRotation)}#ft(e){switch(e){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this,r=t*e,s=n*e;return vr.isCSSRoundSupported?[Math.round(r),Math.round(s)]:[r,s]}setDims(e,t){const[n,r]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,this.#Ye||(this.div.style.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,r=n.endsWith("%"),s=!this.#Ye&&t.endsWith("%");if(r&&s)return;const[i,A]=this.parentDimensions;r||(e.width=`${(100*parseFloat(n)/i).toFixed(2)}%`),this.#Ye||s||(e.height=`${(100*parseFloat(t)/A).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#gt(){if(this.#Xe)return;this.#Xe=document.createElement("div"),this.#Xe.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const e=document.createElement("div");this.#Xe.append(e),e.classList.add("resizer",n),e.setAttribute("data-resizer-name",n),e.addEventListener("pointerdown",this.#mt.bind(this,n),{signal:t}),e.addEventListener("contextmenu",ss,{signal:t}),e.tabIndex=-1}this.div.prepend(this.#Xe)}#mt(e,t){t.preventDefault();const{isMac:n}=vr.platform;if(0!==t.button||t.ctrlKey&&n)return;this.#Ne?.toggle(!1);const r=this.#wt.bind(this,e),s=this._isDraggable;this._isDraggable=!1;const i=this._uiManager._signal,A={passive:!0,capture:!0,signal:i};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",r,A),window.addEventListener("contextmenu",ss,{signal:i});const o=this.x,a=this.y,l=this.width,c=this.height,u=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const d=()=>{this.parent.togglePointerEvents(!0),this.#Ne?.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",d),window.removeEventListener("blur",d),window.removeEventListener("pointermove",r,A),window.removeEventListener("contextmenu",ss),this.parent.div.style.cursor=u,this.div.style.cursor=h,this.#yt(o,a,l,c)};window.addEventListener("pointerup",d,{signal:i}),window.addEventListener("blur",d,{signal:i})}#yt(e,t,n,r){const s=this.x,i=this.y,A=this.width,o=this.height;s===e&&i===t&&A===n&&o===r||this.addCommands({cmd:()=>{this.width=A,this.height=o,this.x=s,this.y=i;const[e,t]=this.parentDimensions;this.setDims(e*A,t*o),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=r,this.x=e,this.y=t;const[s,i]=this.parentDimensions;this.setDims(s*n,i*r),this.fixAndSetPosition()},mustExec:!0})}#wt(e,t){const[n,r]=this.parentDimensions,s=this.x,i=this.y,A=this.width,o=this.height,a=vs.MIN_SIZE/n,l=vs.MIN_SIZE/r,c=e=>Math.round(1e4*e)/1e4,u=this.#ft(this.rotation),h=(e,t)=>[u[0]*e+u[2]*t,u[1]*e+u[3]*t],d=this.#ft(360-this.rotation);let p,f,g=!1,m=!1;switch(e){case"topLeft":g=!0,p=(e,t)=>[0,0],f=(e,t)=>[e,t];break;case"topMiddle":p=(e,t)=>[e/2,0],f=(e,t)=>[e/2,t];break;case"topRight":g=!0,p=(e,t)=>[e,0],f=(e,t)=>[0,t];break;case"middleRight":m=!0,p=(e,t)=>[e,t/2],f=(e,t)=>[0,t/2];break;case"bottomRight":g=!0,p=(e,t)=>[e,t],f=(e,t)=>[0,0];break;case"bottomMiddle":p=(e,t)=>[e/2,t],f=(e,t)=>[e/2,0];break;case"bottomLeft":g=!0,p=(e,t)=>[0,t],f=(e,t)=>[e,0];break;case"middleLeft":m=!0,p=(e,t)=>[0,t/2],f=(e,t)=>[e,t/2]}const w=p(A,o),y=f(A,o);let B=h(...y);const E=c(s+B[0]),b=c(i+B[1]);let v=1,C=1,[T,_]=this.screenToPageTranslation(t.movementX,t.movementY);if([T,_]=((e,t)=>[d[0]*e+d[2]*t,d[1]*e+d[3]*t])(T/n,_/r),g){const e=Math.hypot(A,o);v=C=Math.max(Math.min(Math.hypot(y[0]-w[0]-T,y[1]-w[1]-_)/e,1/A,1/o),a/A,l/o)}else m?v=Math.max(a,Math.min(1,Math.abs(y[0]-w[0]-T)))/A:C=Math.max(l,Math.min(1,Math.abs(y[1]-w[1]-_)))/o;const S=c(A*v),I=c(o*C);B=h(...f(S,I));const x=E-B[0],k=b-B[1];this.width=S,this.height=I,this.x=x,this.y=k,this.setDims(n*S,r*I),this.fixAndSetPosition()}altTextFinish(){this.#Ne?.finish()}async addEditToolbar(){return this.#Ze||this.#st||(this.#Ze=new ds(this),this.div.append(this.#Ze.render()),this.#Ne&&this.#Ze.addAltTextButton(await this.#Ne.render())),this.#Ze}removeEditToolbar(){this.#Ze&&(this.#Ze.remove(),this.#Ze=null,this.#Ne?.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#Ne||(bs.initialize(vs._l10nPromise),this.#Ne=new bs(this),this.#Ve&&(this.#Ne.data=this.#Ve,this.#Ve=null),await this.addEditToolbar())}get altTextData(){return this.#Ne?.data}set altTextData(e){this.#Ne&&(this.#Ne.data=e)}hasAltText(){return!this.#Ne?.isEmpty()}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#We?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",this.#$e,{signal:e}),this.div.addEventListener("focusout",this.#Je,{signal:e});const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*n/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),fs(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=vr.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(this.#tt=!0,this._isDraggable?this.#Bt(e):this.#Et(e))}#Et(e){const{isMac:t}=vr.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#Bt(e){const t=this._uiManager.isSelected(this);let n,r;this._uiManager.setUpDragSession();const s=this._uiManager._signal;t&&(this.div.classList.add("moving"),n={passive:!0,capture:!0,signal:s},this.#ot=e.clientX,this.#at=e.clientY,r=e=>{const{clientX:t,clientY:n}=e,[r,s]=this.screenToPageTranslation(t-this.#ot,n-this.#at);this.#ot=t,this.#at=n,this._uiManager.dragSelectedEditors(r,s)},window.addEventListener("pointermove",r,n));const i=()=>{window.removeEventListener("pointerup",i),window.removeEventListener("blur",i),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",r,n)),this.#tt=!1,this._uiManager.endDragSession()||this.#Et(e)};window.addEventListener("pointerup",i,{signal:s}),window.addEventListener("blur",i,{signal:s})}moveInDOM(){this.#At&&clearTimeout(this.#At),this.#At=setTimeout((()=>{this.#At=null,this.parent?.moveEditorInDOM(this)}),0)}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation;const r=this.parentScale,[s,i]=this.pageDimensions,[A,o]=this.pageTranslation,a=e/r,l=t/r,c=this.x*s,u=this.y*i,h=this.width*s,d=this.height*i;switch(n){case 0:return[c+a+A,i-u-l-d+o,c+a+h+A,i-u-l+o];case 90:return[c+l+A,i-u+a+o,c+l+d+A,i-u+a+h+o];case 180:return[c-a-h+A,i-u+l+o,c-a+A,i-u+l+d+o];case 270:return[c-l-d+A,i-u-a-h+o,c-l+A,i-u-a+o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,s,i]=e,A=s-n,o=i-r;switch(this.rotation){case 0:return[n,t-i,A,o];case 90:return[n,t-r,o,A];case 180:return[s,t-r,A,o];case 270:return[s,t-i,o,A];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#st=!0}disableEditMode(){this.#st=!1}isInEditMode(){return this.#st}shouldGetKeyboardEvents(){return this.#it}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){const e=this._uiManager._signal;this.div?.addEventListener("focusin",this.#$e,{signal:e}),this.div?.addEventListener("focusout",this.#Je,{signal:e})}rotate(e){}serialize(){ar("An editor must be serializable")}static deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});r.rotation=e.rotation,r.#Ve=e.accessibilityData;const[s,i]=r.pageDimensions,[A,o,a,l]=r.getRectInCurrentCoords(e.rect,i);return r.x=A/s,r.y=o/i,r.width=a/s,r.height=l/i,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){if(this.div.removeEventListener("focusin",this.#$e),this.div.removeEventListener("focusout",this.#Je),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#At&&(clearTimeout(this.#At),this.#At=null),this.#ht(),this.removeEditToolbar(),this.#lt){for(const e of this.#lt.values())clearTimeout(e);this.#lt=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#gt(),this.#Xe.classList.remove("hidden"),fs(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||"Enter"!==e.key)return;this._uiManager.setSelected(this),this.#qe={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#Xe.children;if(!this.#ze){this.#ze=Array.from(t);const e=this.#bt.bind(this),n=this.#vt.bind(this),r=this._uiManager._signal;for(const t of this.#ze){const s=t.getAttribute("data-resizer-name");t.setAttribute("role","spinbutton"),t.addEventListener("keydown",e,{signal:r}),t.addEventListener("blur",n,{signal:r}),t.addEventListener("focus",this.#Ct.bind(this,s),{signal:r}),vs._l10nPromise.get(`pdfjs-editor-resizer-label-${s}`).then((e=>t.setAttribute("aria-label",e)))}}const n=this.#ze[0];let r=0;for(const i of t){if(i===n)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#ze.length/4);if(s!==r){if(s<r)for(let t=0;t<r-s;t++)this.#Xe.append(this.#Xe.firstChild);else if(s>r)for(let t=0;t<s-r;t++)this.#Xe.firstChild.before(this.#Xe.lastChild);let e=0;for(const n of t){const t=this.#ze[e++].getAttribute("data-resizer-name");vs._l10nPromise.get(`pdfjs-editor-resizer-label-${t}`).then((e=>n.setAttribute("aria-label",e)))}}this.#Tt(0),this.#it=!0,this.#Xe.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#bt(e){vs._resizerKeyboardManager.exec(this,e)}#vt(e){this.#it&&e.relatedTarget?.parentNode!==this.#Xe&&this.#ht()}#Ct(e){this.#et=this.#it?e:""}#Tt(e){if(this.#ze)for(const t of this.#ze)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#it&&this.#wt(this.#et,{movementX:e,movementY:t})}#ht(){if(this.#it=!1,this.#Tt(-1),this.#qe){const{savedX:e,savedY:t,savedWidth:n,savedHeight:r}=this.#qe;this.#yt(e,t,n,r),this.#qe=null}}_stopResizingWithKeyboard(){this.#ht(),this.div.focus()}select(){this.makeResizable(),this.div?.classList.add("selectedEditor"),this.#Ze?this.#Ze?.show():this.addEditToolbar().then((()=>{this.div?.classList.contains("selectedEditor")&&this.#Ze?.show()}))}unselect(){this.#Xe?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this.#Ze?.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#rt}set isEditing(e){this.#rt=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#Ye=!0;const n=e/t,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){this.#lt||=new Map;const{action:t}=e;let n=this.#lt.get(t);return n&&clearTimeout(n),n=setTimeout((()=>{this._reportTelemetry(e),this.#lt.delete(t),0===this.#lt.size&&(this.#lt=null)}),vs._telemetryTimeout),void this.#lt.set(t,n)}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#We=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#We=!0}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(t){if("CANVAS"===t.nodeName){const e=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.before(t)}}else t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);return t}resetAnnotationElement(e){const{firstChild:t}=e.container;"DIV"===t.nodeName&&t.classList.contains("annotationContent")&&t.remove()}}class Cs extends vs{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const Ts=3285377520,_s=4294901760,Ss=65535;class Is{constructor(e){this.h1=e?4294967295&e:Ts,this.h2=e?4294967295&e:Ts}update(e){let t,n;if("string"===typeof e){t=new Uint8Array(2*e.length),n=0;for(let r=0,s=e.length;r<s;r++){const s=e.charCodeAt(r);s<=255?t[n++]=s:(t[n++]=s>>>8,t[n++]=255&s)}}else{if(!ArrayBuffer.isView(e))throw new Error("Invalid data format, must be a string or TypedArray.");t=e.slice(),n=t.byteLength}const r=n>>2,s=n-4*r,i=new Uint32Array(t.buffer,0,r);let A=0,o=0,a=this.h1,l=this.h2;const c=3432918353,u=461845907,h=11601,d=13715;for(let p=0;p<r;p++)1&p?(A=i[p],A=A*c&_s|A*h&Ss,A=A<<15|A>>>17,A=A*u&_s|A*d&Ss,a^=A,a=a<<13|a>>>19,a=5*a+3864292196):(o=i[p],o=o*c&_s|o*h&Ss,o=o<<15|o>>>17,o=o*u&_s|o*d&Ss,l^=o,l=l<<13|l>>>19,l=5*l+3864292196);switch(A=0,s){case 3:A^=t[4*r+2]<<16;case 2:A^=t[4*r+1]<<8;case 1:A^=t[4*r],A=A*c&_s|A*h&Ss,A=A<<15|A>>>17,A=A*u&_s|A*d&Ss,1&r?a^=A:l^=A}this.h1=a,this.h2=l}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&_s|36045*e&Ss,t=4283543511*t&_s|(2950163797*(t<<16|e>>>16)&_s)>>>16,e^=t>>>1,e=444984403*e&_s|60499*e&Ss,t=3301882366*t&_s|(3120437893*(t<<16|e>>>16)&_s)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const xs=Object.freeze({map:null,hash:"",transfer:void 0});class ks{#_t=!1;#St=(()=>new Map)();constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=this.#St.get(e);return void 0===n?t:Object.assign(t,n)}getRawValue(e){return this.#St.get(e)}remove(e){if(this.#St.delete(e),0===this.#St.size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const e of this.#St.values())if(e instanceof vs)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=this.#St.get(e);let r=!1;if(void 0!==n)for(const[s,i]of Object.entries(t))n[s]!==i&&(r=!0,n[s]=i);else r=!0,this.#St.set(e,t);r&&this.#It(),t instanceof vs&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#St.has(e)}getAll(){return this.#St.size>0?br(this.#St):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return this.#St.size}#It(){this.#_t||(this.#_t=!0,"function"===typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#_t&&(this.#_t=!1,"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new Fs(this)}get serializable(){if(0===this.#St.size)return xs;const e=new Map,t=new Is,n=[],r=Object.create(null);let s=!1;for(const[i,A]of this.#St){const n=A instanceof vs?A.serialize(!1,r):A;n&&(e.set(i,n),t.update(`${i}:${JSON.stringify(n)}`),s||=!!n.bitmap)}if(s)for(const i of e.values())i.bitmap&&n.push(i.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:xs}get editorStats(){let e=null;const t=new Map;for(const n of this.#St.values()){if(!(n instanceof vs))continue;const r=n.telemetryFinalData;if(!r)continue;const{type:s}=r;t.has(s)||t.set(s,Object.getPrototypeOf(n).constructor),e||=Object.create(null);const i=e[s]||=new Map;for(const[e,t]of Object.entries(r)){if("type"===e)continue;let n=i.get(e);n||(n=new Map,i.set(e,n));const r=n.get(t)??0;n.set(t,r+1)}}for(const[n,r]of t)e[n]=r.computeTelemetryFinalData(e[n]);return e}}class Fs extends ks{#xt;constructor(e){super();const{map:t,hash:n,transfer:r}=e.serializable,s=structuredClone(t,r?{transfer:r}:null);this.#xt={map:s,hash:n,transfer:r}}get print(){ar("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#xt}}class Us{#kt=(()=>new Set)();constructor(e){let{ownerDocument:t=globalThis.document,styleElement:n=null}=e;this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#kt.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(e){let{systemFontInfo:t,_inspectFont:n}=e;if(t&&!this.#kt.has(t.loadedName))if(lr(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:e,src:r,style:s}=t,i=new FontFace(e,r,s);this.addNativeFontFace(i);try{await i.load(),this.#kt.add(e),n?.(t)}catch{or(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(i)}}else ar("Not implemented: loadSystemFont without the Font Loading API.")}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void await this.loadSystemFont(e);if(this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw or(`Failed to load font '${t.family}': '${n}'.`),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise((t=>{const n=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,n)}))}}get isFontLoadingAPISupported(){return ur(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){let e=!1;return(an||"undefined"!==typeof navigator&&"string"===typeof navigator?.userAgent&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),ur(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){const{loadingRequests:t}=this,n={done:!1,complete:function(){for(lr(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.length>0&&t[0].done;){const e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(n),n}get _loadTestFont(){return ur(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function r(e,t,n,r){return e.substring(0,t)+r+e.substring(t+n)}let s,i;const A=this._document.createElement("canvas");A.width=1,A.height=1;const o=A.getContext("2d");let a=0;const l=`lt${Date.now()}${this.loadTestFontId++}`;let c=this._loadTestFont;c=r(c,976,l.length,l);const u=1482184792;let h=n(c,16);for(s=0,i=l.length-3;s<i;s+=4)h=h-u+n(l,s)|0;var d;s<l.length&&(h=h-u+n(l+"XXX",s)|0),c=r(c,16,4,(d=h,String.fromCharCode(d>>24&255,d>>16&255,d>>8&255,255&d)));const p=`@font-face {font-family:"${l}";src:${`url(data:font/opentype;base64,${btoa(c)});`}}`;this.insertRule(p);const f=this._document.createElement("div");f.style.visibility="hidden",f.style.width=f.style.height="10px",f.style.position="absolute",f.style.top=f.style.left="0px";for(const g of[e.loadedName,l]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=g,f.append(e)}this._document.body.append(f),function e(t,n){if(++a>30)return or("Load test font never loaded."),void n();o.font="30px "+t,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(l,(()=>{f.remove(),t.complete()}))}}class Ls{constructor(e,t){let{disableFontFace:n=!1,inspectFont:r=null}=t;this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this.disableFontFace=!0===n,this._inspectFont=r}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(this.cssFontInfo){const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=Br(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let n;if(this.cssFontInfo){let e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${e}src:${t}}`}else n=`@font-face {font-family:"${this.loadedName}";src:${t}}`;return this._inspectFont?.(this,t),n}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(s){or(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(n)||0===n.length)return this.compiledGlyphs[t]=function(e,t){};const r=[];for(let i=0,A=n.length;i<A;)switch(n[i++]){case kr:{const[e,t,s,A,o,a]=n.slice(i,i+6);r.push((n=>n.bezierCurveTo(e,t,s,A,o,a))),i+=6}break;case Fr:{const[e,t]=n.slice(i,i+2);r.push((n=>n.moveTo(e,t))),i+=2}break;case Ur:{const[e,t]=n.slice(i,i+2);r.push((n=>n.lineTo(e,t))),i+=2}break;case Lr:{const[e,t,s,A]=n.slice(i,i+4);r.push((n=>n.quadraticCurveTo(e,t,s,A))),i+=4}break;case Qr:r.push((e=>e.restore()));break;case Dr:r.push((e=>e.save()));break;case Or:lr(2===r.length,"Scale command is only valid at the third position.");break;case Rr:{const[e,t,s,A,o,a]=n.slice(i,i+6);r.push((n=>n.transform(e,t,s,A,o,a))),i+=6}break;case Nr:{const[e,t]=n.slice(i,i+2);r.push((n=>n.translate(e,t))),i+=2}}return this.compiledGlyphs[t]=function(e,t){r[0](e),r[1](e),e.scale(t,-t);for(let n=2,s=r.length;n<s;n++)r[n](e)}}}if(an){var Qs=Promise.withResolvers(),Ds=null;(async()=>{const e=await import("fs"),t=await import("http"),n=await import("https"),r=await import("url");return new Map(Object.entries({fs:e,http:t,https:n,url:r,canvas:undefined,path2d:undefined}))})().then((e=>{Ds=e,Qs.resolve()}),(e=>{or(`loadPackages: ${e}`),Ds=new Map,Qs.resolve()}))}class Os{static get promise(){return Qs.promise}static get(e){return Ds?.get(e)}}const Rs=function(e){return Os.get("fs").promises.readFile(e).then((e=>new Uint8Array(e)))};const Ns="Fill",Ms="Stroke",Ps="Shading";function Hs(e,t){if(!t)return;const n=t[2]-t[0],r=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],n,r),e.clip(s)}class Ks{constructor(){this.constructor===Ks&&ar("Cannot initialize BaseShadingPattern.")}getPattern(){ar("Abstract method `getPattern` called.")}}class Gs extends Ks{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,r){let s;if(r===Ms||r===Ns){const i=t.current.getClippedPathBoundingBox(r,cs(e))||[0,0,0,0],A=Math.ceil(i[2]-i[0])||1,o=Math.ceil(i[3]-i[1])||1,a=t.cachedCanvases.getCanvas("pattern",A,o,!0),l=a.context;l.clearRect(0,0,l.canvas.width,l.canvas.height),l.beginPath(),l.rect(0,0,l.canvas.width,l.canvas.height),l.translate(-i[0],-i[1]),n=Tr.transform(n,[1,0,0,1,i[0],i[1]]),l.transform(...t.baseTransform),this.matrix&&l.transform(...this.matrix),Hs(l,this._bbox),l.fillStyle=this._createGradient(l),l.fill(),s=e.createPattern(a.canvas,"no-repeat");const c=new DOMMatrix(n);s.setTransform(c)}else Hs(e,this._bbox),s=this._createGradient(e);return s}}function js(e,t,n,r,s,i,A,o){const a=t.coords,l=t.colors,c=e.data,u=4*e.width;let h;a[n+1]>a[r+1]&&(h=n,n=r,r=h,h=i,i=A,A=h),a[r+1]>a[s+1]&&(h=r,r=s,s=h,h=A,A=o,o=h),a[n+1]>a[r+1]&&(h=n,n=r,r=h,h=i,i=A,A=h);const d=(a[n]+t.offsetX)*t.scaleX,p=(a[n+1]+t.offsetY)*t.scaleY,f=(a[r]+t.offsetX)*t.scaleX,g=(a[r+1]+t.offsetY)*t.scaleY,m=(a[s]+t.offsetX)*t.scaleX,w=(a[s+1]+t.offsetY)*t.scaleY;if(p>=w)return;const y=l[i],B=l[i+1],E=l[i+2],b=l[A],v=l[A+1],C=l[A+2],T=l[o],_=l[o+1],S=l[o+2],I=Math.round(p),x=Math.round(w);let k,F,U,L,Q,D,O,R;for(let N=I;N<=x;N++){if(N<g){const e=N<p?0:(p-N)/(p-g);k=d-(d-f)*e,F=y-(y-b)*e,U=B-(B-v)*e,L=E-(E-C)*e}else{let e;e=N>w?1:g===w?0:(g-N)/(g-w),k=f-(f-m)*e,F=b-(b-T)*e,U=v-(v-_)*e,L=C-(C-S)*e}let e;e=N<p?0:N>w?1:(p-N)/(p-w),Q=d-(d-m)*e,D=y-(y-T)*e,O=B-(B-_)*e,R=E-(E-S)*e;const t=Math.round(Math.min(k,Q)),n=Math.round(Math.max(k,Q));let r=u*N+4*t;for(let s=t;s<=n;s++)e=(k-s)/(k-Q),e<0?e=0:e>1&&(e=1),c[r++]=F-(F-D)*e|0,c[r++]=U-(U-O)*e|0,c[r++]=L-(L-R)*e|0,c[r++]=255}}function Vs(e,t,n){const r=t.coords,s=t.colors;let i,A;switch(t.type){case"lattice":const o=t.verticesPerRow,a=Math.floor(r.length/o)-1,l=o-1;for(i=0;i<a;i++){let t=i*o;for(let i=0;i<l;i++,t++)js(e,n,r[t],r[t+1],r[t+o],s[t],s[t+1],s[t+o]),js(e,n,r[t+o+1],r[t+1],r[t+o],s[t+o+1],s[t+1],s[t+o])}break;case"triangles":for(i=0,A=r.length;i<A;i+=3)js(e,n,r[i],r[i+1],r[i+2],s[i],s[i+1],s[i+2]);break;default:throw new Error("illegal figure")}}class zs extends Ks{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const r=Math.floor(this._bounds[0]),s=Math.floor(this._bounds[1]),i=Math.ceil(this._bounds[2])-r,A=Math.ceil(this._bounds[3])-s,o=Math.min(Math.ceil(Math.abs(i*e[0]*1.1)),3e3),a=Math.min(Math.ceil(Math.abs(A*e[1]*1.1)),3e3),l=i/o,c=A/a,u={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-s,scaleX:1/l,scaleY:1/c},h=o+4,d=a+4,p=n.getCanvas("mesh",h,d,!1),f=p.context,g=f.createImageData(o,a);if(t){const e=g.data;for(let n=0,r=e.length;n<r;n+=4)e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=255}for(const m of this._figures)Vs(g,m,u);f.putImageData(g,2,2);return{canvas:p.canvas,offsetX:r-2*l,offsetY:s-2*c,scaleX:l,scaleY:c}}getPattern(e,t,n,r){let s;if(Hs(e,this._bbox),r===Ps)s=Tr.singularValueDecompose2dScale(cs(e));else if(s=Tr.singularValueDecompose2dScale(t.baseTransform),this.matrix){const e=Tr.singularValueDecompose2dScale(this.matrix);s=[s[0]*e[0],s[1]*e[1]]}const i=this._createMeshCanvas(s,r===Ps?null:this._background,t.cachedCanvases);return r!==Ps&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(i.offsetX,i.offsetY),e.scale(i.scaleX,i.scaleY),e.createPattern(i.canvas,"no-repeat")}}class Ws extends Ks{getPattern(){return"hotpink"}}const Ys=1,Xs=2;class qs{static MAX_PATTERN_SIZE=3e3;constructor(e,t,n,r,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=s}createPatternCanvas(e){const t=this.operatorList,n=this.bbox,r=this.xstep,s=this.ystep,i=this.paintType,A=this.tilingType,o=this.color,a=this.canvasGraphicsFactory;Ar("TilingType: "+A);const l=n[0],c=n[1],u=n[2],h=n[3],d=Tr.singularValueDecompose2dScale(this.matrix),p=Tr.singularValueDecompose2dScale(this.baseTransform),f=[d[0]*p[0],d[1]*p[1]],g=this.getSizeAndScale(r,this.ctx.canvas.width,f[0]),m=this.getSizeAndScale(s,this.ctx.canvas.height,f[1]),w=e.cachedCanvases.getCanvas("pattern",g.size,m.size,!0),y=w.context,B=a.createCanvasGraphics(y);B.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(B,i,o);let E=l,b=c,v=u,C=h;return l<0&&(E=0,v+=Math.abs(l)),c<0&&(b=0,C+=Math.abs(c)),y.translate(-g.scale*E,-m.scale*b),B.transform(g.scale,0,0,m.scale,0,0),y.save(),this.clipBbox(B,E,b,v,C),B.baseTransform=cs(B.ctx),B.executeOperatorList(t),B.endDrawing(),{canvas:w.canvas,scaleX:g.scale,scaleY:m.scale,offsetX:E,offsetY:b}}getSizeAndScale(e,t,n){e=Math.abs(e);const r=Math.max(qs.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*n);return s>=r?s=r:n=s/e,{scale:n,size:s}}clipBbox(e,t,n,r,s){const i=r-t,A=s-n;e.ctx.rect(t,n,i,A),e.current.updateRectMinMax(cs(e.ctx),[t,n,r,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const r=e.ctx,s=e.current;switch(t){case Ys:const e=this.ctx;r.fillStyle=e.fillStyle,r.strokeStyle=e.strokeStyle,s.fillColor=e.fillStyle,s.strokeColor=e.strokeStyle;break;case Xs:const i=Tr.makeHexColor(n[0],n[1],n[2]);r.fillStyle=i,r.strokeStyle=i,s.fillColor=i,s.strokeColor=i;break;default:throw new wr(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,r){let s=n;r!==Ps&&(s=Tr.transform(s,t.baseTransform),this.matrix&&(s=Tr.transform(s,this.matrix)));const i=this.createPatternCanvas(t);let A=new DOMMatrix(s);A=A.translate(i.offsetX,i.offsetY),A=A.scale(1/i.scaleX,1/i.scaleY);const o=e.createPattern(i.canvas,"repeat");return o.setTransform(A),o}}function $s(e){let{src:t,srcPos:n=0,dest:r,width:s,height:i,nonBlackColor:A=4294967295,inverseDecode:o=!1}=e;const a=vr.isLittleEndian?4278190080:255,[l,c]=o?[A,a]:[a,A],u=s>>3,h=7&s,d=t.length;r=new Uint32Array(r.buffer);let p=0;for(let f=0;f<i;f++){for(const s=n+u;n<s;n++){const e=n<d?t[n]:255;r[p++]=128&e?c:l,r[p++]=64&e?c:l,r[p++]=32&e?c:l,r[p++]=16&e?c:l,r[p++]=8&e?c:l,r[p++]=4&e?c:l,r[p++]=2&e?c:l,r[p++]=1&e?c:l}if(0===h)continue;const e=n<d?t[n++]:255;for(let t=0;t<h;t++)r[p++]=e&1<<7-t?c:l}return{srcPos:n,destPos:p}}const Js=16;class Zs{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return void 0!==this.cache[e]?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function ei(e,t,n,r,s,i,A,o,a,l){const[c,u,h,d,p,f]=cs(e);if(0===u&&0===h){const g=A*c+p,m=Math.round(g),w=o*d+f,y=Math.round(w),B=(A+a)*c+p,E=Math.abs(Math.round(B)-m)||1,b=(o+l)*d+f,v=Math.abs(Math.round(b)-y)||1;return e.setTransform(Math.sign(c),0,0,Math.sign(d),m,y),e.drawImage(t,n,r,s,i,0,0,E,v),e.setTransform(c,u,h,d,p,f),[E,v]}if(0===c&&0===d){const g=o*h+p,m=Math.round(g),w=A*u+f,y=Math.round(w),B=(o+l)*h+p,E=Math.abs(Math.round(B)-m)||1,b=(A+a)*u+f,v=Math.abs(Math.round(b)-y)||1;return e.setTransform(0,Math.sign(u),Math.sign(h),0,m,y),e.drawImage(t,n,r,s,i,0,0,v,E),e.setTransform(c,u,h,d,p,f),[v,E]}e.drawImage(t,n,r,s,i,A,o,a,l);return[Math.hypot(c,u)*a,Math.hypot(h,d)*l]}class ti{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=ln,this.textMatrixScale=1,this.fontMatrix=cn,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=vn,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=Tr.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=Tr.applyTransform(t,e),r=Tr.applyTransform(t.slice(2),e),s=Tr.applyTransform([t[0],t[3]],e),i=Tr.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],r[0],s[0],i[0]),this.minY=Math.min(this.minY,n[1],r[1],s[1],i[1]),this.maxX=Math.max(this.maxX,n[0],r[0],s[0],i[0]),this.maxY=Math.max(this.maxY,n[1],r[1],s[1],i[1])}updateScalingPathMinMax(e,t){Tr.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,r,s,i,A,o,a,l){const c=Tr.bezierBoundingBox(t,n,r,s,i,A,o,a,l);l||this.updateRectMinMax(e,c)}getPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ns,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===Ms){t||ar("Stroke bounding box must include transform.");const e=Tr.singularValueDecompose2dScale(t),r=e[0]*this.lineWidth/2,s=e[1]*this.lineWidth/2;n[0]-=r,n[1]-=s,n[2]+=r,n[3]+=s}return n}updateClipFromPath(){const e=Tr.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ns,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Tr.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function ni(e,t){if("undefined"!==typeof ImageData&&t instanceof ImageData)return void e.putImageData(t,0,0);const n=t.height,r=t.width,s=n%Js,i=(n-s)/Js,A=0===s?i:i+1,o=e.createImageData(r,Js);let a,l=0;const c=t.data,u=o.data;let h,d,p,f;if(t.kind===xn.GRAYSCALE_1BPP){const t=c.byteLength,n=new Uint32Array(u.buffer,0,u.byteLength>>2),f=n.length,g=r+7>>3,m=4294967295,w=vr.isLittleEndian?4278190080:255;for(h=0;h<A;h++){for(p=h<i?Js:s,a=0,d=0;d<p;d++){const e=t-l;let s=0;const i=e>g?r:8*e-7,A=-8&i;let o=0,u=0;for(;s<A;s+=8)u=c[l++],n[a++]=128&u?m:w,n[a++]=64&u?m:w,n[a++]=32&u?m:w,n[a++]=16&u?m:w,n[a++]=8&u?m:w,n[a++]=4&u?m:w,n[a++]=2&u?m:w,n[a++]=1&u?m:w;for(;s<i;s++)0===o&&(u=c[l++],o=128),n[a++]=u&o?m:w,o>>=1}for(;a<f;)n[a++]=0;e.putImageData(o,0,h*Js)}}else if(t.kind===xn.RGBA_32BPP){for(d=0,f=r*Js*4,h=0;h<i;h++)u.set(c.subarray(l,l+f)),l+=f,e.putImageData(o,0,d),d+=Js;h<A&&(f=r*s*4,u.set(c.subarray(l,l+f)),e.putImageData(o,0,d))}else{if(t.kind!==xn.RGB_24BPP)throw new Error(`bad image kind: ${t.kind}`);for(p=Js,f=r*p,h=0;h<A;h++){for(h>=i&&(p=s,f=r*p),a=0,d=f;d--;)u[a++]=c[l++],u[a++]=c[l++],u[a++]=c[l++],u[a++]=255;e.putImageData(o,0,h*Js)}}}function ri(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const n=t.height,r=t.width,s=n%Js,i=(n-s)/Js,A=0===s?i:i+1,o=e.createImageData(r,Js);let a=0;const l=t.data,c=o.data;for(let u=0;u<A;u++){const t=u<i?Js:s;({srcPos:a}=$s({src:l,srcPos:a,dest:c,width:r,height:t,nonBlackColor:0})),e.putImageData(o,0,u*Js)}}function si(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)void 0!==e[r]&&(t[r]=e[r]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function ii(e){if(e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0),!an){const{filter:t}=e;"none"!==t&&""!==t&&(e.filter="none")}}function Ai(e,t){if(t)return!0;const n=Tr.singularValueDecompose2dScale(e);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*Vr.PDF_TO_CSS_UNITS);return n[0]<=r&&n[1]<=r}const oi=["butt","round","square"],ai=["miter","round","bevel"],li={},ci={};class ui{constructor(e,t,n,r,s,i,A,o){let{optionalContentConfig:a,markedContentStack:l=null}=i;this.ctx=e,this.current=new ti(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=a,this.cachedCanvases=new Zs(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=A,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=o,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing(e){let{transform:t,viewport:n,transparency:r=!1,background:s=null}=e;const i=this.ctx.canvas.width,A=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,i,A),this.ctx.fillStyle=o,r){const e=this.cachedCanvases.getCanvas("transparent",i,A);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...cs(this.compositeCtx))}this.ctx.save(),ii(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=cs(this.ctx)}executeOperatorList(e,t,n,r){const s=e.argsArray,i=e.fnArray;let A=t||0;const o=s.length;if(o===A)return A;const a=o-A>10&&"function"===typeof n,l=a?Date.now()+15:0;let c=0;const u=this.commonObjs,h=this.objs;let d;for(;;){if(void 0!==r&&A===r.nextBreakPoint)return r.breakIt(A,n),A;if(d=i[A],d!==tr.dependency)this[d].apply(this,s[A]);else for(const e of s[A]){const t=e.startsWith("g_")?u:h;if(!t.has(e))return t.get(e,n),A}if(A++,A===o)return A;if(a&&++c>10){if(Date.now()>l)return n(),A;c=0}}}#Ft(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#Ft(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#Ut()}#Ut(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const n=e.width,r=e.height;let s,i,A=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=n,l=r,c="prescale1";for(;A>2&&a>1||o>2&&l>1;){let t=a,n=l;A>2&&a>1&&(t=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),A/=a/t),o>2&&l>1&&(n=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/n),s=this.cachedCanvases.getCanvas(c,t,n),i=s.context,i.clearRect(0,0,t,n),i.drawImage(e,0,0,a,l,0,0,t,n),e=s.canvas,a=t,l=n,c="prescale1"===c?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:r}=e,s=this.current.fillColor,i=this.current.patternFill,A=cs(t);let o,a,l,c;if((e.bitmap||e.data)&&e.count>1){const t=e.bitmap||e.data.buffer;a=JSON.stringify(i?A:[A.slice(0,4),s]),o=this._cachedBitmapsMap.get(t),o||(o=new Map,this._cachedBitmapsMap.set(t,o));const n=o.get(a);if(n&&!i){return{canvas:n,offsetX:Math.round(Math.min(A[0],A[2])+A[4]),offsetY:Math.round(Math.min(A[1],A[3])+A[5])}}l=n}l||(c=this.cachedCanvases.getCanvas("maskCanvas",n,r),ri(c.context,e));let u=Tr.transform(A,[1/n,0,0,-1/r,0,0]);u=Tr.transform(u,[1,0,0,1,0,-r]);const[h,d,p,f]=Tr.getAxialAlignedBoundingBox([0,0,n,r],u),g=Math.round(p-h)||1,m=Math.round(f-d)||1,w=this.cachedCanvases.getCanvas("fillCanvas",g,m),y=w.context,B=h,E=d;y.translate(-B,-E),y.transform(...u),l||(l=this._scaleImage(c.canvas,us(y)),l=l.img,o&&i&&o.set(a,l)),y.imageSmoothingEnabled=Ai(cs(y),e.interpolate),ei(y,l,0,0,l.width,l.height,0,0,n,r),y.globalCompositeOperation="source-in";const b=Tr.transform(us(y),[1,0,0,1,-B,-E]);return y.fillStyle=i?s.getPattern(t,this,b,Ns):s,y.fillRect(0,0,n,r),o&&!i&&(this.cachedCanvases.delete("fillCanvas"),o.set(a,w.canvas)),{canvas:w.canvas,offsetX:Math.round(B),offsetY:Math.round(E)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=oi[e]}setLineJoin(e){this.ctx.lineJoin=ai[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const s=this.ctx;s.setTransform(...cs(this.suspendedCtx)),si(this.suspendedCtx,s),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,r,s,i,A){t.transform(e,n,r,s,i,A),this.__originalTransform(e,n,r,s,i,A)},e.setTransform=function(e,n,r,s,i,A){t.setTransform(e,n,r,s,i,A),this.__originalSetTransform(e,n,r,s,i,A)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,r,s,i,A){t.bezierCurveTo(e,n,r,s,i,A),this.__originalBezierCurveTo(e,n,r,s,i,A)},e.rect=function(e,n,r,s){t.rect(e,n,r,s),this.__originalRect(e,n,r,s)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),si(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,r){const s=r[0],i=r[1],A=r[2]-s,o=r[3]-i;0!==A&&0!==o&&(this.genericComposeSMask(t.context,n,A,o,t.subtype,t.backdrop,t.transferMap,s,i,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,r,s,i,A,o,a,l,c){let u=e.canvas,h=o-l,d=a-c;if(i)if(h<0||d<0||h+n>u.width||d+r>u.height){const e=this.cachedCanvases.getCanvas("maskExtension",n,r),t=e.context;t.drawImage(u,-h,-d),i.some((e=>0!==e))&&(t.globalCompositeOperation="destination-atop",t.fillStyle=Tr.makeHexColor(...i),t.fillRect(0,0,n,r),t.globalCompositeOperation="source-over"),u=e.canvas,h=d=0}else if(i.some((e=>0!==e))){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const t=new Path2D;t.rect(h,d,n,r),e.clip(t),e.globalCompositeOperation="destination-atop",e.fillStyle=Tr.makeHexColor(...i),e.fillRect(h,d,n,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),"Alpha"===s&&A?t.filter=this.filterFactory.addAlphaFilter(A):"Luminosity"===s&&(t.filter=this.filterFactory.addLuminosityFilter(A));const p=new Path2D;p.rect(o,a,n,r),t.clip(p),t.globalCompositeOperation="destination-in",t.drawImage(u,h,d,n,r,o,a,n,r),t.restore()}save(){this.inSMaskMode?(si(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),si(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,r,s,i){this.ctx.transform(e,t,n,r,s,i),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const r=this.ctx,s=this.current;let i,A,o=s.x,a=s.y;const l=cs(r),c=0===l[0]&&0===l[3]||0===l[1]&&0===l[2],u=c?n.slice(0):null;for(let h=0,d=0,p=e.length;h<p;h++)switch(0|e[h]){case tr.rectangle:o=t[d++],a=t[d++];const e=t[d++],n=t[d++],h=o+e,p=a+n;r.moveTo(o,a),0===e||0===n?r.lineTo(h,p):(r.lineTo(h,a),r.lineTo(h,p),r.lineTo(o,p)),c||s.updateRectMinMax(l,[o,a,h,p]),r.closePath();break;case tr.moveTo:o=t[d++],a=t[d++],r.moveTo(o,a),c||s.updatePathMinMax(l,o,a);break;case tr.lineTo:o=t[d++],a=t[d++],r.lineTo(o,a),c||s.updatePathMinMax(l,o,a);break;case tr.curveTo:i=o,A=a,o=t[d+4],a=t[d+5],r.bezierCurveTo(t[d],t[d+1],t[d+2],t[d+3],o,a),s.updateCurvePathMinMax(l,i,A,t[d],t[d+1],t[d+2],t[d+3],o,a,u),d+=6;break;case tr.curveTo2:i=o,A=a,r.bezierCurveTo(o,a,t[d],t[d+1],t[d+2],t[d+3]),s.updateCurvePathMinMax(l,i,A,o,a,t[d],t[d+1],t[d+2],t[d+3],u),o=t[d+2],a=t[d+3],d+=4;break;case tr.curveTo3:i=o,A=a,o=t[d+2],a=t[d+3],r.bezierCurveTo(t[d],t[d+1],o,a,o,a),s.updateCurvePathMinMax(l,i,A,t[d],t[d+1],o,a,o,a,u),d+=4;break;case tr.closePath:r.closePath()}c&&s.updateScalingPathMinMax(l,u),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===typeof n&&n?.getPattern?(t.save(),t.strokeStyle=n.getPattern(t,this,us(t),Ms),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.fillColor;let r=!1;this.current.patternFill&&(t.save(),t.fillStyle=n.getPattern(t,this,us(t),Ns),r=!0);const s=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==s&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),r&&t.restore(),e&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=li}eoClip(){this.pendingClip=ci}beginText(){this.current.textMatrix=ln,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){const n=this.commonObjs.get(e),r=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=n.fontMatrix||cn,0!==r.fontMatrix[0]&&0!==r.fontMatrix[3]||or("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const s=n.loadedName||"sans-serif",i=n.systemFontInfo?.css||`"${s}", ${n.fallbackName}`;let A="normal";n.black?A="900":n.bold&&(A="bold");const o=n.italic?"italic":"normal";let a=t;t<16?a=16:t>100&&(a=100),this.current.fontSizeScale=t/a,this.ctx.font=`${o} ${A} ${a}px ${i}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,r,s,i){this.current.textMatrix=[e,t,n,r,s,i],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,r){const s=this.ctx,i=this.current,A=i.font,o=i.textRenderingMode,a=i.fontSize/i.fontSizeScale,l=o&Sn,c=!!(o&In),u=i.patternFill&&!A.missingFile;let h;if((A.disableFontFace||c||u)&&(h=A.getPathGenerator(this.commonObjs,e)),A.disableFontFace||u?(s.save(),s.translate(t,n),s.beginPath(),h(s,a),r&&s.setTransform(...r),l!==vn&&l!==Tn||s.fill(),l!==Cn&&l!==Tn||s.stroke(),s.restore()):(l!==vn&&l!==Tn||s.fillText(e,t,n),l!==Cn&&l!==Tn||s.strokeText(e,t,n)),c){(this.pendingTextPaths||=[]).push({transform:cs(s),x:t,y:n,fontSize:a,addToPath:h})}}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return ur(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(0===r)return;const s=this.ctx,i=t.fontSizeScale,A=t.charSpacing,o=t.wordSpacing,a=t.fontDirection,l=t.textHScale*a,c=e.length,u=n.vertical,h=u?1:-1,d=n.defaultVMetrics,p=r*t.fontMatrix[0],f=t.textRenderingMode===vn&&!n.disableFontFace&&!t.patternFill;let g;if(s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),a>0?s.scale(l,-1):s.scale(l,1),t.patternFill){s.save();const e=t.fillColor.getPattern(s,this,us(s),Ns);g=cs(s),s.restore(),s.fillStyle=e}let m=t.lineWidth;const w=t.textMatrixScale;if(0===w||0===m){const e=t.textRenderingMode&Sn;e!==Cn&&e!==Tn||(m=this.getSinglePixelWidth())}else m/=w;if(1!==i&&(s.scale(i,i),m/=i),s.lineWidth=m,n.isInvalidPDFjsFont){const n=[];let r=0;for(const t of e)n.push(t.unicode),r+=t.width;return s.fillText(n.join(""),0,0),t.x+=r*p*l,s.restore(),void this.compose()}let y,B=0;for(y=0;y<c;++y){const t=e[y];if("number"===typeof t){B+=h*t*r/1e3;continue}let l=!1;const c=(t.isSpace?o:0)+A,m=t.fontChar,w=t.accent;let E,b,v=t.width;if(u){const e=t.vmetric||d,n=-(t.vmetric?e[1]:.5*v)*p,r=e[2]*p;v=e?-e[0]:v,E=n/i,b=(B+r)/i}else E=B/i,b=0;if(n.remeasure&&v>0){const e=1e3*s.measureText(m).width/r*i;if(v<e&&this.isFontSubpixelAAEnabled){const t=v/e;l=!0,s.save(),s.scale(t,1),E/=t}else v!==e&&(E+=(v-e)/2e3*r/i)}if(this.contentVisible&&(t.isInFont||n.missingFile))if(f&&!w)s.fillText(m,E,b);else if(this.paintChar(m,E,b,g),w){const e=E+r*w.offset.x/i,t=b-r*w.offset.y/i;this.paintChar(w.fontChar,e,t,g)}B+=u?v*p-c*a:v*p+c*a,l&&s.restore()}u?t.y-=B:t.x+=B*l,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,r=n.font,s=n.fontSize,i=n.fontDirection,A=r.vertical?1:-1,o=n.charSpacing,a=n.wordSpacing,l=n.textHScale*i,c=n.fontMatrix||cn,u=e.length;let h,d,p,f;if(!(n.textRenderingMode===_n)&&0!==s){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(l,i),h=0;h<u;++h){if(d=e[h],"number"===typeof d){f=A*d*s/1e3,this.ctx.translate(f,0),n.x+=f*l;continue}const i=(d.isSpace?a:0)+o,u=r.charProcOperatorList[d.operatorListId];if(!u){or(`Type3 character "${d.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=d,this.save(),t.scale(s,s),t.transform(...c),this.executeOperatorList(u),this.restore());p=Tr.applyTransform([d.width,0],c)[0]*s+i,t.translate(p,0),n.x+=p*l}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,s,i){this.ctx.rect(n,r,s-n,i-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const n=e[1],r=this.baseTransform||cs(this.ctx),s={createCanvasGraphics:e=>new ui(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new qs(e,n,this.ctx,s,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){const r=Tr.makeHexColor(e,t,n);this.ctx.strokeStyle=r,this.current.strokeColor=r}setFillRGBColor(e,t,n){const r=Tr.makeHexColor(e,t,n);this.ctx.fillStyle=r,this.current.fillColor=r,this.current.patternFill=!1}_getPattern(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(e)?t=this.cachedPatterns.get(e):(t=function(e){switch(e[0]){case"RadialAxial":return new Gs(e);case"Mesh":return new zs(e);case"Dummy":return new Ws}throw new Error(`Unknown IR type: ${e[0]}`)}(this.getObject(e)),this.cachedPatterns.set(e,t)),n&&(t.matrix=n),t}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,us(t),Ps);const r=us(t);if(r){const{width:e,height:n}=t.canvas,[s,i,A,o]=Tr.getAxialAlignedBoundingBox([0,0,e,n],r);this.ctx.fillRect(s,i,A-s,o-i)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ar("Should not call beginInlineImage")}beginImageData(){ar("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=cs(this.ctx),t)){const e=t[2]-t[0],n=t[3]-t[1];this.ctx.rect(t[0],t[1],e,n),this.current.updateRectMinMax(cs(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Ar("TODO: Support non-isolated groups."),e.knockout&&or("Knockout groups not supported.");const n=cs(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=Tr.getAxialAlignedBoundingBox(e.bbox,cs(t));const s=[0,0,t.canvas.width,t.canvas.height];r=Tr.intersect(r,s)||[0,0,0,0];const i=Math.floor(r[0]),A=Math.floor(r[1]),o=Math.max(Math.ceil(r[2])-i,1),a=Math.max(Math.ceil(r[3])-A,1);this.current.startNewPathAndClipBox([0,0,o,a]);let l="groupAt"+this.groupLevel;e.smask&&(l+="_smask_"+this.smaskCounter++%2);const c=this.cachedCanvases.getCanvas(l,o,a),u=c.context;u.translate(-i,-A),u.transform(...n),e.smask?this.smaskStack.push({canvas:c.canvas,context:u,offsetX:i,offsetY:A,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(i,A),t.save()),si(t,u),this.ctx=u,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const e=cs(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...e);const n=Tr.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],e);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,n,r,s){if(this.#Ft(),ii(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const r=t[2]-t[0],i=t[3]-t[1];if(s&&this.annotationCanvasMap){(n=n.slice())[4]-=t[0],n[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=r,t[3]=i;const[s,A]=Tr.singularValueDecompose2dScale(cs(this.ctx)),{viewportScale:o}=this,a=Math.ceil(r*this.outputScaleX*o),l=Math.ceil(i*this.outputScaleY*o);this.annotationCanvas=this.canvasFactory.create(a,l);const{canvas:c,context:u}=this.annotationCanvas;this.annotationCanvasMap.set(e,c),this.annotationCanvas.savedCtx=this.ctx,this.ctx=u,this.ctx.save(),this.ctx.setTransform(s,0,0,-A,0,i*A),ii(this.ctx)}else ii(this.ctx),this.ctx.rect(t[0],t[1],r,i),this.ctx.clip(),this.endPath()}this.current=new ti(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#Ut(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const n=this.ctx,r=this.processingType3;if(r&&(void 0===r.compiled&&(r.compiled=function(e){const{width:t,height:n}=e;if(t>1e3||n>1e3)return null;const r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=t+1;let i,A,o,a=new Uint8Array(s*(n+1));const l=t+7&-8;let c=new Uint8Array(l*n),u=0;for(const f of e.data){let e=128;for(;e>0;)c[u++]=f&e?0:255,e>>=1}let h=0;for(u=0,0!==c[u]&&(a[0]=1,++h),A=1;A<t;A++)c[u]!==c[u+1]&&(a[A]=c[u]?2:1,++h),u++;for(0!==c[u]&&(a[A]=2,++h),i=1;i<n;i++){u=i*l,o=i*s,c[u-l]!==c[u]&&(a[o]=c[u]?1:8,++h);let e=(c[u]?4:0)+(c[u-l]?8:0);for(A=1;A<t;A++)e=(e>>2)+(c[u+1]?4:0)+(c[u-l+1]?8:0),r[e]&&(a[o+A]=r[e],++h),u++;if(c[u-l]!==c[u]&&(a[o+A]=c[u]?2:4,++h),h>1e3)return null}for(u=l*(n-1),o=i*s,0!==c[u]&&(a[o]=8,++h),A=1;A<t;A++)c[u]!==c[u+1]&&(a[o+A]=c[u]?4:8,++h),u++;if(0!==c[u]&&(a[o+A]=4,++h),h>1e3)return null;const d=new Int32Array([0,s,-1,0,-s,0,0,0,1]),p=new Path2D;for(i=0;h&&i<=n;i++){let e=i*s;const n=e+t;for(;e<n&&!a[e];)e++;if(e===n)continue;p.moveTo(e%s,i);const r=e;let A=a[e];do{const t=d[A];do{e+=t}while(!a[e]);const n=a[e];5!==n&&10!==n?(A=n,a[e]=0):(A=n&51*A>>4,a[e]&=A>>2|A<<2),p.lineTo(e%s,e/s|0),a[e]||--h}while(r!==e);--i}return c=null,a=null,function(e){e.save(),e.scale(1/t,-1/n),e.translate(0,-n),e.fill(p),e.beginPath(),e.restore()}}(e)),r.compiled))return void r.compiled(n);const s=this._createMaskCanvas(e),i=s.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(i,s.offsetX,s.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;e=this.getObject(e.data,e);const A=this.ctx;A.save();const o=cs(A);A.transform(t,n,r,s,0,0);const a=this._createMaskCanvas(e);A.setTransform(1,0,0,1,a.offsetX-o[4],a.offsetY-o[5]);for(let l=0,c=i.length;l<c;l+=2){const e=Tr.transform(o,[t,n,r,s,i[l],i[l+1]]),[c,u]=Tr.applyTransform([0,0],e);A.drawImage(a.canvas,c,u)}A.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const s of e){const{data:e,width:i,height:A,transform:o}=s,a=this.cachedCanvases.getCanvas("maskCanvas",i,A),l=a.context;l.save();ri(l,this.getObject(e,s)),l.globalCompositeOperation="source-in",l.fillStyle=r?n.getPattern(l,this,us(t),Ns):n,l.fillRect(0,0,i,A),l.restore(),t.save(),t.transform(...o),t.scale(1,-1),ei(t,a.canvas,0,0,i,A,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):or("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,n,r){if(!this.contentVisible)return;const s=this.getObject(e);if(!s)return void or("Dependent image isn't ready yet");const i=s.width,A=s.height,o=[];for(let a=0,l=r.length;a<l;a+=2)o.push({transform:[t,0,0,n,r[a],r[a+1]],x:0,y:0,w:i,h:A});this.paintInlineImageXObjectGroup(s,o)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:n,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,r),i=s.context;return i.filter=this.current.transferMaps,i.drawImage(t,0,0),i.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,r=this.ctx;if(this.save(),!an){const{filter:e}=r;"none"!==e&&""!==e&&(r.filter="none")}let s;if(r.scale(1/t,-1/n),e.bitmap)s=this.applyTransferMapsToBitmap(e);else if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)s=e;else{const r=this.cachedCanvases.getCanvas("inlineImage",t,n).context;ni(r,e),s=this.applyTransferMapsToCanvas(r)}const i=this._scaleImage(s,us(r));r.imageSmoothingEnabled=Ai(cs(r),e.interpolate),ei(r,i.img,0,0,i.paintWidth,i.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const t=e.width,n=e.height,s=this.cachedCanvases.getCanvas("inlineImage",t,n).context;ni(s,e),r=this.applyTransferMapsToCanvas(s)}for(const s of t)n.save(),n.transform(...s.transform),n.scale(1,-1),ei(n,r,s.x,s.y,s.w,s.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===ci?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=cs(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:n,c:r,d:s}=this.ctx.getTransform();let i,A;if(0===n&&0===r){const n=Math.abs(t),r=Math.abs(s);if(n===r)if(0===e)i=A=1/n;else{const t=n*e;i=A=t<1?1/t:1}else if(0===e)i=1/n,A=1/r;else{const t=n*e,s=r*e;i=t<1?1/t:1,A=s<1?1/s:1}}else{const o=Math.abs(t*s-n*r),a=Math.hypot(t,n),l=Math.hypot(r,s);if(0===e)i=l/o,A=a/o;else{const t=e*o;i=l>t?l/t:1,A=a>t?a/t:1}}this._cachedScaleForStroking[0]=i,this._cachedScaleForStroking[1]=A}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[r,s]=this.getScaleForStroking();if(t.lineWidth=n||1,1===r&&1===s)return void t.stroke();const i=t.getLineDash();if(e&&t.save(),t.scale(r,s),i.length>0){const e=Math.max(r,s);t.setLineDash(i.map((t=>t/e))),t.lineDashOffset/=e}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const n in tr)void 0!==ui.prototype[n]&&(ui.prototype[tr[n]]=ui.prototype[n]);class hi{static#Lt=null;static#Qt="";static get workerPort(){return this.#Lt}static set workerPort(e){if(!("undefined"!==typeof Worker&&e instanceof Worker)&&null!==e)throw new Error("Invalid `workerPort` type.");this.#Lt=e}static get workerSrc(){return this.#Qt}static set workerSrc(e){if("string"!==typeof e)throw new Error("Invalid `workerSrc` type.");this.#Qt=e}}const di=1,pi=2,fi=1,gi=2,mi=3,wi=4,yi=5,Bi=6,Ei=7,bi=8;function vi(e){switch(e instanceof Error||"object"===typeof e&&null!==e||ar('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new yr(e.message);case"MissingPDFException":return new gr(e.message);case"PasswordException":return new dr(e.message,e.code);case"UnexpectedResponseException":return new mr(e.message,e.status);case"UnknownErrorException":return new pr(e.message,e.details);default:return new pr(e.message,e.toString())}}class Ci{constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=e=>{const t=e.data;if(t.targetName!==this.sourceName)return;if(t.stream)return void this.#Dt(t);if(t.callback){const e=t.callbackId,n=this.callbackCapabilities[e];if(!n)throw new Error(`Cannot resolve callback ${e}`);if(delete this.callbackCapabilities[e],t.callback===di)n.resolve(t.data);else{if(t.callback!==pi)throw new Error("Unexpected callback case");n.reject(vi(t.reason))}return}const r=this.actionHandler[t.action];if(!r)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const e=this.sourceName,s=t.sourceName;new Promise((function(e){e(r(t.data))})).then((function(r){n.postMessage({sourceName:e,targetName:s,callback:di,callbackId:t.callbackId,data:r})}),(function(r){n.postMessage({sourceName:e,targetName:s,callback:pi,callbackId:t.callbackId,reason:vi(r)})}))}else t.streamId?this.#Ot(t):r(t.data)},n.addEventListener("message",this._onComObjOnMessage)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(i){s.reject(i)}return s.promise}sendWithStream(e,t,n,r){const s=this.streamId++,i=this.sourceName,A=this.targetName,o=this.comObj;return new ReadableStream({start:n=>{const a=Promise.withResolvers();return this.streamControllers[s]={controller:n,startCall:a,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:i,targetName:A,action:e,streamId:s,data:t,desiredSize:n.desiredSize},r),a.promise},pull:e=>{const t=Promise.withResolvers();return this.streamControllers[s].pullCall=t,o.postMessage({sourceName:i,targetName:A,stream:Bi,streamId:s,desiredSize:e.desiredSize}),t.promise},cancel:e=>{lr(e instanceof Error,"cancel must have a valid reason");const t=Promise.withResolvers();return this.streamControllers[s].cancelCall=t,this.streamControllers[s].isClosed=!0,o.postMessage({sourceName:i,targetName:A,stream:fi,streamId:s,reason:vi(e)}),t.promise}},n)}#Ot(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,s=this.comObj,i=this,A=this.actionHandler[e.action],o={enqueue(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,A=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=i,o>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:r,stream:wi,streamId:t,chunk:e},A)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:mi,streamId:t}),delete i.streamSinks[t])},error(e){lr(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:yi,streamId:t,reason:vi(e)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[t]=o,new Promise((function(t){t(A(e.data,o))})).then((function(){s.postMessage({sourceName:n,targetName:r,stream:bi,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:r,stream:bi,streamId:t,reason:vi(e)})}))}#Dt(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,s=this.comObj,i=this.streamControllers[t],A=this.streamSinks[t];switch(e.stream){case bi:e.success?i.startCall.resolve():i.startCall.reject(vi(e.reason));break;case Ei:e.success?i.pullCall.resolve():i.pullCall.reject(vi(e.reason));break;case Bi:if(!A){s.postMessage({sourceName:n,targetName:r,stream:Ei,streamId:t,success:!0});break}A.desiredSize<=0&&e.desiredSize>0&&A.sinkCapability.resolve(),A.desiredSize=e.desiredSize,new Promise((function(e){e(A.onPull?.())})).then((function(){s.postMessage({sourceName:n,targetName:r,stream:Ei,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:r,stream:Ei,streamId:t,reason:vi(e)})}));break;case wi:if(lr(i,"enqueue should have stream controller"),i.isClosed)break;i.controller.enqueue(e.chunk);break;case mi:if(lr(i,"close should have stream controller"),i.isClosed)break;i.isClosed=!0,i.controller.close(),this.#Rt(i,t);break;case yi:lr(i,"error should have stream controller"),i.controller.error(vi(e.reason)),this.#Rt(i,t);break;case gi:e.success?i.cancelCall.resolve():i.cancelCall.reject(vi(e.reason)),this.#Rt(i,t);break;case fi:if(!A)break;new Promise((function(t){t(A.onCancel?.(vi(e.reason)))})).then((function(){s.postMessage({sourceName:n,targetName:r,stream:gi,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:r,stream:gi,streamId:t,reason:vi(e)})})),A.sinkCapability.reject(vi(e.reason)),A.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#Rt(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}class Ti{#Nt;#Mt;constructor(e){let{parsedData:t,rawData:n}=e;this.#Nt=t,this.#Mt=n}getRaw(){return this.#Mt}get(e){return this.#Nt.get(e)??null}getAll(){return br(this.#Nt)}has(e){return this.#Nt.has(e)}}const _i=Symbol("INTERNAL");class Si{#Pt=!1;#Ht=!1;#Kt=!1;#Gt=!0;constructor(e,t){let{name:n,intent:r,usage:s}=t;this.#Pt=!!(e&dn),this.#Ht=!!(e&pn),this.name=n,this.intent=r,this.usage=s}get visible(){if(this.#Kt)return this.#Gt;if(!this.#Gt)return!1;const{print:e,view:t}=this.usage;return this.#Pt?"OFF"!==t?.viewState:!this.#Ht||"OFF"!==e?.printState}_setVisible(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e!==_i&&ar("Internal method `_setVisible` called."),this.#Kt=n,this.#Gt=t}}class Ii{#jt=null;#Vt=(()=>new Map)();#zt=null;#Wt=null;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;if(this.renderingIntent=t,this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,this.#Wt=e.order;for(const n of e.groups)this.#Vt.set(n.id,new Si(t,n));if("OFF"===e.baseState)for(const e of this.#Vt.values())e._setVisible(_i,!1);for(const t of e.on)this.#Vt.get(t)._setVisible(_i,!0);for(const t of e.off)this.#Vt.get(t)._setVisible(_i,!1);this.#zt=this.getHash()}}#Yt(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let r=1;r<t;r++){const t=e[r];let s;if(Array.isArray(t))s=this.#Yt(t);else{if(!this.#Vt.has(t))return or(`Optional content group not found: ${t}`),!0;s=this.#Vt.get(t).visible}switch(n){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return"And"===n}isVisible(e){if(0===this.#Vt.size)return!0;if(!e)return Ar("Optional content group not defined."),!0;if("OCG"===e.type)return this.#Vt.has(e.id)?this.#Vt.get(e.id).visible:(or(`Optional content group not found: ${e.id}`),!0);if("OCMD"===e.type){if(e.expression)return this.#Yt(e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!this.#Vt.has(t))return or(`Optional content group not found: ${t}`),!0;if(this.#Vt.get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!this.#Vt.has(t))return or(`Optional content group not found: ${t}`),!0;if(!this.#Vt.get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!this.#Vt.has(t))return or(`Optional content group not found: ${t}`),!0;if(!this.#Vt.get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!this.#Vt.has(t))return or(`Optional content group not found: ${t}`),!0;if(this.#Vt.get(t).visible)return!1}return!0}return or(`Unknown optional content policy ${e.policy}.`),!0}return or(`Unknown group type ${e.type}.`),!0}setVisibility(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.#Vt.get(e);n?(n._setVisible(_i,!!t,!0),this.#jt=null):or(`Optional content group not found: ${e}`)}setOCGState(e){let t,{state:n,preserveRB:r}=e;for(const s of n){switch(s){case"ON":case"OFF":case"Toggle":t=s;continue}const e=this.#Vt.get(s);if(e)switch(t){case"ON":e._setVisible(_i,!0);break;case"OFF":e._setVisible(_i,!1);break;case"Toggle":e._setVisible(_i,!e.visible)}}this.#jt=null}get hasInitialVisibility(){return null===this.#zt||this.getHash()===this.#zt}getOrder(){return this.#Vt.size?this.#Wt?this.#Wt.slice():[...this.#Vt.keys()]:null}getGroups(){return this.#Vt.size>0?br(this.#Vt):null}getGroup(e){return this.#Vt.get(e)||null}getHash(){if(null!==this.#jt)return this.#jt;const e=new Is;for(const[t,n]of this.#Vt)e.update(`${t}:${n.visible}`);return this.#jt=e.hexdigest()}}class xi{constructor(e,t){let{disableRange:n=!1,disableStream:r=!1}=t;lr(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:i,progressiveDone:A,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=A,this._contentDispositionFilename=o,i?.length>0){const e=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener(((e,t)=>{this._onReceiveData({begin:e,chunk:t})})),e.addProgressListener(((e,t)=>{this._onProgress({loaded:e,total:t})})),e.addProgressiveReadListener((e=>{this._onReceiveData({chunk:e})})),e.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),e.transportReady()}_onReceiveData(e){let{begin:t,chunk:n}=e;const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===t)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{lr(this._rangeReaders.some((function(e){return e._begin===t&&(e._enqueue(r),!0)})),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){void 0===e.total?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){lr(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new ki(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Fi(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class ki{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=e,this._done=n||!1,this._filename=Zr(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunks.push(e);this._loaded+=e.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Fi{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Ui(e){let{getResponseHeader:t,isHttp:n,rangeChunkSize:r,disableRange:s}=e;const i={allowRangeRequests:!1,suggestedLength:void 0},A=parseInt(t("Content-Length"),10);if(!Number.isInteger(A))return i;if(i.suggestedLength=A,A<=2*r)return i;if(s||!n)return i;if("bytes"!==t("Accept-Ranges"))return i;return"identity"!==(t("Content-Encoding")||"identity")||(i.allowRangeRequests=!0),i}function Li(e){const t=e("Content-Disposition");if(t){let e=function(e){let t=!0,n=r("filename\\*","i").exec(e);if(n){n=n[1];let e=A(n);return e=unescape(e),e=o(e),e=a(e),i(e)}if(n=function(e){const t=[];let n;const s=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=s.exec(e));){let[,e,r,s]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[r,s]}const i=[];for(let r=0;r<t.length&&r in t;++r){let[e,n]=t[r];n=A(n),e&&(n=unescape(n),0===r&&(n=o(n))),i.push(n)}return i.join("")}(e),n)return i(a(n));if(n=r("filename","i").exec(e),n){n=n[1];let e=A(n);return e=a(e),i(e)}function r(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function s(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const r=new TextDecoder(e,{fatal:!0}),s=Er(n);n=r.decode(s),t=!1}catch{}}return n}function i(e){return t&&/[\x80-\xff]/.test(e)&&(e=s("utf-8",e),t&&(e=s("iso-8859-1",e))),e}function A(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function o(e){const t=e.indexOf("'");return-1===t?e:s(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function a(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,r){if("q"===n||"Q"===n)return s(t,r=(r=r.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{r=atob(r)}catch{}return s(t,r)}))}return""}(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Zr(e))return e}return null}function Qi(e,t){return 404===e||0===e&&t.startsWith("file:")?new gr('Missing PDF "'+t+'".'):new mr(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e)}function Di(e){return 200===e||206===e}function Oi(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Ri(e){const t=new Headers;for(const n in e){const r=e[n];void 0!==r&&t.append(n,r)}return t}function Ni(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(or(`getArrayBuffer - unexpected data format: ${e}`),new Uint8Array(e).buffer)}class Mi{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return lr(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Pi(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Hi(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class Pi{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=Ri(this._stream.httpHeaders);const n=t.url;fetch(n,Oi(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!Di(e.status))throw Qi(e.status,n);this._reader=e.body.getReader(),this._headersCapability.resolve();const t=t=>e.headers.get(t),{allowRangeRequests:r,suggestedLength:s}=Ui({getResponseHeader:t,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=s||this._contentLength,this._filename=Li(t),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new yr("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:Ni(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class Hi{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController,this._headers=Ri(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${n-1}`);const s=r.url;fetch(s,Oi(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!Di(e.status))throw Qi(e.status,s);this._readCapability.resolve(),this._reader=e.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:Ni(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class Ki{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const r={begin:e,end:t};for(const s in n)r[s]=n[s];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const e=this.httpHeaders[s];void 0!==e&&t.setRequestHeader(s,e)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=206):r.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==r.readyState)return;if(!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],0===r.status&&this.isHttp)return void n.onError?.(r.status);const s=r.status||200;if(!(200===s&&206===n.expectedStatus)&&s!==n.expectedStatus)return void n.onError?.(r.status);const i=function(e){const t=e.response;return"string"!==typeof t?t:Er(t).buffer}(r);if(206===s){const e=r.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);n.onDone({begin:parseInt(t[1],10),chunk:i})}else i?n.onDone({begin:0,chunk:i}):n.onError?.(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class Gi{constructor(e){this._source=e,this._manager=new Ki(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return lr(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ji(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new Vi(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class ji{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=e=>t.getResponseHeader(e),{allowRangeRequests:r,suggestedLength:s}=Ui({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=Li(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e)if(this._requests.length>0){this._requests.shift().resolve({value:e.chunk,done:!1})}else this._cachedChunks.push(e.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Qi(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Vi{constructor(e,t,n){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunk=t;this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Qi(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const zi=/^file:\/\/\/[a-zA-Z]:\//;class Wi{constructor(e){this.source=e,this.url=function(e){const t=Os.get("url"),n=t.parse(e);return"file:"===n.protocol||n.host?n:/^[a-z]:[/\\]/i.test(e)?t.parse(`file:///${e}`):(n.host||(n.protocol="file:"),n)}(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return lr(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Zi(this):new $i(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new eA(this,e,t):new Ji(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class Yi{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(e).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new yr("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Xi{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=e.length,this.onProgress?.({loaded:this._loaded});return{value:new Uint8Array(e).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}}function qi(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}class $i extends Yi{constructor(e){super(e);const t=t=>{if(404===t.statusCode){const e=new gr(`Missing PDF "${this._url}".`);return this._storedError=e,void this._headersCapability.reject(e)}this._headersCapability.resolve(),this._setReadableStream(t);const n=e=>this._readableStream.headers[e.toLowerCase()],{allowRangeRequests:r,suggestedLength:s}=Ui({getResponseHeader:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=s||this._contentLength,this._filename=Li(n)};if(this._request=null,"http:"===this._url.protocol){const n=Os.get("http");this._request=n.request(qi(this._url,e.httpHeaders),t)}else{const n=Os.get("https");this._request=n.request(qi(this._url,e.httpHeaders),t)}this._request.on("error",(e=>{this._storedError=e,this._headersCapability.reject(e)})),this._request.end()}}class Ji extends Xi{constructor(e,t,n){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const t=e.httpHeaders[s];void 0!==t&&(this._httpHeaders[s]=t)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;const r=e=>{if(404!==e.statusCode)this._setReadableStream(e);else{const e=new gr(`Missing PDF "${this._url}".`);this._storedError=e}};if(this._request=null,"http:"===this._url.protocol){const e=Os.get("http");this._request=e.request(qi(this._url,this._httpHeaders),r)}else{const e=Os.get("https");this._request=e.request(qi(this._url,this._httpHeaders),r)}this._request.on("error",(e=>{this._storedError=e})),this._request.end()}}class Zi extends Yi{constructor(e){super(e);let t=decodeURIComponent(this._url.path);zi.test(this._url.href)&&(t=t.replace(/^\//,""));const n=Os.get("fs");n.promises.lstat(t).then((e=>{this._contentLength=e.size,this._setReadableStream(n.createReadStream(t)),this._headersCapability.resolve()}),(e=>{"ENOENT"===e.code&&(e=new gr(`Missing PDF "${t}".`)),this._storedError=e,this._headersCapability.reject(e)}))}}class eA extends Xi{constructor(e,t,n){super(e);let r=decodeURIComponent(this._url.path);zi.test(this._url.href)&&(r=r.replace(/^\//,""));const s=Os.get("fs");this._setReadableStream(s.createReadStream(r,{start:t,end:n-1}))}}const tA=30;class nA{#Xt=(()=>Promise.withResolvers())();#ge=null;#qt=!1;#$t=(()=>!!globalThis.FontInspector?.enabled)();#Jt=null;#Zt=null;#en=0;#tn=0;#nn=null;#rn=null;#sn=0;#in=0;#An=(()=>Object.create(null))();#on=[];#an=null;#ln=[];#cn=(()=>new WeakMap)();#un=null;static#hn=(()=>new Map)();static#dn=(()=>new Map)();static#pn=null;static#fn=(()=>new Set)();constructor(e){let{textContentSource:t,container:n,viewport:r}=e;if(t instanceof ReadableStream)this.#an=t;else{if("object"!==typeof t)throw new Error('No "textContentSource" parameter specified.');this.#an=new ReadableStream({start(e){e.enqueue(t),e.close()}})}this.#ge=this.#rn=n,this.#in=r.scale*(globalThis.devicePixelRatio||1),this.#sn=r.rotation,this.#Zt={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null};const{pageWidth:s,pageHeight:i,pageX:A,pageY:o}=r.rawDims;this.#un=[1,0,0,-1,-A,o+i],this.#tn=s,this.#en=i,nA.#gn(),hs(n,r),this.#Xt.promise.catch((()=>{})).then((()=>{nA.#fn.delete(this),this.#Zt=null,this.#An=null}))}render(){const e=()=>{this.#nn.read().then((t=>{let{value:n,done:r}=t;r?this.#Xt.resolve():(this.#Jt??=n.lang,Object.assign(this.#An,n.styles),this.#mn(n.items),e())}),this.#Xt.reject)};return this.#nn=this.#an.getReader(),nA.#fn.add(this),e(),this.#Xt.promise}update(e){let{viewport:t,onBefore:n=null}=e;const r=t.scale*(globalThis.devicePixelRatio||1),s=t.rotation;if(s!==this.#sn&&(n?.(),this.#sn=s,hs(this.#rn,{rotation:s})),r!==this.#in){n?.(),this.#in=r;const e={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:nA.#wn(this.#Jt)};for(const t of this.#ln)e.properties=this.#cn.get(t),e.div=t,this.#yn(e)}}cancel(){const e=new yr("TextLayer task cancelled.");this.#nn?.cancel(e).catch((()=>{})),this.#nn=null,this.#Xt.reject(e)}get textDivs(){return this.#ln}get textContentItemsStr(){return this.#on}#mn(e){if(this.#qt)return;this.#Zt.ctx??=nA.#wn(this.#Jt);const t=this.#ln,n=this.#on;for(const r of e){if(t.length>1e5)return or("Ignoring additional textDivs for performance reasons."),void(this.#qt=!0);if(void 0!==r.str)n.push(r.str),this.#Bn(r);else if("beginMarkedContentProps"===r.type||"beginMarkedContent"===r.type){const e=this.#ge;this.#ge=document.createElement("span"),this.#ge.classList.add("markedContent"),null!==r.id&&this.#ge.setAttribute("id",`${r.id}`),e.append(this.#ge)}else"endMarkedContent"===r.type&&(this.#ge=this.#ge.parentNode)}}#Bn(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0};this.#ln.push(t);const r=Tr.transform(this.#un,e.transform);let s=Math.atan2(r[1],r[0]);const i=this.#An[e.fontName];i.vertical&&(s+=Math.PI/2);const A=this.#$t&&i.fontSubstitution||i.fontFamily,o=Math.hypot(r[2],r[3]),a=o*nA.#En(A,this.#Jt);let l,c;0===s?(l=r[4],c=r[5]-a):(l=r[4]+a*Math.sin(s),c=r[5]-a*Math.cos(s));const u="calc(var(--scale-factor)*",h=t.style;this.#ge===this.#rn?(h.left=`${(100*l/this.#tn).toFixed(2)}%`,h.top=`${(100*c/this.#en).toFixed(2)}%`):(h.left=`${u}${l.toFixed(2)}px)`,h.top=`${u}${c.toFixed(2)}px)`),h.fontSize=`${u}${(nA.#pn*o).toFixed(2)}px)`,h.fontFamily=A,n.fontSize=o,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#$t&&(t.dataset.fontName=i.fontSubstitutionLoadedName||e.fontName),0!==s&&(n.angle=s*(180/Math.PI));let d=!1;if(e.str.length>1)d=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){const t=Math.abs(e.transform[0]),n=Math.abs(e.transform[3]);t!==n&&Math.max(t,n)/Math.min(t,n)>1.5&&(d=!0)}if(d&&(n.canvasWidth=i.vertical?e.height:e.width),this.#cn.set(t,n),this.#Zt.div=t,this.#Zt.properties=n,this.#yn(this.#Zt),n.hasText&&this.#ge.append(t),n.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),this.#ge.append(e)}}#yn(e){const{div:t,properties:n,ctx:r,prevFontSize:s,prevFontFamily:i}=e,{style:A}=t;let o="";if(nA.#pn>1&&(o=`scale(${1/nA.#pn})`),0!==n.canvasWidth&&n.hasText){const{fontFamily:a}=A,{canvasWidth:l,fontSize:c}=n;s===c&&i===a||(r.font=`${c*this.#in}px ${a}`,e.prevFontSize=c,e.prevFontFamily=a);const{width:u}=r.measureText(t.textContent);u>0&&(o=`scaleX(${l*this.#in/u}) ${o}`)}0!==n.angle&&(o=`rotate(${n.angle}deg) ${o}`),o.length>0&&(A.transform=o)}static cleanup(){if(!(this.#fn.size>0)){this.#hn.clear();for(const{canvas:e}of this.#dn.values())e.remove();this.#dn.clear()}}static#wn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.#dn.get(e||="");if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#dn.set(e,t)}return t}static#gn(){if(null!==this.#pn)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),this.#pn=e.getBoundingClientRect().height,e.remove()}static#En(e,t){const n=this.#hn.get(e);if(n)return n;const r=this.#wn(t),s=r.font;r.canvas.width=r.canvas.height=tA,r.font=`30px ${e}`;const i=r.measureText("");let A=i.fontBoundingBoxAscent,o=Math.abs(i.fontBoundingBoxDescent);if(A){const t=A/(A+o);return this.#hn.set(e,t),r.canvas.width=r.canvas.height=0,r.font=s,t}r.strokeStyle="red",r.clearRect(0,0,tA,tA),r.strokeText("g",0,0);let a=r.getImageData(0,0,tA,tA).data;o=0;for(let c=a.length-1-3;c>=0;c-=4)if(a[c]>0){o=Math.ceil(c/4/tA);break}r.clearRect(0,0,tA,tA),r.strokeText("A",0,tA),a=r.getImageData(0,0,tA,tA).data,A=0;for(let c=0,u=a.length;c<u;c+=4)if(a[c]>0){A=tA-Math.floor(c/4/tA);break}r.canvas.width=r.canvas.height=0,r.font=s;const l=A?A/(A+o):.8;return this.#hn.set(e,l),l}}function rA(){is("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:e,container:t,viewport:n,...r}=arguments[0],s=Object.keys(r);s.length>0&&or("Ignoring `renderTextLayer` parameters: "+s.join(", "));const i=new nA({textContentSource:e,container:t,viewport:n}),{textDivs:A,textContentItemsStr:o}=i;return{promise:i.render(),textDivs:A,textContentItemsStr:o}}function sA(){is("`updateTextLayer`, please use `TextLayer` instead.")}class iA{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};return function e(n){if(!n)return;let r=null;const s=n.name;if("#text"===s)r=n.value;else{if(!iA.shouldBuildText(s))return;n?.attributes?.textContent?r=n.attributes.textContent:n.value&&(r=n.value)}if(null!==r&&t.push({str:r}),n.children)for(const t of n.children)e(t)}(e),n}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}const AA=65536,oA=an?class extends Pr{_createCanvas(e,t){return Os.get("canvas").createCanvas(e,t)}}:class extends Pr{constructor(){let{ownerDocument:e=globalThis.document,enableHWA:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}},aA=an?class extends Hr{_fetchData(e,t){return Rs(e).then((e=>({cMapData:e,compressionType:t})))}}:Wr,lA=an?class extends Mr{}:class extends Mr{#bn;#vn;#Cn;#Tn;#_n;#m=0;constructor(){let{docId:e,ownerDocument:t=globalThis.document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.#Cn=e,this.#Tn=t}get#y(){return this.#bn||=new Map}get#Sn(){return this.#_n||=new Map}get#In(){if(!this.#vn){const e=this.#Tn.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const n=this.#Tn.createElementNS(jr,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#vn=this.#Tn.createElementNS(jr,"defs"),e.append(n),n.append(this.#vn),this.#Tn.body.append(e)}return this.#vn}#xn(e){if(1===e.length){const t=e[0],n=new Array(256);for(let e=0;e<256;e++)n[e]=t[e]/255;const r=n.join(",");return[r,r,r]}const[t,n,r]=e,s=new Array(256),i=new Array(256),A=new Array(256);for(let o=0;o<256;o++)s[o]=t[o]/255,i[o]=n[o]/255,A[o]=r[o]/255;return[s.join(","),i.join(","),A.join(",")]}addFilter(e){if(!e)return"none";let t=this.#y.get(e);if(t)return t;const[n,r,s]=this.#xn(e),i=1===e.length?n:`${n}${r}${s}`;if(t=this.#y.get(i),t)return this.#y.set(e,t),t;const A=`g_${this.#Cn}_transfer_map_${this.#m++}`,o=`url(#${A})`;this.#y.set(e,o),this.#y.set(i,o);const a=this.#kn(A);return this.#Fn(n,r,s,a),o}addHCMFilter(e,t){const n=`${e}-${t}`,r="base";let s=this.#Sn.get(r);if(s?.key===n)return s.url;if(s?(s.filter?.remove(),s.key=n,s.url="none",s.filter=null):(s={key:n,url:"none",filter:null},this.#Sn.set(r,s)),!e||!t)return s.url;const i=this.#Un(e);e=Tr.makeHexColor(...i);const A=this.#Un(t);if(t=Tr.makeHexColor(...A),this.#In.style.color="","#000000"===e&&"#ffffff"===t||e===t)return s.url;const o=new Array(256);for(let h=0;h<=255;h++){const e=h/255;o[h]=e<=.03928?e/12.92:((e+.055)/1.055)**2.4}const a=o.join(","),l=`g_${this.#Cn}_hcm_filter`,c=s.filter=this.#kn(l);this.#Fn(a,a,a,c),this.#Ln(c);const u=(e,t)=>{const n=i[e]/255,r=A[e]/255,s=new Array(t+1);for(let i=0;i<=t;i++)s[i]=n+i/t*(r-n);return s.join(",")};return this.#Fn(u(0,5),u(1,5),u(2,5),c),s.url=`url(#${l})`,s.url}addAlphaFilter(e){let t=this.#y.get(e);if(t)return t;const[n]=this.#xn([e]),r=`alpha_${n}`;if(t=this.#y.get(r),t)return this.#y.set(e,t),t;const s=`g_${this.#Cn}_alpha_map_${this.#m++}`,i=`url(#${s})`;this.#y.set(e,i),this.#y.set(r,i);const A=this.#kn(s);return this.#Qn(n,A),i}addLuminosityFilter(e){let t,n,r=this.#y.get(e||"luminosity");if(r)return r;if(e?([t]=this.#xn([e]),n=`luminosity_${t}`):n="luminosity",r=this.#y.get(n),r)return this.#y.set(e,r),r;const s=`g_${this.#Cn}_luminosity_map_${this.#m++}`,i=`url(#${s})`;this.#y.set(e,i),this.#y.set(n,i);const A=this.#kn(s);return this.#Dn(A),e&&this.#Qn(t,A),i}addHighlightHCMFilter(e,t,n,r,s){const i=`${t}-${n}-${r}-${s}`;let A=this.#Sn.get(e);if(A?.key===i)return A.url;if(A?(A.filter?.remove(),A.key=i,A.url="none",A.filter=null):(A={key:i,url:"none",filter:null},this.#Sn.set(e,A)),!t||!n)return A.url;const[o,a]=[t,n].map(this.#Un.bind(this));let l=Math.round(.2126*o[0]+.7152*o[1]+.0722*o[2]),c=Math.round(.2126*a[0]+.7152*a[1]+.0722*a[2]),[u,h]=[r,s].map(this.#Un.bind(this));c<l&&([l,c,u,h]=[c,l,h,u]),this.#In.style.color="";const d=(e,t,n)=>{const r=new Array(256),s=(c-l)/n,i=e/255,A=(t-e)/(255*n);let o=0;for(let a=0;a<=n;a++){const e=Math.round(l+a*s),t=i+a*A;for(let n=o;n<=e;n++)r[n]=t;o=e+1}for(let a=o;a<256;a++)r[a]=r[o-1];return r.join(",")},p=`g_${this.#Cn}_hcm_${e}_filter`,f=A.filter=this.#kn(p);return this.#Ln(f),this.#Fn(d(u[0],h[0],5),d(u[1],h[1],5),d(u[2],h[2],5),f),A.url=`url(#${p})`,A.url}destroy(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&0!==this.#Sn.size||(this.#vn&&(this.#vn.parentNode.parentNode.remove(),this.#vn=null),this.#bn&&(this.#bn.clear(),this.#bn=null),this.#m=0)}#Dn(e){const t=this.#Tn.createElementNS(jr,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#Ln(e){const t=this.#Tn.createElementNS(jr,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#kn(e){const t=this.#Tn.createElementNS(jr,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#In.append(t),t}#On(e,t,n){const r=this.#Tn.createElementNS(jr,t);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),e.append(r)}#Fn(e,t,n,r){const s=this.#Tn.createElementNS(jr,"feComponentTransfer");r.append(s),this.#On(s,"feFuncR",e),this.#On(s,"feFuncG",t),this.#On(s,"feFuncB",n)}#Qn(e,t){const n=this.#Tn.createElementNS(jr,"feComponentTransfer");t.append(n),this.#On(n,"feFuncA",e)}#Un(e){return this.#In.style.color=e,ls(getComputedStyle(this.#In).getPropertyValue("color"))}},cA=an?class extends Kr{_fetchData(e){return Rs(e)}}:Yr;function uA(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"===typeof e||e instanceof URL?e={url:e}:(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});const t=new dA,{docId:n}=t,r=e.url?function(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch{if(an&&"string"===typeof e)return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(e.url):null,s=e.data?function(e){if(an&&"undefined"!==typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"===typeof e)return Er(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||"object"===typeof e&&!isNaN(e?.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(e.data):null,i=e.httpHeaders||null,A=!0===e.withCredentials,o=e.password??null,a=e.range instanceof pA?e.range:null,l=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:AA;let c=e.worker instanceof yA?e.worker:null;const u=e.verbosity,h="string"!==typeof e.docBaseUrl||Jr(e.docBaseUrl)?null:e.docBaseUrl,d="string"===typeof e.cMapUrl?e.cMapUrl:null,p=!1!==e.cMapPacked,f=e.CMapReaderFactory||aA,g="string"===typeof e.standardFontDataUrl?e.standardFontDataUrl:null,m=e.StandardFontDataFactory||cA,w=!0!==e.stopAtErrors,y=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,B=!1!==e.isEvalSupported,E="boolean"===typeof e.isOffscreenCanvasSupported?e.isOffscreenCanvasSupported:!an,b=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,v="boolean"===typeof e.disableFontFace?e.disableFontFace:an,C=!0===e.fontExtraProperties,T=!0===e.enableXfa,_=e.ownerDocument||globalThis.document,S=!0===e.disableRange,I=!0===e.disableStream,x=!0===e.disableAutoFetch,k=!0===e.pdfBug,F=!0===e.enableHWA,U=a?a.length:e.length??NaN,L="boolean"===typeof e.useSystemFonts?e.useSystemFonts:!an&&!v,Q="boolean"===typeof e.useWorkerFetch?e.useWorkerFetch:f===Wr&&m===Yr&&d&&g&&rs(d,document.baseURI)&&rs(g,document.baseURI),D=e.canvasFactory||new oA({ownerDocument:_,enableHWA:F}),O=e.filterFactory||new lA({docId:n,ownerDocument:_});sr(u);const R={canvasFactory:D,filterFactory:O};if(Q||(R.cMapReaderFactory=new f({baseUrl:d,isCompressed:p}),R.standardFontDataFactory=new m({baseUrl:g})),!c){const e={verbosity:u,port:hi.workerPort};c=e.port?yA.fromPort(e):new yA(e),t._worker=c}const N={docId:n,apiVersion:"4.4.168",data:s,password:o,disableAutoFetch:x,rangeChunkSize:l,length:U,docBaseUrl:h,enableXfa:T,evaluatorOptions:{maxImageSize:y,disableFontFace:v,ignoreErrors:w,isEvalSupported:B,isOffscreenCanvasSupported:E,canvasMaxAreaInBytes:b,fontExtraProperties:C,useSystemFonts:L,cMapUrl:Q?d:null,standardFontDataUrl:Q?g:null}},M={disableFontFace:v,fontExtraProperties:C,ownerDocument:_,pdfBug:k,styleElement:null,loadingParams:{disableAutoFetch:x,enableXfa:T}};return c.promise.then((function(){if(t.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const e=c.messageHandler.sendWithPromise("GetDocRequest",N,s?[s.buffer]:null);let o;if(a)o=new xi(a,{disableRange:S,disableStream:I});else if(!s){if(!r)throw new Error("getDocument - no `url` parameter provided.");o=(e=>{if(an){return function(){return"undefined"!==typeof fetch&&"undefined"!==typeof Response&&"body"in Response.prototype}()&&rs(e.url)?new Mi(e):new Wi(e)}return rs(e.url)?new Mi(e):new Gi(e)})({url:r,length:U,httpHeaders:i,withCredentials:A,rangeChunkSize:l,disableRange:S,disableStream:I})}return e.then((e=>{if(t.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const r=new Ci(n,e,c.port),s=new BA(r,t,o,M,R);t._transport=s,r.send("Ready",null)}))})).catch(t._capability.reject),t}function hA(e){return"object"===typeof e&&Number.isInteger(e?.num)&&e.num>=0&&Number.isInteger(e?.gen)&&e.gen>=0}class dA{static#Cn=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId="d"+dA.#Cn++,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await(this._transport?.destroy())}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}class pA{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(e,t)}))}onDataProgressiveRead(e){this._readyCapability.promise.then((()=>{for(const t of this._progressiveReadListeners)t(e)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const e of this._progressiveDoneListeners)e()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){ar("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class fA{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ur(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class gA{#Rn=null;#Nn=!1;constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new ns:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new bA,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new qr({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:s})}getAnnotations(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ur(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render(e){let{canvasContext:t,viewport:n,intent:r="display",annotationMode:s=yn.ENABLE,transform:i=null,background:A=null,optionalContentConfigPromise:o=null,annotationCanvasMap:a=null,pageColors:l=null,printAnnotationStorage:c=null}=e;this._stats?.time("Overall");const u=this._transport.getRenderingIntent(r,s,c),{renderingIntent:h,cacheKey:d}=u;this.#Nn=!1,this.#Mn(),o||=this._transport.getOptionalContentConfig(h);let p=this._intentStates.get(d);p||(p=Object.create(null),this._intentStates.set(d,p)),p.streamReaderCancelTimeout&&(clearTimeout(p.streamReaderCancelTimeout),p.streamReaderCancelTimeout=null);const f=!!(h&pn);p.displayReadyCapability||(p.displayReadyCapability=Promise.withResolvers(),p.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(u));const g=e=>{p.renderTasks.delete(m),(this._maybeCleanupAfterRender||f)&&(this.#Nn=!0),this.#Pn(!f),e?(m.capability.reject(e),this._abortOperatorList({intentState:p,reason:e instanceof Error?e:new Error(e)})):m.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},m=new CA({callback:g,params:{canvasContext:t,viewport:n,transform:i,background:A},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:a,operatorList:p.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!f,pdfBug:this._pdfBug,pageColors:l});(p.renderTasks||=new Set).add(m);const w=m.task;return Promise.all([p.displayReadyCapability.promise,o]).then((e=>{let[t,n]=e;if(this.destroyed)g();else{if(this._stats?.time("Rendering"),!(n.renderingIntent&h))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");m.initializeGraphics({transparency:t,optionalContentConfig:n}),m.operatorListChanged()}})).catch(g),w}getOperatorList(){let{intent:e="display",annotationMode:t=yn.ENABLE,printAnnotationStorage:n=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this._transport.getRenderingIntent(e,t,n,!0);let s,i=this._intentStates.get(r.cacheKey);return i||(i=Object.create(null),this._intentStates.set(r.cacheKey,i)),i.opListReadCapability||(s=Object.create(null),s.operatorListChanged=function(){i.operatorList.lastChunk&&(i.opListReadCapability.resolve(i.operatorList),i.renderTasks.delete(s))},i.opListReadCapability=Promise.withResolvers(),(i.renderTasks||=new Set).add(s),i.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(r)),i.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:e=!1,disableNormalization:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((e=>iA.textContent(e)));const t=this.streamTextContent(e);return new Promise((function(e,n){const r=t.getReader(),s={items:[],styles:Object.create(null),lang:null};!function t(){r.read().then((function(n){let{value:r,done:i}=n;i?e(s):(s.lang??=r.lang,Object.assign(s.styles,r.styles),s.items.push(...r.items),t())}),n)}()}))}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.#Nn=!1,this.#Mn(),Promise.all(e)}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#Nn=!0;const t=this.#Pn(!1);return e&&t&&(this._stats&&=new ns),t}#Pn(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.#Mn(),!this.#Nn||this.destroyed)return!1;if(e)return this.#Rn=setTimeout((()=>{this.#Rn=null,this.#Pn(!1)}),5e3),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#Nn=!1,!0}#Mn(){this.#Rn&&(clearTimeout(this.#Rn),this.#Rn=null)}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&this.#Pn(!0)}_pumpOperatorList(e){let{renderingIntent:t,cacheKey:n,annotationStorageSerializable:r}=e;const{map:s,transfer:i}=r,A=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:s},i).getReader(),o=this._intentStates.get(n);o.streamReader=A;const a=()=>{A.read().then((e=>{let{value:t,done:n}=e;n?o.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,o),a())}),(e=>{if(o.streamReader=null,!this._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;for(const e of o.renderTasks)e.operatorListChanged();this.#Pn(!0)}if(o.displayReadyCapability)o.displayReadyCapability.reject(e);else{if(!o.opListReadCapability)throw e;o.opListReadCapability.reject(e)}}}))};a()}_abortOperatorList(e){let{intentState:t,reason:n,force:r=!1}=e;if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!r){if(t.renderTasks.size>0)return;if(n instanceof $r){let e=100;return n.extraDelay>0&&n.extraDelay<1e3&&(e+=n.extraDelay),void(t.streamReaderCancelTimeout=setTimeout((()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})}),e))}}if(t.streamReader.cancel(new yr(n.message)).catch((()=>{})),t.streamReader=null,!this._transport.destroyed){for(const[e,n]of this._intentStates)if(n===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}class mA{#Hn=(()=>new Set)();#Kn=(()=>Promise.resolve())();postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};this.#Kn.then((()=>{for(const e of this.#Hn)e.call(this,n)}))}addEventListener(e,t){this.#Hn.add(t)}removeEventListener(e,t){this.#Hn.delete(t)}terminate(){this.#Hn.clear()}}const wA={isWorkerDisabled:!1,fakeWorkerId:0};an&&(wA.isWorkerDisabled=!0,hi.workerSrc||="./pdf.worker.mjs"),wA.isSameOrigin=function(e,t){let n;try{if(n=new URL(e),!n.origin||"null"===n.origin)return!1}catch{return!1}const r=new URL(t,n);return n.origin===r.origin},wA.createCDNWrapper=function(e){const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};class yA{static#Gn;constructor(){let{name:e=null,port:t=null,verbosity:n=ir()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if(yA.#Gn?.has(t))throw new Error("Cannot use more than one PDFWorker per port.");return(yA.#Gn||=new WeakMap).set(t,this),void this._initializeFromPort(t)}this._initialize()}get promise(){return an?Promise.all([Os.promise,this._readyCapability.promise]):this._readyCapability.promise}#jn(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Ci("main","worker",e),this._messageHandler.on("ready",(function(){})),this.#jn()}_initialize(){if(wA.isWorkerDisabled||yA.#Vn)return void this._setupFakeWorker();let{workerSrc:e}=yA;try{wA.isSameOrigin(window.location.href,e)||(e=wA.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Ci("main","worker",t),r=()=>{s.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",(()=>{this._webWorker||r()}),{signal:s.signal}),n.on("test",(e=>{s.abort(),!this.destroyed&&e?(this._messageHandler=n,this._port=t,this._webWorker=t,this.#jn()):r()})),n.on("ready",(e=>{if(s.abort(),this.destroyed)r();else try{i()}catch{this._setupFakeWorker()}}));const i=()=>{const e=new Uint8Array;n.send("test",e,[e.buffer])};return void i()}catch{Ar("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){wA.isWorkerDisabled||(or("Setting up fake worker."),wA.isWorkerDisabled=!0),yA._setupFakeWorkerGlobal.then((e=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const t=new mA;this._port=t;const n="fake"+wA.fakeWorkerId++,r=new Ci(n+"_worker",n,t);e.setup(r,t),this._messageHandler=new Ci(n,n+"_worker",t),this.#jn()})).catch((e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))}))}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),yA.#Gn?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const t=this.#Gn?.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new yA(e)}static get workerSrc(){if(hi.workerSrc)return hi.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#Vn(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return ur(this,"_setupFakeWorkerGlobal",(async()=>{if(this.#Vn)return this.#Vn;return(await import(this.workerSrc)).WorkerMessageHandler})())}}class BA{#zn=(()=>new Map)();#Wn=(()=>new Map)();#Yn=(()=>new Map)();#Xn=(()=>new Map)();#qn=null;constructor(e,t,n,r,s){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new bA,this.fontLoader=new Us({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#$n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.#zn.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return this.#zn.set(e,r),r}get annotationStorage(){return ur(this,"annotationStorage",new ks)}getRenderingIntent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yn.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=dn,i=xs;switch(e){case"any":s=hn;break;case"display":break;case"print":s=pn;break;default:or(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case yn.DISABLE:s+=mn;break;case yn.ENABLE:break;case yn.ENABLE_FORMS:s+=fn;break;case yn.ENABLE_STORAGE:s+=gn;i=(s&pn&&n instanceof Fs?n:this.annotationStorage).serializable;break;default:or(`getRenderingIntent - invalid annotationMode: ${t}`)}return r&&(s+=wn),{renderingIntent:s,cacheKey:`${s}_${i.hash}`,annotationStorageSerializable:i}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#qn?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const n of this.#Wn.values())e.push(n._destroy());this.#Wn.clear(),this.#Yn.clear(),this.#Xn.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then((()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#zn.clear(),this.filterFactory.destroy(),nA.cleanup(),this._networkStream?.cancelAllRequests(new yr("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",((e,t)=>{lr(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then((function(e){let{value:n,done:r}=e;r?t.close():(lr(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}})),e.on("ReaderHeadersReady",(e=>{const n=Promise.withResolvers(),r=this._fullReader;return r.headersReady.then((()=>{r.isStreamingSupported&&r.isRangeSupported||(this._lastProgress&&t.onProgress?.(this._lastProgress),r.onProgress=e=>{t.onProgress?.({loaded:e.loaded,total:e.total})}),n.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})}),n.reject),n.promise})),e.on("GetRangeReader",((e,t)=>{lr(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then((function(e){let{value:n,done:r}=e;r?t.close():(lr(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{n.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}):t.close()})),e.on("GetDoc",(e=>{let{pdfInfo:n}=e;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new fA(n,this))})),e.on("DocException",(function(e){let n;switch(e.name){case"PasswordException":n=new dr(e.message,e.code);break;case"InvalidPDFException":n=new fr(e.message);break;case"MissingPDFException":n=new gr(e.message);break;case"UnexpectedResponseException":n=new mr(e.message,e.status);break;case"UnknownErrorException":n=new pr(e.message,e.details);break;default:ar("DocException - expected a valid Error.")}t._capability.reject(n)})),e.on("PasswordRequest",(e=>{if(this.#qn=Promise.withResolvers(),t.onPassword){const r=e=>{e instanceof Error?this.#qn.reject(e):this.#qn.resolve({password:e})};try{t.onPassword(r,e.code)}catch(n){this.#qn.reject(n)}}else this.#qn.reject(new dr(e.message,e.code));return this.#qn.promise})),e.on("DataLoaded",(e=>{t.onProgress?.({loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(e=>{if(this.destroyed)return;this.#Wn.get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)})),e.on("commonobj",(t=>{let[n,r,s]=t;if(this.destroyed)return null;if(this.commonObjs.has(n))return null;switch(r){case"Font":const{disableFontFace:t,fontExtraProperties:i,pdfBug:A}=this._params;if("error"in s){const e=s.error;or(`Error during font loading: ${e}`),this.commonObjs.resolve(n,e);break}const o=A&&globalThis.FontInspector?.enabled?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null,a=new Ls(s,{disableFontFace:t,inspectFont:o});this.fontLoader.bind(a).catch((()=>e.sendWithPromise("FontFallback",{id:n}))).finally((()=>{!i&&a.data&&(a.data=null),this.commonObjs.resolve(n,a)}));break;case"CopyLocalImage":const{imageRef:l}=s;lr(l,"The imageRef must be defined.");for(const e of this.#Wn.values())for(const[,t]of e.objs)if(t?.ref===l)return t.dataLen?(this.commonObjs.resolve(n,structuredClone(t)),t.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null})),e.on("obj",(e=>{let[t,n,r,s]=e;if(this.destroyed)return;const i=this.#Wn.get(n);if(!i.objs.has(t))if(0!==i._intentStates.size)switch(r){case"Image":i.objs.resolve(t,s),s?.dataLen>1e7&&(i._maybeCleanupAfterRender=!0);break;case"Pattern":i.objs.resolve(t,s);break;default:throw new Error(`Got unknown object type ${r}`)}else s?.bitmap?.close()})),e.on("DocProgress",(e=>{this.destroyed||t.onProgress?.({loaded:e.loaded,total:e.total})})),e.on("FetchBuiltInCMap",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.")))),e.on("FetchStandardFontData",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&or("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally((()=>{this.annotationStorage.resetModified()}))}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=this.#Yn.get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then((n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&this.#Xn.set(n.refStr,e);const r=new gA(t,n,this,this._params.pdfBug);return this.#Wn.set(t,r),r}));return this.#Yn.set(t,r),r}getPageIndex(e){return hA(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#$n("GetFieldObjects")}hasJSActions(){return this.#$n("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#$n("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#$n("GetOptionalContentConfig").then((t=>new Ii(t,e)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#zn.get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then((e=>({info:e[0],metadata:e[1]?new Ti(e[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})));return this.#zn.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#Wn.values()){if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`)}this.commonObjs.clear(),e||this.fontLoader.clear(),this.#zn.clear(),this.filterFactory.destroy(!0),nA.cleanup()}}cachedPageNumber(e){if(!hA(e))return null;const t=0===e.gen?`${e.num}R`:`${e.num}R${e.gen}`;return this.#Xn.get(t)??null}}const EA=Symbol("INITIAL_DATA");class bA{#Jn=(()=>Object.create(null))();#Zn(e){return this.#Jn[e]||={...Promise.withResolvers(),data:EA}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){const n=this.#Zn(e);return n.promise.then((()=>t(n.data))),null}const n=this.#Jn[e];if(!n||n.data===EA)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=this.#Jn[e];return!!t&&t.data!==EA}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.#Zn(e);n.data=t,n.resolve()}clear(){for(const e in this.#Jn){const{data:t}=this.#Jn[e];t?.bitmap?.close()}this.#Jn=Object.create(null)}*[Symbol.iterator](){for(const e in this.#Jn){const{data:t}=this.#Jn[e];t!==EA&&(yield[e,t])}}}class vA{#er=null;constructor(e){this.#er=e,this.onContinue=null}get promise(){return this.#er.capability.promise}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.#er.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#er.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#er;return e.form||e.canvas&&t?.size>0}}class CA{#tr=null;static#nr=(()=>new WeakSet)();constructor(e){let{callback:t,params:n,objs:r,commonObjs:s,annotationCanvasMap:i,operatorList:A,pageIndex:o,canvasFactory:a,filterFactory:l,useRequestAnimationFrame:c=!1,pdfBug:u=!1,pageColors:h=null}=e;this.callback=t,this.params=n,this.objs=r,this.commonObjs=s,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=A,this._pageIndex=o,this.canvasFactory=a,this.filterFactory=l,this._pdfBug=u,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===c&&"undefined"!==typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new vA(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics(e){let{transparency:t=!1,optionalContentConfig:n}=e;if(this.cancelled)return;if(this._canvas){if(CA.#nr.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");CA.#nr.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:s,transform:i,background:A}=this.params;this.gfx=new ui(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:i,viewport:s,transparency:t,background:A}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#tr&&(window.cancelAnimationFrame(this.#tr),this.#tr=null),CA.#nr.delete(this._canvas),this.callback(e||new $r(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#tr=window.requestAnimationFrame((()=>{this.#tr=null,this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),CA.#nr.delete(this._canvas),this.callback())))}}const TA="4.4.168",_A="19fbc8998";function SA(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function IA(e){return Math.max(0,Math.min(255,255*e))}class xA{static CMYK_G(e){let[t,n,r,s]=e;return["G",1-Math.min(1,.3*t+.59*r+.11*n+s)]}static G_CMYK(e){let[t]=e;return["CMYK",0,0,0,1-t]}static G_RGB(e){let[t]=e;return["RGB",t,t,t]}static G_rgb(e){let[t]=e;return t=IA(t),[t,t,t]}static G_HTML(e){let[t]=e;const n=SA(t);return`#${n}${n}${n}`}static RGB_G(e){let[t,n,r]=e;return["G",.3*t+.59*n+.11*r]}static RGB_rgb(e){return e.map(IA)}static RGB_HTML(e){return`#${e.map(SA).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(e){let[t,n,r,s]=e;return["RGB",1-Math.min(1,t+s),1-Math.min(1,r+s),1-Math.min(1,n+s)]}static CMYK_rgb(e){let[t,n,r,s]=e;return[IA(1-Math.min(1,t+s)),IA(1-Math.min(1,r+s)),IA(1-Math.min(1,n+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK(e){let[t,n,r]=e;const s=1-t,i=1-n,A=1-r;return["CMYK",s,i,A,Math.min(s,i,A)]}}class kA{static setupStorage(e,t,n,r,s){const i=r.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==i.value&&(e.textContent=i.value),"print"===s)break;e.addEventListener("input",(e=>{r.setValue(t,{value:e.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(i.value===n.attributes.xfaOn?e.setAttribute("checked",!0):i.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===s)break;e.addEventListener("change",(e=>{r.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})}))}else{if(null!==i.value&&e.setAttribute("value",i.value),"print"===s)break;e.addEventListener("input",(e=>{r.setValue(t,{value:e.target.value})}))}break;case"select":if(null!==i.value){e.setAttribute("value",i.value);for(const e of n.children)e.attributes.value===i.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}e.addEventListener("input",(e=>{const n=e.target.options,s=-1===n.selectedIndex?"":n[n.selectedIndex].value;r.setValue(t,{value:s})}))}}static setAttributes(e){let{html:t,element:n,storage:r=null,intent:s,linkService:i}=e;const{attributes:A}=n,o=t instanceof HTMLAnchorElement;"radio"===A.type&&(A.name=`${A.name}-${s}`);for(const[a,l]of Object.entries(A))if(null!==l&&void 0!==l)switch(a){case"class":l.length&&t.setAttribute(a,l.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",l);break;case"style":Object.assign(t.style,l);break;case"textContent":t.textContent=l;break;default:(!o||"href"!==a&&"newWindow"!==a)&&t.setAttribute(a,l)}o&&i.addLinkAttributes(t,A.href,A.newWindow),r&&A.dataId&&this.setupStorage(t,A.dataId,n,r)}static render(e){const t=e.annotationStorage,n=e.linkService,r=e.xfaHtml,s=e.intent||"display",i=document.createElement(r.name);r.attributes&&this.setAttributes({html:i,element:r,intent:s,linkService:n});const A="richText"!==s,o=e.div;if(o.append(i),e.viewport){const t=`matrix(${e.viewport.transform.join(",")})`;o.style.transform=t}A&&o.setAttribute("class","xfaLayer xfaFont");const a=[];if(0===r.children.length){if(r.value){const e=document.createTextNode(r.value);i.append(e),A&&iA.shouldBuildText(r.name)&&a.push(e)}return{textDivs:a}}const l=[[r,-1,i]];for(;l.length>0;){const[e,r,i]=l.at(-1);if(r+1===e.children.length){l.pop();continue}const o=e.children[++l.at(-1)[1]];if(null===o)continue;const{name:c}=o;if("#text"===c){const e=document.createTextNode(o.value);a.push(e),i.append(e);continue}const u=o?.attributes?.xmlns?document.createElementNS(o.attributes.xmlns,c):document.createElement(c);if(i.append(u),o.attributes&&this.setAttributes({html:u,element:o,storage:t,intent:s,linkService:n}),o.children?.length>0)l.push([o,-1,u]);else if(o.value){const e=document.createTextNode(o.value);A&&iA.shouldBuildText(c)&&a.push(e),u.append(e)}}for(const c of o.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))c.setAttribute("readOnly",!0);return{textDivs:a}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const FA=1e3,UA=new WeakSet;function LA(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class QA{static create(e){switch(e.data.annotationType){case Fn:return new OA(e);case kn:return new RA(e);case Wn:switch(e.data.fieldType){case"Tx":return new MA(e);case"Btn":return e.data.radioButton?new KA(e):e.data.checkBox?new HA(e):new GA(e);case"Ch":return new jA(e);case"Sig":return new PA(e)}return new NA(e);case Vn:return new VA(e);case Un:return new WA(e);case Ln:return new YA(e);case Qn:return new XA(e);case Dn:return new qA(e);case Rn:return new $A(e);case Gn:return new ZA(e);case jn:return new eo(e);case On:return new JA(e);case Nn:return new to(e);case Mn:return new no(e);case Pn:return new ro(e);case Hn:return new so(e);case Kn:return new io(e);case zn:return new Ao(e);default:return new DA(e)}}}class DA{#rr=null;#sr=!1;#ir=null;constructor(e){let{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData(e){let{titleObj:t,contentsObj:n,richText:r}=e;return!!(t?.str||n?.str||r?.str)}get hasPopupData(){return DA._hasPopupData(this.data)}updateEdited(e){if(!this.container)return;this.#rr||={rect:this.data.rect.slice(0)};const{rect:t}=e;t&&this.#Ar(t),this.#ir?.popup.updateEdited(e)}resetEdited(){this.#rr&&(this.#Ar(this.#rr.rect),this.#ir?.popup.resetEdited(),this.#rr=null)}#Ar(e){const{container:{style:t},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:i,pageX:A,pageY:o}}}}=this;n?.splice(0,4,...e);const{width:a,height:l}=LA(e);t.left=100*(e[0]-A)/s+"%",t.top=100*(i-e[3]+o)/i+"%",0===r?(t.width=100*a/s+"%",t.height=100*l/i+"%"):this.setRotation(r)}_createContainer(e){const{data:t,parent:{page:n,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof NA||(s.tabIndex=FA);const{style:i}=s;if(i.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof VA){const{rotation:e}=t;return t.hasOwnCanvas||0===e||this.setRotation(e,s),s}const{width:A,height:o}=LA(t.rect);if(!e&&t.borderStyle.width>0){i.borderWidth=`${t.borderStyle.width}px`;const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t=`calc(${e}px * var(--scale-factor)) / calc(${n}px * var(--scale-factor))`;i.borderRadius=t}else if(this instanceof KA){const e=`calc(${A}px * var(--scale-factor)) / calc(${o}px * var(--scale-factor))`;i.borderRadius=e}switch(t.borderStyle.style){case Yn:i.borderStyle="solid";break;case Xn:i.borderStyle="dashed";break;case qn:or("Unimplemented border style: beveled");break;case $n:or("Unimplemented border style: inset");break;case Jn:i.borderBottomStyle="solid"}const r=t.borderColor||null;r?(this.#sr=!0,i.borderColor=Tr.makeHexColor(0|r[0],0|r[1],0|r[2])):i.borderWidth=0}const a=Tr.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:l,pageHeight:c,pageX:u,pageY:h}=r.rawDims;i.left=100*(a[0]-u)/l+"%",i.top=100*(a[1]-h)/c+"%";const{rotation:d}=t;return t.hasOwnCanvas||0===d?(i.width=100*A/l+"%",i.height=100*o/c+"%"):this.setRotation(d,s),s}setRotation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims,{width:s,height:i}=LA(this.data.rect);let A,o;e%180===0?(A=100*s/n,o=100*i/r):(A=100*i/n,o=100*s/r),t.style.width=`${A}%`,t.style.height=`${o}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,n)=>{const r=n.detail[e],s=r[0],i=r.slice(1);n.target.style[t]=xA[`${s}_HTML`](i),this.annotationStorage.setValue(this.data.id,{[t]:xA[`${s}_rgb`](i)})};return ur(this,"_commonActions",{display:e=>{const{display:t}=e.detail,n=t%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===t||2===t})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:t}=e.detail;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:t,noView:t})},focus:e=>{setTimeout((()=>e.target.focus({preventScroll:!1})),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const s=e[r]||n[r];s?.(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,s]of Object.entries(t)){const i=n[r];if(i){i({detail:{[r]:s},target:e}),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,r,s]=this.data.rect.map((e=>Math.fround(e)));if(8===e.length){const[i,A,o,a]=e.subarray(2,6);if(r===i&&s===A&&t===o&&n===a)return}const{style:i}=this.container;let A;if(this.#sr){const{borderColor:e,borderWidth:t}=i;i.borderWidth=0,A=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${e}" stroke-width="${t}">`],this.container.classList.add("hasBorder")}const o=r-t,a=s-n,{svgFactory:l}=this,c=l.createElement("svg");c.classList.add("quadrilateralsContainer"),c.setAttribute("width",0),c.setAttribute("height",0);const u=l.createElement("defs");c.append(u);const h=l.createElement("clipPath"),d=`clippath_${this.data.id}`;h.setAttribute("id",d),h.setAttribute("clipPathUnits","objectBoundingBox"),u.append(h);for(let p=2,f=e.length;p<f;p+=8){const n=e[p],r=e[p+1],i=e[p+2],c=e[p+3],u=l.createElement("rect"),d=(i-t)/o,f=(s-r)/a,g=(n-i)/o,m=(r-c)/a;u.setAttribute("x",d),u.setAttribute("y",f),u.setAttribute("width",g),u.setAttribute("height",m),h.append(u),A?.push(`<rect vector-effect="non-scaling-stroke" x="${d}" y="${f}" width="${g}" height="${m}"/>`)}this.#sr&&(A.push("</g></svg>')"),i.backgroundImage=A.join("")),this.container.append(c),this.container.style.clipPath=`url(#${d})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const n=this.#ir=new VA({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(n.render())}render(){ar("Abstract method `AnnotationElement.render` called")}_getElementsByName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:e,id:s,exportValues:i}of r){if(-1===e)continue;if(s===t)continue;const r="string"===typeof i?i:null,A=document.querySelector(`[data-element-id="${s}"]`);!A||UA.has(A)?n.push({id:s,exportValue:r,domElement:A}):or(`_getElementsByName - element not allowed: ${s}`)}return n}for(const r of document.getElementsByName(e)){const{exportValue:e}=r,s=r.getAttribute("data-element-id");s!==t&&(UA.has(r)&&n.push({id:s,exportValue:e,domElement:r}))}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",(()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})}))}}class OA extends DA{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(n,e.action),r=!0):e.attachment?(this.#or(n,e.attachment,e.attachmentDest),r=!0):e.setOCGState?(this.#ar(n,e.setOCGState),r=!0):e.dest?(this._bindLink(n,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),r=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}#lr(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&this.#lr()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),this.#lr()}#or(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,n),!1),this.#lr()}#ar(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),this.#lr()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(t.actions)){const s=n.get(r);s&&(e[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1))}e.onclick||(e.onclick=()=>!1),this.#lr()}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),this.#lr(),!this._fieldObjects)return or('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(e.onclick=()=>!1));e.onclick=()=>{n?.();const{fields:e,refs:r,include:s}=t,i=[];if(0!==e.length||0!==r.length){const t=new Set(r);for(const n of e){const e=this._fieldObjects[n]||[];for(const{id:n}of e)t.add(n)}for(const e of Object.values(this._fieldObjects))for(const n of e)t.has(n.id)===s&&i.push(n)}else for(const t of Object.values(this._fieldObjects))i.push(...t);const A=this.annotationStorage,o=[];for(const t of i){const{id:e}=t;switch(o.push(e),t.type){case"text":{const n=t.defaultValue||"";A.setValue(e,{value:n});break}case"checkbox":case"radiobutton":{const n=t.defaultValue===t.exportValues;A.setValue(e,{value:n});break}case"combobox":case"listbox":{const n=t.defaultValue||"";A.setValue(e,{value:n});break}default:continue}const n=document.querySelector(`[data-element-id="${e}"]`);n&&(UA.has(n)?n.dispatchEvent(new Event("resetform")):or(`_bindResetFormAction - element not allowed: ${e}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:o,name:"ResetForm"}}),!1}}}class RA extends DA{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class NA extends DA{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&("CANVAS"===e.previousSibling?.nodeName&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return vr.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,r,s){n.includes("mouse")?e.addEventListener(n,(e=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})})):e.addEventListener(n,(e=>{if("blur"===n){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===n){if(t.focused)return;t.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(e)}})}))}_setEventListeners(e,t,n,r){for(const[s,i]of n)("Action"===i||this.data.actions?.[i])&&("Focus"!==i&&"Blur"!==i||(t||={focused:!1}),this._setEventListener(e,t,s,i,r),"Focus"!==i||this.data.actions?.Blur?"Blur"!==i||this.data.actions?.Focus||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":Tr.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||9,s=e.style;let i;const A=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2),t=e/(Math.round(e/(un*r))||1);i=Math.min(r,A(t/un))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2);i=Math.min(r,A(e/un))}s.fontSize=`calc(${i}px * var(--scale-factor))`,s.color=Tr.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class MA extends NA{constructor(e){super(e,{isRenderable:e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,r){const s=this.annotationStorage;for(const i of this._getElementsByName(e.name,e.id))i.domElement&&(i.domElement[t]=n),s.setValue(i.id,{[r]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const r=e.getValue(t,{value:this.data.fieldValue});let s=r.value||"";const i=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;i&&s.length>i&&(s=s.slice(0,i));let A=r.formattedValue||this.data.textContent?.join("\n")||null;A&&this.data.comb&&(A=A.replaceAll(/\s+/g,""));const o={userValue:s,formattedValue:A,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=A??s,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",A??s),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),UA.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=FA,this._setRequired(n,this.data.required),i&&(n.maxLength=i),n.addEventListener("input",(r=>{e.setValue(t,{value:r.target.value}),this.setPropertyOnSiblings(n,"value",r.target.value,"value"),o.formattedValue=null})),n.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue??"";n.value=o.userValue=t,o.formattedValue=null}));let a=e=>{const{formattedValue:t}=o;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",(e=>{if(o.focused)return;const{target:t}=e;o.userValue&&(t.value=o.userValue),o.lastCommittedValue=t.value,o.commitKey=1,this.data.actions?.Focus||(o.focused=!0)})),n.addEventListener("updatefromsandbox",(n=>{this.showElementAndHideCanvas(n.target);const r={value(n){o.userValue=n.detail.value??"",e.setValue(t,{value:o.userValue.toString()}),n.target.value=o.userValue},formattedValue(n){const{formattedValue:r}=n.detail;o.formattedValue=r,null!==r&&void 0!==r&&n.target!==document.activeElement&&(n.target.value=r),e.setValue(t,{formattedValue:r})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:n=>{const{charLimit:r}=n.detail,{target:s}=n;if(0===r)return void s.removeAttribute("maxLength");s.setAttribute("maxLength",r);let i=o.userValue;!i||i.length<=r||(i=i.slice(0,r),s.value=o.userValue=i,e.setValue(t,{value:i}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,willCommit:!0,commitKey:1,selStart:s.selectionStart,selEnd:s.selectionEnd}}))}};this._dispatchEventFromSandbox(r,n)})),n.addEventListener("keydown",(e=>{o.commitKey=1;let n=-1;if("Escape"===e.key?n=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(o.commitKey=3):n=2,-1===n)return;const{value:r}=e.target;o.lastCommittedValue!==r&&(o.lastCommittedValue=r,o.userValue=r,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:r,willCommit:!0,commitKey:n,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))}));const r=a;a=null,n.addEventListener("blur",(e=>{if(!o.focused||!e.relatedTarget)return;this.data.actions?.Blur||(o.focused=!1);const{value:n}=e.target;o.userValue=n,o.lastCommittedValue!==n&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:n,willCommit:!0,commitKey:o.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}),r(e)})),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",(e=>{o.lastCommittedValue=null;const{data:n,target:r}=e,{value:s,selectionStart:i,selectionEnd:A}=r;let a=i,l=A;switch(e.inputType){case"deleteWordBackward":{const e=s.substring(0,i).match(/\w*[^\w]*$/);e&&(a-=e[0].length);break}case"deleteWordForward":{const e=s.substring(i).match(/^[^\w]*\w*/);e&&(l+=e[0].length);break}case"deleteContentBackward":i===A&&(a-=1);break;case"deleteContentForward":i===A&&(l+=1)}e.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:s,change:n||"",willCommit:!1,selStart:a,selEnd:l}})})),this._setEventListeners(n,o,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.value))}if(a&&n.addEventListener("blur",a),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/i;n.classList.add("comb"),n.style.letterSpacing=`calc(${e}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class PA extends NA{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class HA extends NA{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;"string"===typeof r&&(r="Off"!==r,e.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return UA.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=FA,s.addEventListener("change",(r=>{const{name:s,checked:i}=r.target;for(const A of this._getElementsByName(s,n)){const n=i&&A.exportValue===t.exportValue;A.domElement&&(A.domElement.checked=n),e.setValue(A.id,{value:n})}e.setValue(n,{value:i})})),s.addEventListener("resetform",(e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue})),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",(t=>{const r={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(r,t)})),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class KA extends NA{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if("string"===typeof r&&(r=r!==t.buttonValue,e.setValue(n,{value:r})),r)for(const i of this._getElementsByName(t.fieldName,n))e.setValue(i.id,{value:!1});const s=document.createElement("input");if(UA.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=FA,s.addEventListener("change",(t=>{const{name:r,checked:s}=t.target;for(const i of this._getElementsByName(r,n))e.setValue(i.id,{value:!1});e.setValue(n,{value:s})})),s.addEventListener("resetform",(e=>{const n=t.defaultFieldValue;e.target.checked=null!==n&&void 0!==n&&n===t.buttonValue})),this.enableScripting&&this.hasJSActions){const r=t.buttonValue;s.addEventListener("updatefromsandbox",(t=>{const s={value:t=>{const s=r===t.detail.value;for(const r of this._getElementsByName(t.target.name)){const t=s&&r.id===n;r.domElement&&(r.domElement.checked=t),e.setValue(r.id,{value:t})}}};this._dispatchEventFromSandbox(s,t)})),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class GA extends OA{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",(e=>{this._dispatchEventFromSandbox({},e)}))),e}}class jA extends NA{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");UA.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=FA;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue;for(const n of r.options)n.selected=n.value===t}));for(const l of this.data.options){const e=document.createElement("option");e.textContent=l.displayValue,e.value=l.exportValue,n.value.includes(l.exportValue)&&(e.setAttribute("selected",!0),s=!1),r.append(e)}let i=null;if(s){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),r.prepend(e),i=()=>{e.remove(),r.removeEventListener("input",i),i=null},r.addEventListener("input",i)}const A=e=>{const t=e?"value":"textContent",{options:n,multiple:s}=r;return s?Array.prototype.filter.call(n,(e=>e.selected)).map((e=>e[t])):-1===n.selectedIndex?null:n[n.selectedIndex][t]};let o=A(!1);const a=e=>{const t=e.target.options;return Array.prototype.map.call(t,(e=>({displayValue:e.textContent,exportValue:e.value})))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",(n=>{const s={value(n){i?.();const s=n.detail.value,a=new Set(Array.isArray(s)?s:[s]);for(const e of r.options)e.selected=a.has(e.value);e.setValue(t,{value:A(!0)}),o=A(!1)},multipleSelection(e){r.multiple=!0},remove(n){const s=r.options,i=n.detail.remove;if(s[i].selected=!1,r.remove(i),s.length>0){-1===Array.prototype.findIndex.call(s,(e=>e.selected))&&(s[0].selected=!0)}e.setValue(t,{value:A(!0),items:a(n)}),o=A(!1)},clear(n){for(;0!==r.length;)r.remove(0);e.setValue(t,{value:null,items:[]}),o=A(!1)},insert(n){const{index:s,displayValue:i,exportValue:l}=n.detail.insert,c=r.children[s],u=document.createElement("option");u.textContent=i,u.value=l,c?c.before(u):r.append(u),e.setValue(t,{value:A(!0),items:a(n)}),o=A(!1)},items(n){const{items:s}=n.detail;for(;0!==r.length;)r.remove(0);for(const e of s){const{displayValue:t,exportValue:n}=e,s=document.createElement("option");s.textContent=t,s.value=n,r.append(s)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:A(!0),items:a(n)}),o=A(!1)},indices(n){const r=new Set(n.detail.indices);for(const e of n.target.options)e.selected=r.has(e.index);e.setValue(t,{value:A(!0)}),o=A(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(s,n)})),r.addEventListener("input",(n=>{const r=A(!0),s=A(!1);e.setValue(t,{value:r}),n.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,change:s,changeEx:r,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(e=>e.target.value))):r.addEventListener("input",(function(n){e.setValue(t,{value:A(!0)})})),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class VA extends DA{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:DA._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new zA({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map((e=>`${xr}${e}`)).join(",")),this.container}}class zA{#cr=this.#ur.bind(this);#hr=this.#dr.bind(this);#pr=this.#fr.bind(this);#gr=this.#mr.bind(this);#wr=null;#ge=null;#yr=null;#Br=null;#Er=null;#br=null;#vr=null;#Cr=!1;#Tr=null;#C=null;#_r=null;#Sr=null;#Ir=null;#rr=null;#xr=!1;constructor(e){let{container:t,color:n,elements:r,titleObj:s,modificationDate:i,contentsObj:A,richText:o,parent:a,rect:l,parentRect:c,open:u}=e;this.#ge=t,this.#Ir=s,this.#yr=A,this.#Sr=o,this.#br=a,this.#wr=n,this.#_r=l,this.#vr=c,this.#Er=r,this.#Br=os.toDateObject(i),this.trigger=r.flatMap((e=>e.getElementsToTriggerPopup()));for(const h of this.trigger)h.addEventListener("click",this.#gr),h.addEventListener("mouseenter",this.#pr),h.addEventListener("mouseleave",this.#hr),h.classList.add("popupTriggerArea");for(const h of r)h.container?.addEventListener("keydown",this.#cr);this.#ge.hidden=!0,u&&this.#mr()}render(){if(this.#Tr)return;const e=this.#Tr=document.createElement("div");if(e.className="popup",this.#wr){const t=e.style.outlineColor=Tr.makeHexColor(...this.#wr);if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))e.style.backgroundColor=`color-mix(in srgb, ${t} 30%, white)`;else{const t=.7;e.style.backgroundColor=Tr.makeHexColor(...this.#wr.map((e=>Math.floor(t*(255-e)+e))))}}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),({dir:n.dir,str:n.textContent}=this.#Ir),e.append(t),this.#Br){const e=document.createElement("span");e.classList.add("popupDate"),e.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),e.setAttribute("data-l10n-args",JSON.stringify({date:this.#Br.toLocaleDateString(),time:this.#Br.toLocaleTimeString()})),t.append(e)}const r=this.#kr;if(r)kA.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const t=this._formatContents(this.#yr);e.append(t)}this.#ge.append(e)}get#kr(){const e=this.#Sr,t=this.#yr;return!e?.str||t?.str&&t.str!==e.str?null:this.#Sr.html||null}get#Fr(){return this.#kr?.attributes?.style?.fontSize||0}get#Ur(){return this.#kr?.attributes?.style?.color||null}#Lr(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:this.#Ur,fontSize:this.#Fr?`calc(${this.#Fr}px * var(--scale-factor))`:""}};for(const s of e.split("\n"))t.push({name:"span",value:s,attributes:r});return n}_formatContents(e){let{str:t,dir:n}=e;const r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;const s=t.split(/(?:\r\n?|\n)/);for(let i=0,A=s.length;i<A;++i){const e=s[i];r.append(document.createTextNode(e)),i<A-1&&r.append(document.createElement("br"))}return r}#ur(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&this.#Cr)&&this.#mr()}updateEdited(e){let{rect:t,popupContent:n}=e;this.#rr||={contentsObj:this.#yr,richText:this.#Sr},t&&(this.#C=null),n&&(this.#Sr=this.#Lr(n),this.#yr=null),this.#Tr?.remove(),this.#Tr=null}resetEdited(){this.#rr&&(({contentsObj:this.#yr,richText:this.#Sr}=this.#rr),this.#rr=null,this.#Tr?.remove(),this.#Tr=null,this.#C=null)}#Qr(){if(null!==this.#C)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:r,pageY:s}}}=this.#br;let i=!!this.#vr,A=i?this.#vr:this.#_r;for(const h of this.#Er)if(!A||null!==Tr.intersect(h.data.rect,A)){A=h.data.rect,i=!0;break}const o=Tr.normalizeRect([A[0],e[3]-A[1]+e[1],A[2],e[3]-A[3]+e[1]]),a=i?A[2]-A[0]+5:0,l=o[0]+a,c=o[1];this.#C=[100*(l-r)/t,100*(c-s)/n];const{style:u}=this.#ge;u.left=`${this.#C[0]}%`,u.top=`${this.#C[1]}%`}#mr(){this.#Cr=!this.#Cr,this.#Cr?(this.#fr(),this.#ge.addEventListener("click",this.#gr),this.#ge.addEventListener("keydown",this.#cr)):(this.#dr(),this.#ge.removeEventListener("click",this.#gr),this.#ge.removeEventListener("keydown",this.#cr))}#fr(){this.#Tr||this.render(),this.isVisible?this.#Cr&&this.#ge.classList.add("focused"):(this.#Qr(),this.#ge.hidden=!1,this.#ge.style.zIndex=parseInt(this.#ge.style.zIndex)+1e3)}#dr(){this.#ge.classList.remove("focused"),!this.#Cr&&this.isVisible&&(this.#ge.hidden=!0,this.#ge.style.zIndex=parseInt(this.#ge.style.zIndex)-1e3)}forceHide(){this.#xr=this.isVisible,this.#xr&&(this.#ge.hidden=!0)}maybeShow(){this.#xr&&(this.#Tr||this.#fr(),this.#xr=!1,this.#ge.hidden=!1)}get isVisible(){return!1===this.#ge.hidden}}class WA extends DA{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Bn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}class YA extends DA{#Dr=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:t,height:n}=LA(e.rect),r=this.svgFactory.create(t,n,!0),s=this.#Dr=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Dr}addHighlightArea(){this.container.classList.add("highlightArea")}}class XA extends DA{#Or=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:t,height:n}=LA(e.rect),r=this.svgFactory.create(t,n,!0),s=e.borderStyle.width,i=this.#Or=this.svgFactory.createElement("svg:rect");return i.setAttribute("x",s/2),i.setAttribute("y",s/2),i.setAttribute("width",t-s),i.setAttribute("height",n-s),i.setAttribute("stroke-width",s||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),r.append(i),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Or}addHighlightArea(){this.container.classList.add("highlightArea")}}class qA extends DA{#Rr=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:t,height:n}=LA(e.rect),r=this.svgFactory.create(t,n,!0),s=e.borderStyle.width,i=this.#Rr=this.svgFactory.createElement("svg:ellipse");return i.setAttribute("cx",t/2),i.setAttribute("cy",n/2),i.setAttribute("rx",t/2-s/2),i.setAttribute("ry",n/2-s/2),i.setAttribute("stroke-width",s||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),r.append(i),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Rr}addHighlightArea(){this.container.classList.add("highlightArea")}}class $A extends DA{#Nr=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:r}}=this;if(!t)return this.container;const{width:s,height:i}=LA(e),A=this.svgFactory.create(s,i,!0);let o=[];for(let l=0,c=t.length;l<c;l+=2){const n=t[l]-e[0],r=e[3]-t[l+1];o.push(`${n},${r}`)}o=o.join(" ");const a=this.#Nr=this.svgFactory.createElement(this.svgElementName);return a.setAttribute("points",o),a.setAttribute("stroke-width",n.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),A.append(a),this.container.append(A),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Nr}addHighlightArea(){this.container.classList.add("highlightArea")}}class JA extends $A{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ZA extends DA{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class eo extends DA{#Mr=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Bn.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:t,borderStyle:n,popupRef:r}}=this,{width:s,height:i}=LA(e),A=this.svgFactory.create(s,i,!0);for(const o of t){let t=[];for(let n=0,r=o.length;n<r;n+=2){const r=o[n]-e[0],s=e[3]-o[n+1];t.push(`${r},${s}`)}t=t.join(" ");const s=this.svgFactory.createElement(this.svgElementName);this.#Mr.push(s),s.setAttribute("points",t),s.setAttribute("stroke-width",n.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),!r&&this.hasPopupData&&this._createPopup(),A.append(s)}return this.container.append(A),this.container}getElementsToTriggerPopup(){return this.#Mr}addHighlightArea(){this.container.classList.add("highlightArea")}}class to extends DA{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class no extends DA{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class ro extends DA{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class so extends DA{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class io extends DA{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Ao extends DA{#Pr=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||0===t.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(100*t.fillAlpha)}%);`)),n.addEventListener("dblclick",this.#Hr.bind(this)),this.#Pr=n;const{isMac:r}=vr.platform;return e.addEventListener("keydown",(e=>{"Enter"===e.key&&(r?e.metaKey:e.ctrlKey)&&this.#Hr()})),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return this.#Pr}addHighlightArea(){this.container.classList.add("highlightArea")}#Hr(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class oo{#Kr=null;#Gr=null;#jr=(()=>new Map)();constructor(e){let{div:t,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:s,page:i,viewport:A}=e;this.div=t,this.#Kr=n,this.#Gr=r,this.page=i,this.viewport=A,this.zIndex=0,this._annotationEditorUIManager=s}#Vr(e,t){const n=e.firstChild||e;n.id=`${xr}${t}`,this.div.append(e),this.#Kr?.moveElementInDOM(this.div,e,n,!1)}async render(e){const{annotations:t}=e,n=this.div;hs(n,this.viewport);const r=new Map,s={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new Xr,annotationStorage:e.annotationStorage||new ks,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const i of t){if(i.noHTML)continue;const e=i.annotationType===Vn;if(e){const e=r.get(i.id);if(!e)continue;s.elements=e}else{const{width:e,height:t}=LA(i.rect);if(e<=0||t<=0)continue}s.data=i;const t=QA.create(s);if(!t.isRenderable)continue;if(!e&&i.popupRef){const e=r.get(i.popupRef);e?e.push(t):r.set(i.popupRef,[t])}const n=t.render();i.hidden&&(n.style.visibility="hidden"),this.#Vr(n,i.id),t.annotationEditorType>0&&(this.#jr.set(t.data.id,t),this._annotationEditorUIManager?.renderAnnotationElement(t))}this.#zr()}update(e){let{viewport:t}=e;const n=this.div;this.viewport=t,hs(n,{rotation:t.rotation}),this.#zr(),n.hidden=!1}#zr(){if(!this.#Gr)return;const e=this.div;for(const[t,n]of this.#Gr){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:s}=r;s?"CANVAS"===s.nodeName?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):r.append(n)}this.#Gr.clear()}getEditableAnnotations(){return Array.from(this.#jr.values())}getEditableAnnotation(e){return this.#jr.get(e)}}const ao=/\r\n?|\n/g;class lo extends vs{#Wr=this.editorDivBlur.bind(this);#Yr=this.editorDivFocus.bind(this);#Xr=this.editorDivInput.bind(this);#qr=this.editorDivKeydown.bind(this);#$r=this.editorDivPaste.bind(this);#wr;#Jr="";#Zr=`${this.id}-editor`;#Fr;#es=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=lo.prototype,t=e=>e.isEmpty(),n=Es.TRANSLATE_SMALL,r=Es.TRANSLATE_BIG;return ur(this,"_keyboardManager",new ys([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}]]))}static _type="freetext";static _editorType=(()=>Bn.FREETEXT)();constructor(e){super({...e,name:"freeTextEditor"}),this.#wr=e.color||lo._defaultColor||vs._defaultLineColor,this.#Fr=e.fontSize||lo._defaultFontSize}static initialize(e,t){vs.initialize(e,t,{strings:["pdfjs-free-text-default-content"]});const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case En.FREETEXT_SIZE:lo._defaultFontSize=t;break;case En.FREETEXT_COLOR:lo._defaultColor=t}}updateParams(e,t){switch(e){case En.FREETEXT_SIZE:this.#ts(t);break;case En.FREETEXT_COLOR:this.#ns(t)}}static get defaultPropertiesToUpdate(){return[[En.FREETEXT_SIZE,lo._defaultFontSize],[En.FREETEXT_COLOR,lo._defaultColor||vs._defaultLineColor]]}get propertiesToUpdate(){return[[En.FREETEXT_SIZE,this.#Fr],[En.FREETEXT_COLOR,this.#wr]]}#ts(e){const t=e=>{this.editorDiv.style.fontSize=`calc(${e}px * var(--scale-factor))`,this.translate(0,-(e-this.#Fr)*this.parentScale),this.#Fr=e,this.#rs()},n=this.#Fr;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:En.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#ns(e){const t=e=>{this.#wr=this.editorDiv.style.color=e},n=this.#wr;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:En.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-lo._internalPadding*e,-(lo._internalPadding+this.#Fr)*e]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Bn.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const e=this._uiManager._signal;this.editorDiv.addEventListener("keydown",this.#qr,{signal:e}),this.editorDiv.addEventListener("focus",this.#Yr,{signal:e}),this.editorDiv.addEventListener("blur",this.#Wr,{signal:e}),this.editorDiv.addEventListener("input",this.#Xr,{signal:e}),this.editorDiv.addEventListener("paste",this.#$r,{signal:e})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#Zr),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#qr),this.editorDiv.removeEventListener("focus",this.#Yr),this.editorDiv.removeEventListener("blur",this.#Wr),this.editorDiv.removeEventListener("input",this.#Xr),this.editorDiv.removeEventListener("paste",this.#$r),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#ss(){const e=[];this.editorDiv.normalize();for(const t of this.editorDiv.childNodes)e.push(lo.#is(t));return e.join("\n")}#rs(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,r=t.style.display,s=t.classList.contains("hidden");t.classList.remove("hidden"),t.style.display="hidden",e.div.append(this.div),n=t.getBoundingClientRect(),t.remove(),t.style.display=r,t.classList.toggle("hidden",s)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#Jr,t=this.#Jr=this.#ss().trimEnd();if(e===t)return;const n=e=>{this.#Jr=e,e?(this.#As(),this._uiManager.rebuild(this),this.#rs()):this.remove()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),this.#rs()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){lo._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#Zr),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),vs._l10nPromise.get("pdfjs-free-text-default-content").then((e=>this.editorDiv?.setAttribute("default-content",e))),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#Fr}px * var(--scale-factor))`,n.color=this.#wr,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),fs(this,this.div,["dblclick","keydown"]),this.width){const[n,r]=this.parentDimensions;if(this.annotationElementId){const{position:s}=this.#es;let[i,A]=this.getInitialTranslation();[i,A]=this.pageTranslationToScreen(i,A);const[o,a]=this.pageDimensions,[l,c]=this.pageTranslation;let u,h;switch(this.rotation){case 0:u=e+(s[0]-l)/o,h=t+this.height-(s[1]-c)/a;break;case 90:u=e+(s[0]-l)/o,h=t-(s[1]-c)/a,[i,A]=[A,-i];break;case 180:u=e-this.width+(s[0]-l)/o,h=t-(s[1]-c)/a,[i,A]=[-i,-A];break;case 270:u=e+(s[0]-l-this.height*a)/o,h=t+(s[1]-c-this.width*o)/a,[i,A]=[-A,i]}this.setAt(u*n,h*r,i,A)}else this.setAt(e*n,t*r,this.width*n,this.height*r);this.#As(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#is(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(ao,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(1===n.length&&"text/plain"===n[0])return;e.preventDefault();const r=lo.#os(t.getData("text")||"").replaceAll(ao,"\n");if(!r)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const i=s.getRangeAt(0);if(!r.includes("\n"))return i.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),void s.collapseToStart();const{startContainer:A,startOffset:o}=i,a=[],l=[];if(A.nodeType===Node.TEXT_NODE){const e=A.parentElement;if(l.push(A.nodeValue.slice(o).replaceAll(ao,"")),e!==this.editorDiv){let t=a;for(const n of this.editorDiv.childNodes)n!==e?t.push(lo.#is(n)):t=l}a.push(A.nodeValue.slice(0,o).replaceAll(ao,""))}else if(A===this.editorDiv){let e=a,t=0;for(const n of this.editorDiv.childNodes)t++===o&&(e=l),e.push(lo.#is(n))}this.#Jr=`${a.join("\n")}${r}${l.join("\n")}`,this.#As();const c=new Range;let u=a.reduce(((e,t)=>e+t.length),0);for(const{firstChild:h}of this.editorDiv.childNodes)if(h.nodeType===Node.TEXT_NODE){const e=h.nodeValue.length;if(u<=e){c.setStart(h,u),c.setEnd(h,u);break}u-=e}s.removeAllRanges(),s.addRange(c)}#As(){if(this.editorDiv.replaceChildren(),this.#Jr)for(const e of this.#Jr.split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#as(){return this.#Jr.replaceAll("\xa0"," ")}static#os(e){return e.replaceAll(" ","\xa0")}get contentDiv(){return this.editorDiv}static deserialize(e,t,n){let r=null;if(e instanceof WA){const{data:{defaultAppearanceData:{fontSize:t,fontColor:n},rect:s,rotation:i,id:A},textContent:o,textPosition:a,parent:{page:{pageNumber:l}}}=e;if(!o||0===o.length)return null;r=e={annotationType:Bn.FREETEXT,color:Array.from(n),fontSize:t,value:o.join("\n"),position:a,pageIndex:l-1,rect:s.slice(0),rotation:i,id:A,deleted:!1}}const s=super.deserialize(e,t,n);return s.#Fr=e.fontSize,s.#wr=Tr.makeHexColor(...e.color),s.#Jr=lo.#os(e.value),s.annotationElementId=e.id||null,s.#es=r,s}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const t=lo._internalPadding*this.parentScale,n=this.getRect(t,t),r=vs._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#wr),s={annotationType:Bn.FREETEXT,color:r,fontSize:this.#Fr,value:this.#as(),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?s:this.annotationElementId&&!this.#ls(s)?null:(s.id=this.annotationElementId,s)}#ls(e){const{value:t,fontSize:n,color:r,pageIndex:s}=this.#es;return this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some(((e,t)=>e!==r[t]))||e.pageIndex!==s}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(this.deleted)return t;const{style:n}=t;n.fontSize=`calc(${this.#Fr}px * var(--scale-factor))`,n.color=this.#wr,t.replaceChildren();for(const s of this.#Jr.split("\n")){const e=document.createElement("div");e.append(s?document.createTextNode(s):document.createElement("br")),t.append(e)}const r=lo._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(r,r),popupContent:this.#Jr}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class co{#cs;#us=[];#hs=[];constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=1/0,i=-1/0,A=1/0,o=-1/0;const a=10**-4;for(const{x:f,y:g,width:m,height:w}of e){const e=Math.floor((f-t)/a)*a,n=Math.ceil((f+m+t)/a)*a,r=Math.floor((g-t)/a)*a,l=Math.ceil((g+w+t)/a)*a,c=[e,r,l,!0],u=[n,r,l,!1];this.#us.push(c,u),s=Math.min(s,e),i=Math.max(i,n),A=Math.min(A,r),o=Math.max(o,l)}const l=i-s+2*n,c=o-A+2*n,u=s-n,h=A-n,d=this.#us.at(r?-1:-2),p=[d[0],d[2]];for(const f of this.#us){const[e,t,n]=f;f[0]=(e-u)/l,f[1]=(t-h)/c,f[2]=(n-h)/c}this.#cs={x:u,y:h,width:l,height:c,lastPoint:p}}getOutlines(){this.#us.sort(((e,t)=>e[0]-t[0]||e[1]-t[1]||e[2]-t[2]));const e=[];for(const t of this.#us)t[3]?(e.push(...this.#ds(t)),this.#ps(t)):(this.#fs(t),e.push(...this.#ds(t)));return this.#gs(e)}#gs(e){const t=[],n=new Set;for(const i of e){const[e,n,r]=i;t.push([e,n,i],[e,r,i])}t.sort(((e,t)=>e[1]-t[1]||e[0]-t[0]));for(let i=0,A=t.length;i<A;i+=2){const e=t[i][2],r=t[i+1][2];e.push(r),r.push(e),n.add(e),n.add(r)}const r=[];let s;for(;n.size>0;){const e=n.values().next().value;let[t,i,A,o,a]=e;n.delete(e);let l=t,c=i;for(s=[t,A],r.push(s);;){let e;if(n.has(o))e=o;else{if(!n.has(a))break;e=a}n.delete(e),[t,i,A,o,a]=e,l!==t&&(s.push(l,c,t,c===i?i:A),l=t),c=c===i?A:i}s.push(l,c)}return new ho(r,this.#cs)}#ms(e){const t=this.#hs;let n=0,r=t.length-1;for(;n<=r;){const s=n+r>>1,i=t[s][0];if(i===e)return s;i<e?n=s+1:r=s-1}return r+1}#ps(e){let[,t,n]=e;const r=this.#ms(t);this.#hs.splice(r,0,[t,n])}#fs(e){let[,t,n]=e;const r=this.#ms(t);for(let s=r;s<this.#hs.length;s++){const[e,r]=this.#hs[s];if(e!==t)break;if(e===t&&r===n)return void this.#hs.splice(s,1)}for(let s=r-1;s>=0;s--){const[e,r]=this.#hs[s];if(e!==t)break;if(e===t&&r===n)return void this.#hs.splice(s,1)}}#ds(e){const[t,n,r]=e,s=[[t,n,r]],i=this.#ms(r);for(let A=0;A<i;A++){const[e,n]=this.#hs[A];for(let r=0,i=s.length;r<i;r++){const[,A,o]=s[r];if(!(n<=A||o<=e))if(A>=e)if(o>n)s[r][1]=n;else{if(1===i)return[];s.splice(r,1),r--,i--}else s[r][2]=e,o>n&&s.push([t,n,o])}}return s}}class uo{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof fo}}class ho extends uo{#cs;#ws;constructor(e,t){super(),this.#ws=e,this.#cs=t}toSVGPath(){const e=[];for(const t of this.#ws){let[n,r]=t;e.push(`M${n} ${r}`);for(let s=2;s<t.length;s+=2){const i=t[s],A=t[s+1];i===n?(e.push(`V${A}`),r=A):A===r&&(e.push(`H${i}`),n=i)}e.push("Z")}return e.join(" ")}serialize(e,t){let[n,r,s,i]=e;const A=[],o=s-n,a=i-r;for(const l of this.#ws){const e=new Array(l.length);for(let t=0;t<l.length;t+=2)e[t]=n+l[t]*o,e[t+1]=i-l[t+1]*a;A.push(e)}return A}get box(){return this.#cs}}class po{#cs;#ys=[];#Bs;#Es;#bs=[];#vs=(()=>new Float64Array(18))();#Cs;#Ts;#_s;#Ss;#Is;#xs;#ks=[];static#Fs=8;static#Us=2;static#Ls=(()=>po.#Fs+po.#Us)();constructor(e,t,n,r,s){let{x:i,y:A}=e,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;this.#cs=t,this.#xs=r*n,this.#Es=s,this.#vs.set([NaN,NaN,NaN,NaN,i,A],6),this.#Bs=o,this.#Ss=po.#Fs*n,this.#_s=po.#Ls*n,this.#Is=n,this.#ks.push(i,A)}get free(){return!0}isEmpty(){return isNaN(this.#vs[8])}#Qs(){const e=this.#vs.subarray(4,6),t=this.#vs.subarray(16,18),[n,r,s,i]=this.#cs;return[(this.#Cs+(e[0]-t[0])/2-n)/s,(this.#Ts+(e[1]-t[1])/2-r)/i,(this.#Cs+(t[0]-e[0])/2-n)/s,(this.#Ts+(t[1]-e[1])/2-r)/i]}add(e){let{x:t,y:n}=e;this.#Cs=t,this.#Ts=n;const[r,s,i,A]=this.#cs;let[o,a,l,c]=this.#vs.subarray(8,12);const u=t-l,h=n-c,d=Math.hypot(u,h);if(d<this.#_s)return!1;const p=d-this.#Ss,f=p/d,g=f*u,m=f*h;let w=o,y=a;o=l,a=c,l+=g,c+=m,this.#ks?.push(t,n);const B=g/p,E=-m/p*this.#xs,b=B*this.#xs;if(this.#vs.set(this.#vs.subarray(2,8),0),this.#vs.set([l+E,c+b],4),this.#vs.set(this.#vs.subarray(14,18),12),this.#vs.set([l-E,c-b],16),isNaN(this.#vs[6]))return 0===this.#bs.length&&(this.#vs.set([o+E,a+b],2),this.#bs.push(NaN,NaN,NaN,NaN,(o+E-r)/i,(a+b-s)/A),this.#vs.set([o-E,a-b],14),this.#ys.push(NaN,NaN,NaN,NaN,(o-E-r)/i,(a-b-s)/A)),this.#vs.set([w,y,o,a,l,c],6),!this.isEmpty();this.#vs.set([w,y,o,a,l,c],6);return Math.abs(Math.atan2(y-a,w-o)-Math.atan2(m,g))<Math.PI/2?([o,a,l,c]=this.#vs.subarray(2,6),this.#bs.push(NaN,NaN,NaN,NaN,((o+l)/2-r)/i,((a+c)/2-s)/A),[o,a,w,y]=this.#vs.subarray(14,18),this.#ys.push(NaN,NaN,NaN,NaN,((w+o)/2-r)/i,((y+a)/2-s)/A),!0):([w,y,o,a,l,c]=this.#vs.subarray(0,6),this.#bs.push(((w+5*o)/6-r)/i,((y+5*a)/6-s)/A,((5*o+l)/6-r)/i,((5*a+c)/6-s)/A,((o+l)/2-r)/i,((a+c)/2-s)/A),[l,c,o,a,w,y]=this.#vs.subarray(12,18),this.#ys.push(((w+5*o)/6-r)/i,((y+5*a)/6-s)/A,((5*o+l)/6-r)/i,((5*a+c)/6-s)/A,((o+l)/2-r)/i,((a+c)/2-s)/A),!0)}toSVGPath(){if(this.isEmpty())return"";const e=this.#bs,t=this.#ys,n=this.#vs.subarray(4,6),r=this.#vs.subarray(16,18),[s,i,A,o]=this.#cs,[a,l,c,u]=this.#Qs();if(isNaN(this.#vs[6])&&!this.isEmpty())return`M${(this.#vs[2]-s)/A} ${(this.#vs[3]-i)/o} L${(this.#vs[4]-s)/A} ${(this.#vs[5]-i)/o} L${a} ${l} L${c} ${u} L${(this.#vs[16]-s)/A} ${(this.#vs[17]-i)/o} L${(this.#vs[14]-s)/A} ${(this.#vs[15]-i)/o} Z`;const h=[];h.push(`M${e[4]} ${e[5]}`);for(let d=6;d<e.length;d+=6)isNaN(e[d])?h.push(`L${e[d+4]} ${e[d+5]}`):h.push(`C${e[d]} ${e[d+1]} ${e[d+2]} ${e[d+3]} ${e[d+4]} ${e[d+5]}`);h.push(`L${(n[0]-s)/A} ${(n[1]-i)/o} L${a} ${l} L${c} ${u} L${(r[0]-s)/A} ${(r[1]-i)/o}`);for(let d=t.length-6;d>=6;d-=6)isNaN(t[d])?h.push(`L${t[d+4]} ${t[d+5]}`):h.push(`C${t[d]} ${t[d+1]} ${t[d+2]} ${t[d+3]} ${t[d+4]} ${t[d+5]}`);return h.push(`L${t[4]} ${t[5]} Z`),h.join(" ")}getOutlines(){const e=this.#bs,t=this.#ys,n=this.#vs,r=n.subarray(4,6),s=n.subarray(16,18),[i,A,o,a]=this.#cs,l=new Float64Array((this.#ks?.length??0)+2);for(let g=0,m=l.length-2;g<m;g+=2)l[g]=(this.#ks[g]-i)/o,l[g+1]=(this.#ks[g+1]-A)/a;l[l.length-2]=(this.#Cs-i)/o,l[l.length-1]=(this.#Ts-A)/a;const[c,u,h,d]=this.#Qs();if(isNaN(n[6])&&!this.isEmpty()){const e=new Float64Array(36);return e.set([NaN,NaN,NaN,NaN,(n[2]-i)/o,(n[3]-A)/a,NaN,NaN,NaN,NaN,(n[4]-i)/o,(n[5]-A)/a,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,(n[16]-i)/o,(n[17]-A)/a,NaN,NaN,NaN,NaN,(n[14]-i)/o,(n[15]-A)/a],0),new fo(e,l,this.#cs,this.#Is,this.#Bs,this.#Es)}const p=new Float64Array(this.#bs.length+24+this.#ys.length);let f=e.length;for(let g=0;g<f;g+=2)isNaN(e[g])?p[g]=p[g+1]=NaN:(p[g]=e[g],p[g+1]=e[g+1]);p.set([NaN,NaN,NaN,NaN,(r[0]-i)/o,(r[1]-A)/a,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,(s[0]-i)/o,(s[1]-A)/a],f),f+=24;for(let g=t.length-6;g>=6;g-=6)for(let e=0;e<6;e+=2)isNaN(t[g+e])?(p[f]=p[f+1]=NaN,f+=2):(p[f]=t[g+e],p[f+1]=t[g+e+1],f+=2);return p.set([NaN,NaN,NaN,NaN,t[4],t[5]],f),new fo(p,l,this.#cs,this.#Is,this.#Bs,this.#Es)}}class fo extends uo{#cs;#Ds=null;#Bs;#Es;#ks;#Is;#Os;constructor(e,t,n,r,s,i){super(),this.#Os=e,this.#ks=t,this.#cs=n,this.#Is=r,this.#Bs=s,this.#Es=i,this.#Rs(i);const{x:A,y:o,width:a,height:l}=this.#Ds;for(let c=0,u=e.length;c<u;c+=2)e[c]=(e[c]-A)/a,e[c+1]=(e[c+1]-o)/l;for(let c=0,u=t.length;c<u;c+=2)t[c]=(t[c]-A)/a,t[c+1]=(t[c+1]-o)/l}toSVGPath(){const e=[`M${this.#Os[4]} ${this.#Os[5]}`];for(let t=6,n=this.#Os.length;t<n;t+=6)isNaN(this.#Os[t])?e.push(`L${this.#Os[t+4]} ${this.#Os[t+5]}`):e.push(`C${this.#Os[t]} ${this.#Os[t+1]} ${this.#Os[t+2]} ${this.#Os[t+3]} ${this.#Os[t+4]} ${this.#Os[t+5]}`);return e.push("Z"),e.join(" ")}serialize(e,t){let[n,r,s,i]=e;const A=s-n,o=i-r;let a,l;switch(t){case 0:a=this.#Ns(this.#Os,n,i,A,-o),l=this.#Ns(this.#ks,n,i,A,-o);break;case 90:a=this.#Ms(this.#Os,n,r,A,o),l=this.#Ms(this.#ks,n,r,A,o);break;case 180:a=this.#Ns(this.#Os,s,r,-A,o),l=this.#Ns(this.#ks,s,r,-A,o);break;case 270:a=this.#Ms(this.#Os,s,i,-A,-o),l=this.#Ms(this.#ks,s,i,-A,-o)}return{outline:Array.from(a),points:[Array.from(l)]}}#Ns(e,t,n,r,s){const i=new Float64Array(e.length);for(let A=0,o=e.length;A<o;A+=2)i[A]=t+e[A]*r,i[A+1]=n+e[A+1]*s;return i}#Ms(e,t,n,r,s){const i=new Float64Array(e.length);for(let A=0,o=e.length;A<o;A+=2)i[A]=t+e[A+1]*r,i[A+1]=n+e[A]*s;return i}#Rs(e){const t=this.#Os;let n=t[4],r=t[5],s=n,i=r,A=n,o=r,a=n,l=r;const c=e?Math.max:Math.min;for(let f=6,g=t.length;f<g;f+=6){if(isNaN(t[f]))s=Math.min(s,t[f+4]),i=Math.min(i,t[f+5]),A=Math.max(A,t[f+4]),o=Math.max(o,t[f+5]),l<t[f+5]?(a=t[f+4],l=t[f+5]):l===t[f+5]&&(a=c(a,t[f+4]));else{const e=Tr.bezierBoundingBox(n,r,...t.slice(f,f+6));s=Math.min(s,e[0]),i=Math.min(i,e[1]),A=Math.max(A,e[2]),o=Math.max(o,e[3]),l<e[3]?(a=e[2],l=e[3]):l===e[3]&&(a=c(a,e[2]))}n=t[f+4],r=t[f+5]}const u=s-this.#Bs,h=i-this.#Bs,d=A-s+2*this.#Bs,p=o-i+2*this.#Bs;this.#Ds={x:u,y:h,width:d,height:p,lastPoint:[a,l]}}get box(){return this.#Ds}getNewOutline(e,t){const{x:n,y:r,width:s,height:i}=this.#Ds,[A,o,a,l]=this.#cs,c=s*a,u=i*l,h=n*a+A,d=r*l+o,p=new po({x:this.#ks[0]*c+h,y:this.#ks[1]*u+d},this.#cs,this.#Is,e,this.#Es,t??this.#Bs);for(let f=2;f<this.#ks.length;f+=2)p.add({x:this.#ks[f]*c+h,y:this.#ks[f+1]*u+d});return p.getOutlines()}}class go{#cr=this.#ur.bind(this);#Ps=this.#o.bind(this);#Hs=null;#Ks=null;#Gs;#js=null;#Vs=!1;#zs=!1;#i=null;#Ws;#d=null;#Ys;static get _keyboardManager(){return ur(this,"_keyboardManager",new ys([[["Escape","mac+Escape"],go.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],go.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],go.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],go.prototype._moveToPrevious],[["Home","mac+Home"],go.prototype._moveToBeginning],[["End","mac+End"],go.prototype._moveToEnd]]))}constructor(e){let{editor:t=null,uiManager:n=null}=e;t?(this.#zs=!1,this.#Ys=En.HIGHLIGHT_COLOR,this.#i=t):(this.#zs=!0,this.#Ys=En.HIGHLIGHT_DEFAULT_COLOR),this.#d=t?._uiManager||n,this.#Ws=this.#d._eventBus,this.#Gs=t?.color||this.#d?.highlightColors.values().next().value||"#FFFF98"}renderButton(){const e=this.#Hs=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=this.#d._signal;e.addEventListener("click",this.#Xs.bind(this),{signal:t}),e.addEventListener("keydown",this.#cr,{signal:t});const n=this.#Ks=document.createElement("span");return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=this.#Gs,e.append(n),e}renderMainDropdown(){const e=this.#js=this.#qs();return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}#qs(){const e=document.createElement("div"),t=this.#d._signal;e.addEventListener("contextmenu",ss,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,r]of this.#d.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=n,s.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${n}`);const i=document.createElement("span");s.append(i),i.className="swatch",i.style.backgroundColor=r,s.setAttribute("aria-selected",r===this.#Gs),s.addEventListener("click",this.#$s.bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",this.#cr,{signal:t}),e}#$s(e,t){t.stopPropagation(),this.#Ws.dispatch("switchannotationeditorparams",{source:this,type:this.#Ys,value:e})}_colorSelectFromKeyboard(e){if(e.target===this.#Hs)return void this.#Xs(e);const t=e.target.getAttribute("data-color");t&&this.#$s(t,e)}_moveToNext(e){this.#Js?e.target!==this.#Hs?e.target.nextSibling?.focus():this.#js.firstChild?.focus():this.#Xs(e)}_moveToPrevious(e){e.target!==this.#js?.firstChild&&e.target!==this.#Hs?(this.#Js||this.#Xs(e),e.target.previousSibling?.focus()):this.#Js&&this._hideDropdownFromKeyboard()}_moveToBeginning(e){this.#Js?this.#js.firstChild?.focus():this.#Xs(e)}_moveToEnd(e){this.#Js?this.#js.lastChild?.focus():this.#Xs(e)}#ur(e){go._keyboardManager.exec(this,e)}#Xs(e){if(this.#Js)return void this.hideDropdown();if(this.#Vs=0===e.detail,window.addEventListener("pointerdown",this.#Ps,{signal:this.#d._signal}),this.#js)return void this.#js.classList.remove("hidden");const t=this.#js=this.#qs();this.#Hs.append(t)}#o(e){this.#js?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#js?.classList.add("hidden"),window.removeEventListener("pointerdown",this.#Ps)}get#Js(){return this.#js&&!this.#js.classList.contains("hidden")}_hideDropdownFromKeyboard(){this.#zs||(this.#Js?(this.hideDropdown(),this.#Hs.focus({preventScroll:!0,focusVisible:this.#Vs})):this.#i?.unselect())}updateColor(e){if(this.#Ks&&(this.#Ks.style.backgroundColor=e),!this.#js)return;const t=this.#d.highlightColors.values();for(const n of this.#js.children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){this.#Hs?.remove(),this.#Hs=null,this.#Ks=null,this.#js?.remove(),this.#js=null}}class mo extends vs{#Zs=null;#ei=0;#ti;#ni=null;#s=null;#ri=null;#si=null;#ii=0;#Ai=null;#oi=null;#m=null;#ai=!1;#oe=this.#li.bind(this);#ci=null;#ui;#hi=null;#di="";#xs;#pi="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _l10nPromise;static _type="highlight";static _editorType=(()=>Bn.HIGHLIGHT)();static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=mo.prototype;return ur(this,"_keyboardManager",new ys([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||mo._defaultColor,this.#xs=e.thickness||mo._defaultThickness,this.#ui=e.opacity||mo._defaultOpacity,this.#ti=e.boxes||null,this.#pi=e.methodOfCreation||"",this.#di=e.text||"",this._isDraggable=!1,e.highlightId>-1?(this.#ai=!0,this.#fi(e),this.#gi()):(this.#Zs=e.anchorNode,this.#ei=e.anchorOffset,this.#si=e.focusNode,this.#ii=e.focusOffset,this.#mi(),this.#gi(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#ai?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#xs,methodOfCreation:this.#pi}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#mi(){const e=new co(this.#ti,.001);this.#oi=e.getOutlines(),({x:this.x,y:this.y,width:this.width,height:this.height}=this.#oi.box);const t=new co(this.#ti,.0025,.001,"ltr"===this._uiManager.direction);this.#ri=t.getOutlines();const{lastPoint:n}=this.#ri.box;this.#ci=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]}#fi(e){let{highlightOutlines:t,highlightId:n,clipPathId:r}=e;this.#oi=t;if(this.#ri=t.getNewOutline(this.#xs/2+1.5,.0025),n>=0)this.#m=n,this.#ni=r,this.parent.drawLayer.finalizeLine(n,t),this.#hi=this.parent.drawLayer.highlightOutline(this.#ri);else if(this.parent){const e=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(this.#m,t),this.parent.drawLayer.updateBox(this.#m,mo.#wi(this.#oi.box,(e-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#hi,this.#ri),this.parent.drawLayer.updateBox(this.#hi,mo.#wi(this.#ri.box,e))}const{x:s,y:i,width:A,height:o}=t.box;switch(this.rotation){case 0:this.x=s,this.y=i,this.width=A,this.height=o;break;case 90:{const[e,t]=this.parentDimensions;this.x=i,this.y=1-s,this.width=A*t/e,this.height=o*e/t;break}case 180:this.x=1-s,this.y=1-i,this.width=A,this.height=o;break;case 270:{const[e,t]=this.parentDimensions;this.x=1-i,this.y=s,this.width=A*t/e,this.height=o*e/t;break}}const{lastPoint:a}=this.#ri.box;this.#ci=[(a[0]-s)/A,(a[1]-i)/o]}static initialize(e,t){vs.initialize(e,t),mo._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case En.HIGHLIGHT_DEFAULT_COLOR:mo._defaultColor=t;break;case En.HIGHLIGHT_THICKNESS:mo._defaultThickness=t}}translateInPage(e,t){}get toolbarPosition(){return this.#ci}updateParams(e,t){switch(e){case En.HIGHLIGHT_COLOR:this.#ns(t);break;case En.HIGHLIGHT_THICKNESS:this.#yi(t)}}static get defaultPropertiesToUpdate(){return[[En.HIGHLIGHT_DEFAULT_COLOR,mo._defaultColor],[En.HIGHLIGHT_THICKNESS,mo._defaultThickness]]}get propertiesToUpdate(){return[[En.HIGHLIGHT_COLOR,this.color||mo._defaultColor],[En.HIGHLIGHT_THICKNESS,this.#xs||mo._defaultThickness],[En.HIGHLIGHT_FREE,this.#ai]]}#ns(e){const t=e=>{this.color=e,this.parent?.drawLayer.changeColor(this.#m,e),this.#s?.updateColor(e)},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:En.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}#yi(e){const t=this.#xs,n=e=>{this.#xs=e,this.#Bi(e)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:En.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(this.#s=new go({editor:this}),e.addColorPicker(this.#s)),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#Ei())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#Ei())}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#bi(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.#gi(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#bi():e&&(this.#gi(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#Bi(e){if(!this.#ai)return;this.#fi({highlightOutlines:this.#oi.getNewOutline(e/2)}),this.fixAndSetPosition();const[t,n]=this.parentDimensions;this.setDims(this.width*t,this.height*n)}#bi(){null!==this.#m&&this.parent&&(this.parent.drawLayer.remove(this.#m),this.#m=null,this.parent.drawLayer.remove(this.#hi),this.#hi=null)}#gi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null===this.#m&&(({id:this.#m,clipPathId:this.#ni}=e.drawLayer.highlight(this.#oi,this.color,this.#ui)),this.#hi=e.drawLayer.highlightOutline(this.#ri),this.#Ai&&(this.#Ai.style.clipPath=this.#ni))}static#wi(e,t){let{x:n,y:r,width:s,height:i}=e;switch(t){case 90:return{x:1-r-i,y:n,width:i,height:s};case 180:return{x:1-n-s,y:1-r-i,width:s,height:i};case 270:return{x:r,y:1-n-s,width:i,height:s}}return{x:n,y:r,width:s,height:i}}rotate(e){const{drawLayer:t}=this.parent;let n;this.#ai?(e=(e-this.rotation+360)%360,n=mo.#wi(this.#oi.box,e)):n=mo.#wi(this,e),t.rotate(this.#m,e),t.rotate(this.#hi,e),t.updateBox(this.#m,n),t.updateBox(this.#hi,mo.#wi(this.#ri.box,e))}render(){if(this.div)return this.div;const e=super.render();this.#di&&(e.setAttribute("aria-label",this.#di),e.setAttribute("role","mark")),this.#ai?e.classList.add("free"):this.div.addEventListener("keydown",this.#oe,{signal:this._uiManager._signal});const t=this.#Ai=document.createElement("div");e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#ni;const[n,r]=this.parentDimensions;return this.setDims(this.width*n,this.height*r),fs(this,this.#Ai,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.parent.drawLayer.addClass(this.#hi,"hovered")}pointerleave(){this.parent.drawLayer.removeClass(this.#hi,"hovered")}#li(e){mo._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#vi(!0);break;case 1:case 3:this.#vi(!1)}}#vi(e){if(!this.#Zs)return;const t=window.getSelection();e?t.setPosition(this.#Zs,this.#ei):t.setPosition(this.#si,this.#ii)}select(){super.select(),this.#hi&&(this.parent?.drawLayer.removeClass(this.#hi,"hovered"),this.parent?.drawLayer.addClass(this.#hi,"selected"))}unselect(){super.unselect(),this.#hi&&(this.parent?.drawLayer.removeClass(this.#hi,"selected"),this.#ai||this.#vi(!1))}get _mustFixPosition(){return!this.#ai}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;super.show(e),this.parent&&(this.parent.drawLayer.show(this.#m,e),this.parent.drawLayer.show(this.#hi,e))}#Ei(){return this.#ai?this.rotation:0}#Ci(){if(this.#ai)return null;const[e,t]=this.pageDimensions,n=this.#ti,r=new Float32Array(8*n.length);let s=0;for(const{x:i,y:A,width:o,height:a}of n){const n=i*e,l=(1-A-a)*t;r[s]=r[s+4]=n,r[s+1]=r[s+3]=l,r[s+2]=r[s+6]=n+o*e,r[s+5]=r[s+7]=l+a*t,s+=8}return r}#Ti(e){return this.#oi.serialize(e,this.#Ei())}static startHighlighting(e,t,n){let{target:r,x:s,y:i}=n;const{x:A,y:o,width:a,height:l}=r.getBoundingClientRect(),c=t=>{this.#_i(e,t)},u=e._signal,h={capture:!0,passive:!1,signal:u},d=e=>{e.preventDefault(),e.stopPropagation()},p=t=>{r.removeEventListener("pointermove",c),window.removeEventListener("blur",p),window.removeEventListener("pointerup",p),window.removeEventListener("pointerdown",d,h),window.removeEventListener("contextmenu",ss),this.#Si(e,t)};window.addEventListener("blur",p,{signal:u}),window.addEventListener("pointerup",p,{signal:u}),window.addEventListener("pointerdown",d,h),window.addEventListener("contextmenu",ss,{signal:u}),r.addEventListener("pointermove",c,{signal:u}),this._freeHighlight=new po({x:s,y:i},[A,o,a,l],e.scale,this._defaultThickness/2,t,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0))}static#_i(e,t){this._freeHighlight.add(t)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#Si(e,t){this._freeHighlight.isEmpty()?e.drawLayer.removeFreeHighlight(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static deserialize(e,t,n){const r=super.deserialize(e,t,n),{rect:[s,i,A,o],color:a,quadPoints:l}=e;r.color=Tr.makeHexColor(...a),r.#ui=e.opacity;const[c,u]=r.pageDimensions;r.width=(A-s)/c,r.height=(o-i)/u;const h=r.#ti=[];for(let d=0;d<l.length;d+=8)h.push({x:(l[4]-A)/c,y:(o-(1-l[d+5]))/u,width:(l[d+2]-l[d])/c,height:(l[d+5]-l[d+1])/u});return r.#mi(),r}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||e)return null;const t=this.getRect(0,0),n=vs._colorManager.convert(this.color);return{annotationType:Bn.HIGHLIGHT,color:n,opacity:this.#ui,thickness:this.#xs,quadPoints:this.#Ci(),outlines:this.#Ti(t),pageIndex:this.pageIndex,rect:t,rotation:this.#Ei(),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}}class wo extends vs{#Ii=0;#xi=0;#ki=this.canvasPointermove.bind(this);#Fi=this.canvasPointerleave.bind(this);#Ui=this.canvasPointerup.bind(this);#Li=this.canvasPointerdown.bind(this);#Qi=null;#Di=(()=>new Path2D)();#Oi=!1;#Ri=!1;#Ni=!1;#Mi=null;#Pi=0;#Hi=0;#Ki=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=(()=>Bn.INK)();constructor(e){super({...e,name:"inkEditor"}),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,t){vs.initialize(e,t)}static updateDefaultParams(e,t){switch(e){case En.INK_THICKNESS:wo._defaultThickness=t;break;case En.INK_COLOR:wo._defaultColor=t;break;case En.INK_OPACITY:wo._defaultOpacity=t/100}}updateParams(e,t){switch(e){case En.INK_THICKNESS:this.#yi(t);break;case En.INK_COLOR:this.#ns(t);break;case En.INK_OPACITY:this.#Gi(t)}}static get defaultPropertiesToUpdate(){return[[En.INK_THICKNESS,wo._defaultThickness],[En.INK_COLOR,wo._defaultColor||vs._defaultLineColor],[En.INK_OPACITY,Math.round(100*wo._defaultOpacity)]]}get propertiesToUpdate(){return[[En.INK_THICKNESS,this.thickness||wo._defaultThickness],[En.INK_COLOR,this.color||wo._defaultColor||vs._defaultLineColor],[En.INK_OPACITY,Math.round(100*(this.opacity??wo._defaultOpacity))]]}#yi(e){const t=e=>{this.thickness=e,this.#ji()},n=this.thickness;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:En.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#ns(e){const t=e=>{this.color=e,this.#Vi()},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:En.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#Gi(e){const t=e=>{this.opacity=e,this.#Vi()};e/=100;const n=this.opacity;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:En.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(this.#zi(),this.#Wi()),this.isAttachedToDOM||(this.parent.add(this),this.#Yi()),this.#ji()))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#Qi&&(clearTimeout(this.#Qi),this.#Qi=null),this.#Mi?.disconnect(),this.#Mi=null,super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&null===e&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,t]=this.parentDimensions,n=this.width*e,r=this.height*t;this.setDimensions(n,r)}enableEditMode(){this.#Oi||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#Li,{signal:this._uiManager._signal}))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#Li))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#Xi(){const{parentRotation:e,parentDimensions:[t,n]}=this;switch(e){case 90:return[0,n,n,t];case 180:return[t,n,t,n];case 270:return[t,0,n,t];default:return[0,0,t,n]}}#qi(){const{ctx:e,color:t,opacity:n,thickness:r,parentScale:s,scaleFactor:i}=this;e.lineWidth=r*s/i,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${t}${function(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")}(n)}`}#$i(e,t){const n=this._uiManager._signal;this.canvas.addEventListener("contextmenu",ss,{signal:n}),this.canvas.addEventListener("pointerleave",this.#Fi,{signal:n}),this.canvas.addEventListener("pointermove",this.#ki,{signal:n}),this.canvas.addEventListener("pointerup",this.#Ui,{signal:n}),this.canvas.removeEventListener("pointerdown",this.#Li),this.isEditing=!0,this.#Ni||(this.#Ni=!0,this.#Yi(),this.thickness||=wo._defaultThickness,this.color||=wo._defaultColor||vs._defaultLineColor,this.opacity??=wo._defaultOpacity),this.currentPath.push([e,t]),this.#Ri=!1,this.#qi(),this.#Ki=()=>{this.#Ji(),this.#Ki&&window.requestAnimationFrame(this.#Ki)},window.requestAnimationFrame(this.#Ki)}#Zi(e,t){const[n,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===n&&t===r)return;const s=this.currentPath;let i=this.#Di;if(s.push([e,t]),this.#Ri=!0,s.length<=2)return i.moveTo(...s[0]),void i.lineTo(e,t);3===s.length&&(this.#Di=i=new Path2D,i.moveTo(...s[0])),this.#eA(i,...s.at(-3),...s.at(-2),e,t)}#tA(){if(0===this.currentPath.length)return;const e=this.currentPath.at(-1);this.#Di.lineTo(...e)}#nA(e,t){let n;if(this.#Ki=null,e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),this.#Zi(e,t),this.#tA(),1!==this.currentPath.length)n=this.#rA();else{const r=[e,t];n=[[r,r.slice(),r.slice(),r]]}const r=this.#Di,s=this.currentPath;this.currentPath=[],this.#Di=new Path2D;this.addCommands({cmd:()=>{this.allRawPaths.push(s),this.paths.push(n),this.bezierPath2D.push(r),this._uiManager.rebuild(this)},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#zi(),this.#Wi()),this.#ji())},mustExec:!0})}#Ji(){if(!this.#Ri)return;this.#Ri=!1;const e=Math.ceil(this.thickness*this.parentScale),t=this.currentPath.slice(-3),n=t.map((e=>e[0])),r=t.map((e=>e[1])),{ctx:s}=(Math.min(...n),Math.max(...n),Math.min(...r),Math.max(...r),this);s.save(),s.clearRect(0,0,this.canvas.width,this.canvas.height);for(const i of this.bezierPath2D)s.stroke(i);s.stroke(this.#Di),s.restore()}#eA(e,t,n,r,s,i,A){const o=(t+r)/2,a=(n+s)/2,l=(r+i)/2,c=(s+A)/2;e.bezierCurveTo(o+2*(r-o)/3,a+2*(s-a)/3,l+2*(r-l)/3,c+2*(s-c)/3,l,c)}#rA(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const t=[];let n,[r,s]=e[0];for(n=1;n<e.length-2;n++){const[i,A]=e[n],[o,a]=e[n+1],l=(i+o)/2,c=(A+a)/2,u=[r+2*(i-r)/3,s+2*(A-s)/3],h=[l+2*(i-l)/3,c+2*(A-c)/3];t.push([[r,s],u,h,[l,c]]),[r,s]=[l,c]}const[i,A]=e[n],[o,a]=e[n+1],l=[r+2*(i-r)/3,s+2*(A-s)/3],c=[o+2*(i-o)/3,a+2*(A-a)/3];return t.push([[r,s],l,c,[o,a]]),t}#Vi(){if(this.isEmpty())return void this.#sA();this.#qi();const{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),this.#sA();for(const n of this.bezierPath2D)t.stroke(n)}commit(){this.#Oi||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#Oi=!0,this.div.classList.add("disabled"),this.#ji(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){0===e.button&&this.isInEditMode()&&!this.#Oi&&(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#$i(e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),this.#Zi(e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),this.#iA(e)}canvasPointerleave(e){this.#iA(e)}#iA(e){this.canvas.removeEventListener("pointerleave",this.#Fi),this.canvas.removeEventListener("pointermove",this.#ki),this.canvas.removeEventListener("pointerup",this.#Ui),this.canvas.addEventListener("pointerdown",this.#Li,{signal:this._uiManager._signal}),this.#Qi&&clearTimeout(this.#Qi),this.#Qi=setTimeout((()=>{this.#Qi=null,this.canvas.removeEventListener("contextmenu",ss)}),10),this.#nA(e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#zi(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#Wi(){this.#Mi=new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)})),this.#Mi.observe(this.div),this._uiManager._signal.addEventListener("abort",(()=>{this.#Mi?.disconnect(),this.#Mi=null}),{once:!0})}get isResizable(){return!this.isEmpty()&&this.#Oi}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[n,r,s,i]=this.#Xi();if(this.setAt(n,r,0,0),this.setDims(s,i),this.#zi(),this.width){const[n,r]=this.parentDimensions;this.setAspectRatio(this.width*n,this.height*r),this.setAt(e*n,t*r,this.width*n,this.height*r),this.#Ni=!0,this.#Yi(),this.setDims(this.width*n,this.height*r),this.#Vi(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#Wi(),this.div}#Yi(){if(!this.#Ni)return;const[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),this.#sA()}setDimensions(e,t){const n=Math.round(e),r=Math.round(t);if(this.#Pi===n&&this.#Hi===r)return;this.#Pi=n,this.#Hi=r,this.canvas.style.visibility="hidden";const[s,i]=this.parentDimensions;this.width=e/s,this.height=t/i,this.fixAndSetPosition(),this.#Oi&&this.#AA(e,t),this.#Yi(),this.#Vi(),this.canvas.style.visibility="visible",this.fixDims()}#AA(e,t){const n=this.#oA(),r=(e-n)/this.#xi,s=(t-n)/this.#Ii;this.scaleFactor=Math.min(r,s)}#sA(){const e=this.#oA()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}static#aA(e){const t=new Path2D;for(let n=0,r=e.length;n<r;n++){const[r,s,i,A]=e[n];0===n&&t.moveTo(...r),t.bezierCurveTo(s[0],s[1],i[0],i[1],A[0],A[1])}return t}static#lA(e,t,n){const[r,s,i,A]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]+=r,e[t+1]=A-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]+r,e[t+1]=n+s}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=i-e[t],e[t+1]+=s;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=i-e[t+1],e[t+1]=A-n}break;default:throw new Error("Invalid rotation")}return e}static#cA(e,t,n){const[r,s,i,A]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]-=r,e[t+1]=A-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]-s,e[t+1]=n-r}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=i-e[t],e[t+1]-=s;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=A-e[t+1],e[t+1]=i-n}break;default:throw new Error("Invalid rotation")}return e}#uA(e,t,n,r){const s=[],i=this.thickness/2,A=e*t+i,o=e*n+i;for(const a of this.paths){const t=[],n=[];for(let r=0,s=a.length;r<s;r++){const[i,l,c,u]=a[r];if(i[0]===u[0]&&i[1]===u[1]&&1===s){const r=e*i[0]+A,s=e*i[1]+o;t.push(r,s),n.push(r,s);break}const h=e*i[0]+A,d=e*i[1]+o,p=e*l[0]+A,f=e*l[1]+o,g=e*c[0]+A,m=e*c[1]+o,w=e*u[0]+A,y=e*u[1]+o;0===r&&(t.push(h,d),n.push(h,d)),t.push(p,f,g,m,w,y),n.push(p,f),r===s-1&&n.push(w,y)}s.push({bezier:wo.#lA(t,r,this.rotation),points:wo.#lA(n,r,this.rotation)})}return s}#hA(){let e=1/0,t=-1/0,n=1/0,r=-1/0;for(const s of this.paths)for(const[i,A,o,a]of s){const s=Tr.bezierBoundingBox(...i,...A,...o,...a);e=Math.min(e,s[0]),n=Math.min(n,s[1]),t=Math.max(t,s[2]),r=Math.max(r,s[3])}return[e,n,t,r]}#oA(){return this.#Oi?Math.ceil(this.thickness*this.parentScale):0}#ji(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return;if(!this.#Oi)return void this.#Vi();const t=this.#hA(),n=this.#oA();this.#xi=Math.max(vs.MIN_SIZE,t[2]-t[0]),this.#Ii=Math.max(vs.MIN_SIZE,t[3]-t[1]);const r=Math.ceil(n+this.#xi*this.scaleFactor),s=Math.ceil(n+this.#Ii*this.scaleFactor),[i,A]=this.parentDimensions;this.width=r/i,this.height=s/A,this.setAspectRatio(r,s);const o=this.translationX,a=this.translationY;this.translationX=-t[0],this.translationY=-t[1],this.#Yi(),this.#Vi(),this.#Pi=r,this.#Hi=s,this.setDims(r,s);const l=e?n/this.scaleFactor/2:0;this.translate(o-this.translationX-l,a-this.translationY-l)}static deserialize(e,t,n){if(e instanceof eo)return null;const r=super.deserialize(e,t,n);r.thickness=e.thickness,r.color=Tr.makeHexColor(...e.color),r.opacity=e.opacity;const[s,i]=r.pageDimensions,A=r.width*s,o=r.height*i,a=r.parentScale,l=e.thickness/2;r.#Oi=!0,r.#Pi=Math.round(A),r.#Hi=Math.round(o);const{paths:c,rect:u,rotation:h}=e;for(let{bezier:p}of c){p=wo.#cA(p,u,h);const e=[];r.paths.push(e);let t=a*(p[0]-l),n=a*(p[1]-l);for(let r=2,i=p.length;r<i;r+=6){const s=a*(p[r]-l),i=a*(p[r+1]-l),A=a*(p[r+2]-l),o=a*(p[r+3]-l),c=a*(p[r+4]-l),u=a*(p[r+5]-l);e.push([[t,n],[s,i],[A,o],[c,u]]),t=c,n=u}const s=this.#aA(e);r.bezierPath2D.push(s)}const d=r.#hA();return r.#xi=Math.max(vs.MIN_SIZE,d[2]-d[0]),r.#Ii=Math.max(vs.MIN_SIZE,d[3]-d[1]),r.#AA(A,o),r}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),t=vs._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Bn.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:this.#uA(this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}class yo extends vs{#dA=null;#pA=null;#fA=null;#gA=null;#mA=null;#wA="";#yA=null;#Mi=null;#BA=null;#EA=!1;#bA=!1;static _type="stamp";static _editorType=(()=>Bn.STAMP)();constructor(e){super({...e,name:"stampEditor"}),this.#gA=e.bitmapUrl,this.#mA=e.bitmapFile}static initialize(e,t){vs.initialize(e,t)}static get supportedTypes(){return ur(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map((e=>`image/${e}`)))}static get supportedTypesStr(){return ur(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(Bn.STAMP,{bitmapFile:e.getAsFile()})}#vA(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?(this.#dA=e.bitmap,t||(this.#pA=e.id,this.#EA=e.isSvg),e.file&&(this.#wA=e.file.name),this.#zi()):this.remove()}#CA(){this.#fA=null,this._uiManager.enableWaiting(!1),this.#yA&&this.div.focus()}#TA(){if(this.#pA)return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(this.#pA).then((e=>this.#vA(e,!0))).finally((()=>this.#CA()));if(this.#gA){const e=this.#gA;return this.#gA=null,this._uiManager.enableWaiting(!0),void(this.#fA=this._uiManager.imageManager.getFromUrl(e).then((e=>this.#vA(e))).finally((()=>this.#CA())))}if(this.#mA){const e=this.#mA;return this.#mA=null,this._uiManager.enableWaiting(!0),void(this.#fA=this._uiManager.imageManager.getFromFile(e).then((e=>this.#vA(e))).finally((()=>this.#CA())))}const e=document.createElement("input");e.type="file",e.accept=yo.supportedTypesStr;const t=this._uiManager._signal;this.#fA=new Promise((n=>{e.addEventListener("change",(async()=>{if(e.files&&0!==e.files.length){this._uiManager.enableWaiting(!0);const t=await this._uiManager.imageManager.getFromFile(e.files[0]);this.#vA(t)}else this.remove();n()}),{signal:t}),e.addEventListener("cancel",(()=>{this.remove(),n()}),{signal:t})})).finally((()=>this.#CA())),e.click()}remove(){this.#pA&&(this.#dA=null,this._uiManager.imageManager.deleteId(this.#pA),this.#yA?.remove(),this.#yA=null,this.#Mi?.disconnect(),this.#Mi=null,this.#BA&&(clearTimeout(this.#BA),this.#BA=null)),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(this.#pA&&null===this.#yA&&this.#TA(),this.isAttachedToDOM||this.parent.add(this))):this.#pA&&this.#TA()}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#fA||this.#dA||this.#gA||this.#mA||this.#pA)}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;if(this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),this.#dA?this.#zi():this.#TA(),this.width){const[n,r]=this.parentDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r)}return this.div}#zi(){const{div:e}=this;let{width:t,height:n}=this.#dA;const[r,s]=this.pageDimensions,i=.75;if(this.width)t=this.width*r,n=this.height*s;else if(t>i*r||n>i*s){const e=Math.min(i*r/t,i*s/n);t*=e,n*=e}const[A,o]=this.parentDimensions;this.setDims(t*A/r,n*o/s),this._uiManager.enableWaiting(!1);const a=this.#yA=document.createElement("canvas");e.append(a),e.hidden=!1,this.#_A(t,n),this.#Wi(),this.#bA||(this.parent.addUndoableEditor(this),this.#bA=!0),this._reportTelemetry({action:"inserted_image"}),this.#wA&&a.setAttribute("aria-label",this.#wA)}#SA(e,t){const[n,r]=this.parentDimensions;this.width=e/n,this.height=t/r,this.setDims(e,t),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==this.#BA&&clearTimeout(this.#BA);this.#BA=setTimeout((()=>{this.#BA=null,this.#_A(e,t)}),200)}#IA(e,t){const{width:n,height:r}=this.#dA;let s=n,i=r,A=this.#dA;for(;s>2*e||i>2*t;){const n=s,r=i;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),i>2*t&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2));const o=new OffscreenCanvas(s,i);o.getContext("2d").drawImage(A,0,0,n,r,0,0,s,i),A=o.transferToImageBitmap()}return A}#_A(e,t){e=Math.ceil(e),t=Math.ceil(t);const n=this.#yA;if(!n||n.width===e&&n.height===t)return;n.width=e,n.height=t;const r=this.#EA?this.#dA:this.#IA(e,t);if(this._uiManager.hasMLManager&&!this.hasAltText()){const n=new OffscreenCanvas(e,t).getContext("2d");n.drawImage(r,0,0,r.width,r.height,0,0,e,t),this._uiManager.mlGuess({service:"image-to-text",request:{data:n.getImageData(0,0,e,t).data,width:e,height:t,channels:4}}).then((e=>{const t=e?.output||"";this.parent&&t&&!this.hasAltText()&&(this.altTextData={altText:t,decorative:!1})}))}const s=n.getContext("2d");s.filter=this._uiManager.hcmFilter,s.drawImage(r,0,0,r.width,r.height,0,0,e,t)}getImageForAltText(){return this.#yA}#xA(e){if(e){if(this.#EA){const e=this._uiManager.imageManager.getSvgUrl(this.#pA);if(e)return e}const e=document.createElement("canvas");({width:e.width,height:e.height}=this.#dA);return e.getContext("2d").drawImage(this.#dA,0,0),e.toDataURL()}if(this.#EA){const[e,t]=this.pageDimensions,n=Math.round(this.width*e*Vr.PDF_TO_CSS_UNITS),r=Math.round(this.height*t*Vr.PDF_TO_CSS_UNITS),s=new OffscreenCanvas(n,r);return s.getContext("2d").drawImage(this.#dA,0,0,this.#dA.width,this.#dA.height,0,0,n,r),s.transferToImageBitmap()}return structuredClone(this.#dA)}#Wi(){this._uiManager._signal&&(this.#Mi=new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&this.#SA(t.width,t.height)})),this.#Mi.observe(this.div),this._uiManager._signal.addEventListener("abort",(()=>{this.#Mi?.disconnect(),this.#Mi=null}),{once:!0}))}static deserialize(e,t,n){if(e instanceof io)return null;const r=super.deserialize(e,t,n),{rect:s,bitmapUrl:i,bitmapId:A,isSvg:o,accessibilityData:a}=e;A&&n.imageManager.isValidId(A)?r.#pA=A:r.#gA=i,r.#EA=o;const[l,c]=r.pageDimensions;return r.width=(s[2]-s[0])/l,r.height=(s[3]-s[1])/c,a&&(r.altTextData=a),r}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;const n={annotationType:Bn.STAMP,bitmapId:this.#pA,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#EA,structTreeParentId:this._structTreeParentId};if(e)return n.bitmapUrl=this.#xA(!0),n.accessibilityData=this.altTextData,n;const{decorative:r,altText:s}=this.altTextData;if(!r&&s&&(n.accessibilityData={type:"Figure",alt:s}),null===t)return n;t.stamps||=new Map;const i=this.#EA?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(t.stamps.has(this.#pA)){if(this.#EA){const e=t.stamps.get(this.#pA);i>e.area&&(e.area=i,e.serialized.bitmap.close(),e.serialized.bitmap=this.#xA(!1))}}else t.stamps.set(this.#pA,{area:i,serialized:n}),n.bitmap=this.#xA(!1);return n}}class Bo{#Kr;#kA=!1;#FA=null;#UA=null;#LA=null;#QA=null;#DA=null;#OA=(()=>new Map)();#RA=!1;#NA=!1;#MA=!1;#PA=null;#d;static _initialized=!1;static#R=(()=>new Map([lo,wo,yo,mo].map((e=>[e._editorType,e]))))();constructor(e){let{uiManager:t,pageIndex:n,div:r,accessibilityManager:s,annotationLayer:i,drawLayer:A,textLayer:o,viewport:a,l10n:l}=e;const c=[...Bo.#R.values()];if(!Bo._initialized){Bo._initialized=!0;for(const e of c)e.initialize(l,t)}t.registerEditorTypes(c),this.#d=t,this.pageIndex=n,this.div=r,this.#Kr=s,this.#FA=i,this.viewport=a,this.#PA=o,this.drawLayer=A,this.#d.addLayer(this)}get isEmpty(){return 0===this.#OA.size}get isInvisible(){return this.isEmpty&&this.#d.getMode()===Bn.NONE}updateToolbar(e){this.#d.updateToolbar(e)}updateMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.#d.getMode();switch(this.#HA(),e){case Bn.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case Bn.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Bn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of Bo.#R.values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){return e===this.#PA?.div}addInkEditorIfNeeded(e){if(this.#d.getMode()!==Bn.INK)return;if(!e)for(const t of this.#OA.values())if(t.isEmpty())return void t.setInBackground();this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){this.#d.setEditingState(e)}addCommands(e){this.#d.addCommands(e)}togglePointerEvents(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#FA?.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of this.#OA.values())n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#d.removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!this.#FA)return;const t=this.#FA.getEditableAnnotations();for(const n of t){if(n.hide(),this.#d.isDeletedAnnotationElement(n.data.id))continue;if(e.has(n.data.id))continue;const t=this.deserialize(n);t&&(this.addOrRebuild(t),t.enableEditing())}}disable(){this.#MA=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const r of this.#OA.values())r.disableEditing(),r.annotationElementId&&(null===r.serialize()?(t.set(r.annotationElementId,r),this.getEditableAnnotation(r.annotationElementId)?.show(),r.remove()):e.set(r.annotationElementId,r));if(this.#FA){const n=this.#FA.getEditableAnnotations();for(const r of n){const{id:n}=r.data;if(this.#d.isDeletedAnnotationElement(n))continue;let s=t.get(n);s?(s.resetAnnotationElement(r),s.show(!1),r.show()):(s=e.get(n),s&&(this.#d.addChangedExistingAnnotation(s),s.renderAnnotationElement(r),s.show(!1)),r.show())}}this.#HA(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const r of Bo.#R.values())n.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#MA=!1}getEditableAnnotation(e){return this.#FA?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#d.getActive()!==e&&this.#d.setActiveEditor(e)}enableTextSelection(){this.div.tabIndex=-1,this.#PA?.div&&!this.#QA&&(this.#QA=this.#KA.bind(this),this.#PA.div.addEventListener("pointerdown",this.#QA,{signal:this.#d._signal}),this.#PA.div.classList.add("highlighting"))}disableTextSelection(){this.div.tabIndex=0,this.#PA?.div&&this.#QA&&(this.#PA.div.removeEventListener("pointerdown",this.#QA),this.#QA=null,this.#PA.div.classList.remove("highlighting"))}#KA(e){if(this.#d.unselectAll(),e.target===this.#PA.div){const{isMac:t}=vr.platform;if(0!==e.button||e.ctrlKey&&t)return;this.#d.showAllEditors("highlight",!0,!0),this.#PA.div.classList.add("free"),mo.startHighlighting(this,"ltr"===this.#d.direction,e),this.#PA.div.addEventListener("pointerup",(()=>{this.#PA.div.classList.remove("free")}),{once:!0,signal:this.#d._signal}),e.preventDefault()}}enableClick(){if(this.#LA)return;const e=this.#d._signal;this.#LA=this.pointerdown.bind(this),this.#UA=this.pointerup.bind(this),this.div.addEventListener("pointerdown",this.#LA,{signal:e}),this.div.addEventListener("pointerup",this.#UA,{signal:e})}disableClick(){this.#LA&&(this.div.removeEventListener("pointerdown",this.#LA),this.div.removeEventListener("pointerup",this.#UA),this.#LA=null,this.#UA=null)}attach(e){this.#OA.set(e.id,e);const{annotationElementId:t}=e;t&&this.#d.isDeletedAnnotationElement(t)&&this.#d.removeDeletedAnnotationElement(e)}detach(e){this.#OA.delete(e.id),this.#Kr?.removePointerInTextLayer(e.contentDiv),!this.#MA&&e.annotationElementId&&this.#d.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#d.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,this.#NA||this.addInkEditorIfNeeded(!1)}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#d.addDeletedAnnotationElement(e.annotationElementId),vs.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(e.parent!==this||!e.isAttachedToDOM){if(this.changeParent(e),this.#d.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),this.#d.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#DA&&(e._focusEventsAllowed=!1,this.#DA=setTimeout((()=>{this.#DA=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0,signal:this.#d._signal}),t.focus())}),0)),e._structTreeParentId=this.#Kr?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getNextId(){return this.#d.getId()}get#GA(){return Bo.#R.get(this.#d.getMode())}get _signal(){return this.#d._signal}#jA(e){const t=this.#GA;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#GA?.canCreateNewEmptyEditor()}pasteEditor(e,t){this.#d.updateToolbar(e),this.#d.updateMode(e);const{offsetX:n,offsetY:r}=this.#VA(),s=this.getNextId(),i=this.#jA({parent:this,id:s,x:n,y:r,uiManager:this.#d,isCentered:!0,...t});i&&this.add(i)}deserialize(e){return Bo.#R.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#d)||null}createAndAddNewEditor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.getNextId(),s=this.#jA({parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:this.#d,isCentered:t,...n});return s&&this.add(s),s}#VA(){const{x:e,y:t,width:n,height:r}=this.div.getBoundingClientRect(),s=Math.max(0,e),i=Math.max(0,t),A=(s+Math.min(window.innerWidth,e+n))/2-e,o=(i+Math.min(window.innerHeight,t+r))/2-t,[a,l]=this.viewport.rotation%180===0?[A,o]:[o,A];return{offsetX:a,offsetY:l}}addNewEditor(){this.createAndAddNewEditor(this.#VA(),!0)}setSelected(e){this.#d.setSelected(e)}toggleSelected(e){this.#d.toggleSelected(e)}isSelected(e){return this.#d.isSelected(e)}unselect(e){this.#d.unselect(e)}pointerup(e){const{isMac:t}=vr.platform;0!==e.button||e.ctrlKey&&t||e.target===this.div&&this.#RA&&(this.#RA=!1,this.#kA?this.#d.getMode()!==Bn.STAMP?this.createAndAddNewEditor(e,!1):this.#d.unselectAll():this.#kA=!0)}pointerdown(e){if(this.#d.getMode()===Bn.HIGHLIGHT&&this.enableTextSelection(),this.#RA)return void(this.#RA=!1);const{isMac:t}=vr.platform;if(0!==e.button||e.ctrlKey&&t)return;if(e.target!==this.div)return;this.#RA=!0;const n=this.#d.getActive();this.#kA=!n||n.isEmpty()}findNewParent(e,t,n){const r=this.#d.findParent(t,n);return null!==r&&r!==this&&(r.changeParent(e),!0)}destroy(){this.#d.getActive()?.parent===this&&(this.#d.commitOrRemove(),this.#d.setActiveEditor(null)),this.#DA&&(clearTimeout(this.#DA),this.#DA=null);for(const e of this.#OA.values())this.#Kr?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#OA.clear(),this.#d.removeLayer(this)}#HA(){this.#NA=!0;for(const e of this.#OA.values())e.isEmpty()&&e.remove();this.#NA=!1}render(e){let{viewport:t}=e;this.viewport=t,hs(this.div,t);for(const n of this.#d.getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update(e){let{viewport:t}=e;this.#d.commitOrRemove(),this.#HA();const n=this.viewport.rotation,r=t.rotation;if(this.viewport=t,hs(this.div,{rotation:r}),n!==r)for(const s of this.#OA.values())s.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#d.viewParameters.realScale}}class Eo{#br=null;#m=0;#zA=(()=>new Map)();#WA=(()=>new Map)();constructor(e){let{pageIndex:t}=e;this.pageIndex=t}setParent(e){if(this.#br){if(this.#br!==e){if(this.#zA.size>0)for(const t of this.#zA.values())t.remove(),e.append(t);this.#br=e}}else this.#br=e}static get _svgFactory(){return ur(this,"_svgFactory",new Xr)}static#YA(e){let{x:t=0,y:n=0,width:r=1,height:s=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{style:i}=e;i.top=100*n+"%",i.left=100*t+"%",i.width=100*r+"%",i.height=100*s+"%"}#XA(e){const t=Eo._svgFactory.create(1,1,!0);return this.#br.append(t),t.setAttribute("aria-hidden",!0),Eo.#YA(t,e),t}#qA(e,t){const n=Eo._svgFactory.createElement("clipPath");e.append(n);const r=`clip_${t}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const s=Eo._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r}highlight(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=this.#m++,i=this.#XA(e.box);i.classList.add("highlight"),e.free&&i.classList.add("free");const A=Eo._svgFactory.createElement("defs");i.append(A);const o=Eo._svgFactory.createElement("path");A.append(o);const a=`path_p${this.pageIndex}_${s}`;o.setAttribute("id",a),o.setAttribute("d",e.toSVGPath()),r&&this.#WA.set(s,o);const l=this.#qA(A,a),c=Eo._svgFactory.createElement("use");return i.append(c),i.setAttribute("fill",t),i.setAttribute("fill-opacity",n),c.setAttribute("href",`#${a}`),this.#zA.set(s,i),{id:s,clipPathId:`url(#${l})`}}highlightOutline(e){const t=this.#m++,n=this.#XA(e.box);n.classList.add("highlightOutline");const r=Eo._svgFactory.createElement("defs");n.append(r);const s=Eo._svgFactory.createElement("path");r.append(s);const i=`path_p${this.pageIndex}_${t}`;let A;if(s.setAttribute("id",i),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke"),e.free){n.classList.add("free");const e=Eo._svgFactory.createElement("mask");r.append(e),A=`mask_p${this.pageIndex}_${t}`,e.setAttribute("id",A),e.setAttribute("maskUnits","objectBoundingBox");const s=Eo._svgFactory.createElement("rect");e.append(s),s.setAttribute("width","1"),s.setAttribute("height","1"),s.setAttribute("fill","white");const o=Eo._svgFactory.createElement("use");e.append(o),o.setAttribute("href",`#${i}`),o.setAttribute("stroke","none"),o.setAttribute("fill","black"),o.setAttribute("fill-rule","nonzero"),o.classList.add("mask")}const o=Eo._svgFactory.createElement("use");n.append(o),o.setAttribute("href",`#${i}`),A&&o.setAttribute("mask",`url(#${A})`);const a=o.cloneNode();return n.append(a),o.classList.add("mainOutline"),a.classList.add("secondaryOutline"),this.#zA.set(t,n),t}finalizeLine(e,t){const n=this.#WA.get(e);this.#WA.delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){this.#zA.get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),this.#WA.delete(e)}updatePath(e,t){this.#WA.get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){Eo.#YA(this.#zA.get(e),t)}show(e,t){this.#zA.get(e).classList.toggle("hidden",!t)}rotate(e,t){this.#zA.get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){this.#zA.get(e).setAttribute("fill",t)}changeOpacity(e,t){this.#zA.get(e).setAttribute("fill-opacity",t)}addClass(e,t){this.#zA.get(e).classList.add(t)}removeClass(e,t){this.#zA.get(e).classList.remove(t)}remove(e){null!==this.#br&&(this.#zA.get(e).remove(),this.#zA.delete(e))}destroy(){this.#br=null;for(const e of this.#zA.values())e.remove();this.#zA.clear()}}var bo=on.AnnotationLayer,vo=on.AnnotationMode,Co=on.GlobalWorkerOptions,To=on.PDFDataRangeTransport,_o=on.TextLayer,So=on.getDocument;const Io=(0,s.createContext)(null);function xo(e){let{children:t,type:n}=e;return(0,Vt.jsx)("div",{className:`react-pdf__message react-pdf__message--${n}`,children:t})}class ko{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return en(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(e){en(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise((t=>{en(this.pdfDocument,"PDF document not loaded."),en(e,"Destination is not specified."),"string"===typeof e?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)})).then((e=>{en(Array.isArray(e),`"${e}" is not a valid destination array.`);const t=e[0];new Promise((e=>{en(this.pdfDocument,"PDF document not loaded."),t instanceof Object?this.pdfDocument.getPageIndex(t).then((t=>{e(t)})).catch((()=>{en(!1,`"${t}" is not a valid page reference.`)})):"number"===typeof t?e(t):en(!1,`"${t}" is not a valid destination reference.`)})).then((t=>{const n=t+1;en(this.pdfViewer,"PDF viewer is not initialized."),en(n>=1&&n<=this.pagesCount,`"${n}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:t,pageNumber:n})}))}))}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;en(this.pdfViewer,"PDF viewer is not initialized."),en(e>=1&&e<=this.pagesCount,`"${e}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||"noopener noreferrer nofollow",e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const Fo={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Uo="undefined"!==typeof window,Lo=Uo&&"file:"===window.location.protocol;function Qo(e){return function(e){return"undefined"!==typeof e}(e)&&null!==e}function Do(e){return function(e){return"string"===typeof e}(e)&&/^data:/.test(e)}function Oo(e){en(Do(e),"Invalid data URI.");const[t="",n=""]=e.split(",");return-1!==t.split(";").indexOf("base64")?atob(n):unescape(n)}function Ro(){return Uo&&window.devicePixelRatio||1}const No="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Mo(){tn(!Lo,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${No}`)}function Po(e){(null===e||void 0===e?void 0:e.cancel)&&e.cancel()}function Ho(e,t){return Object.defineProperty(e,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}function Ko(e,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function Go(){return(0,s.useReducer)(Ko,{value:void 0,error:void 0})}var jo=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function A(e){try{a(r.next(e))}catch(t){i(t)}}function o(e){try{a(r.throw(e))}catch(t){i(t)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(A,o)}a((r=r.apply(e,t||[])).next())}))},Vo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const{Tm:zo}=e,Wo=(e,t)=>{switch(t){case Fo.NEED_PASSWORD:e(prompt("Enter the password to open this PDF file."));break;case Fo.INCORRECT_PASSWORD:e(prompt("Invalid password. Please try again."));break}};function Yo(e){return"object"===typeof e&&null!==e&&("data"in e||"range"in e||"url"in e)}const Xo=(0,s.forwardRef)((function(e,t){var{children:n,className:r,error:i="Failed to load PDF file.",externalLinkRel:A,externalLinkTarget:o,file:a,inputRef:l,imageResourcesPath:c,loading:u="Loading PDF\u2026",noData:h="No PDF file specified.",onItemClick:d,onLoadError:p,onLoadProgress:f,onLoadSuccess:g,onPassword:m=Wo,onSourceError:w,onSourceSuccess:y,options:B,renderMode:E,rotate:b}=e,v=Vo(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[C,T]=Go(),{value:_,error:S}=C,[I,x]=Go(),{value:k,error:F}=I,U=(0,s.useRef)(new ko),L=(0,s.useRef)([]),Q=(0,s.useRef)(void 0),D=(0,s.useRef)(void 0);a&&a!==Q.current&&Yo(a)&&(tn(!sn(a,Q.current),'File prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.'),Q.current=a),B&&B!==D.current&&(tn(!sn(B,D.current),'Options prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.'),D.current=B);const O=(0,s.useRef)({scrollPageIntoView:e=>{const{dest:t,pageNumber:n,pageIndex:r=n-1}=e;if(d)return void d({dest:t,pageIndex:r,pageNumber:n});const s=L.current[r];s?s.scrollIntoView():tn(!1,`An internal link leading to page ${n} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});(0,s.useImperativeHandle)(t,(()=>({linkService:U,pages:L,viewer:O})),[]),(0,s.useEffect)((function(){T({type:"RESET"})}),[a,T]);const R=(0,s.useCallback)((()=>jo(this,void 0,void 0,(function*(){if(!a)return null;if("string"===typeof a){if(Do(a)){return{data:Oo(a)}}return Mo(),{url:a}}if(a instanceof zo)return{range:a};if(a instanceof ArrayBuffer)return{data:a};if(Uo&&function(e){return en(Uo,"isBlob can only be used in a browser environment"),e instanceof Blob}(a)){const e=yield function(e){return new Promise(((t,n)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return n(new Error("Error while reading a file."));t(r.result)},r.onerror=e=>{if(!e.target)return n(new Error("Error while reading a file."));const{error:t}=e.target;if(!t)return n(new Error("Error while reading a file."));switch(t.code){case t.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case t.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case t.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},r.readAsArrayBuffer(e)}))}(a);return{data:e}}if(en("object"===typeof a,"Invalid parameter in file, need either Uint8Array, string or a parameter object"),en(Yo(a),"Invalid parameter object: need either .data, .range or .url"),"url"in a&&"string"===typeof a.url){if(Do(a.url)){const{url:e}=a,t=Vo(a,["url"]),n=Oo(e);return Object.assign({data:n},t)}Mo()}return a}))),[a]);(0,s.useEffect)((()=>{const e=Xt(R());return e.promise.then((e=>{T({type:"RESOLVE",value:e})})).catch((e=>{T({type:"REJECT",error:e})})),()=>{Po(e)}}),[R,T]),(0,s.useEffect)((()=>{"undefined"!==typeof _&&(!1!==_?y&&y():S&&(tn(!1,S.toString()),w&&w(S)))}),[_]),(0,s.useEffect)((function(){x({type:"RESET"})}),[x,_]),(0,s.useEffect)((function(){if(!_)return;const e=B?Object.assign(Object.assign({},_),B):_,t=So(e);f&&(t.onProgress=f),m&&(t.onPassword=m);const n=t,r=n.promise.then((e=>{x({type:"RESOLVE",value:e})})).catch((e=>{n.destroyed||x({type:"REJECT",error:e})}));return()=>{r.finally((()=>n.destroy()))}}),[B,x,_]),(0,s.useEffect)((()=>{"undefined"!==typeof k&&(!1!==k?k&&(g&&g(k),L.current=new Array(k.numPages),U.current.setDocument(k)):F&&(tn(!1,F.toString()),p&&p(F)))}),[k]),(0,s.useEffect)((function(){U.current.setViewer(O.current),U.current.setExternalLinkRel(A),U.current.setExternalLinkTarget(o)}),[A,o]);const N=(0,s.useCallback)(((e,t)=>{L.current[e]=t}),[]),M=(0,s.useCallback)((e=>{delete L.current[e]}),[]),P=(0,s.useMemo)((()=>({imageResourcesPath:c,linkService:U.current,onItemClick:d,pdf:k,registerPage:N,renderMode:E,rotate:b,unregisterPage:M})),[c,d,k,N,E,b,M]),H=(0,s.useMemo)((()=>Yt(v,(()=>k))),[v,k]);return(0,Vt.jsx)("div",Object.assign({className:$t("react-pdf__Document",r),ref:l,style:{"--scale-factor":"1"}},H,{children:a?void 0===k||null===k?(0,Vt.jsx)(xo,{type:"loading",children:"function"===typeof u?u():u}):!1===k?(0,Vt.jsx)(xo,{type:"error",children:"function"===typeof i?i():i}):(0,Vt.jsx)(Io.Provider,{value:P,children:n}):(0,Vt.jsx)(xo,{type:"no-data",children:"function"===typeof h?h():h})}))})),qo=Xo;function $o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter(Boolean);return n.length<=1?n[0]||null:function(e){n.forEach((function(t){"function"===typeof t?t(e):t&&(t.current=e)}))}}const Jo=(0,s.createContext)(null),Zo={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},ea=/^H(\d+)$/;function ta(e){return"children"in e}function na(e){return!!ta(e)&&(1===e.children.length&&0 in e.children&&"id"in e.children[0])}function ra(e){const t={};if(ta(e)){const{role:n}=e,r=n.match(ea);if(r)t.role="heading",t["aria-level"]=Number(r[1]);else if(function(e){return e in Zo}(n)){const e=Zo[n];e&&(t.role=e)}}return t}function sa(e){const t={};if(ta(e)){if(void 0!==e.alt&&(t["aria-label"]=e.alt),void 0!==e.lang&&(t.lang=e.lang),na(e)){const[n]=e.children;if(n){const e=sa(n);return Object.assign(Object.assign({},t),e)}}}else"id"in e&&(t["aria-owns"]=e.id);return t}function ia(e){return e?Object.assign(Object.assign({},ra(e)),sa(e)):null}function Aa(e){let{className:t,node:n}=e;const r=(0,s.useMemo)((()=>ia(n)),[n]),i=(0,s.useMemo)((()=>ta(n)?na(n)?null:n.children.map(((e,t)=>(0,Vt.jsx)(Aa,{node:e},t))):null),[n]);return(0,Vt.jsx)("span",Object.assign({className:t},r,{children:i}))}function oa(){return(0,s.useContext)(Jo)}function aa(){const e=oa();en(e,"Unable to find Page context.");const{onGetStructTreeError:t,onGetStructTreeSuccess:n}=e,[r,i]=Go(),{value:A,error:o}=r,{customTextRenderer:a,page:l}=e;return(0,s.useEffect)((function(){i({type:"RESET"})}),[i,l]),(0,s.useEffect)((function(){if(a)return;if(!l)return;const e=Xt(l.getStructTree()),t=e;return e.promise.then((e=>{i({type:"RESOLVE",value:e})})).catch((e=>{i({type:"REJECT",error:e})})),()=>Po(t)}),[a,l,i]),(0,s.useEffect)((()=>{void 0!==A&&(!1!==A?A&&n&&n(A):o&&(tn(!1,o.toString()),t&&t(o)))}),[A]),A?(0,Vt.jsx)(Aa,{className:"react-pdf__Page__structTree structTree",node:A}):null}const la=vo;function ca(e){const t=oa();en(t,"Unable to find Page context.");const n=Object.assign(Object.assign({},t),e),{_className:r,canvasBackground:i,devicePixelRatio:A=Ro(),onRenderError:o,onRenderSuccess:a,page:l,renderForms:c,renderTextLayer:u,rotate:h,scale:d}=n,{canvasRef:p}=e;en(l,"Attempted to render page canvas, but no page was specified.");const f=(0,s.useRef)(null);function g(e){(function(e){return"RenderingCancelledException"===e.name})(e)||(tn(!1,e.toString()),o&&o(e))}const m=(0,s.useMemo)((()=>l.getViewport({scale:d*A,rotation:h})),[A,l,h,d]),w=(0,s.useMemo)((()=>l.getViewport({scale:d,rotation:h})),[l,h,d]);(0,s.useEffect)((function(){if(!l)return;l.cleanup();const{current:e}=f;if(!e)return;e.width=m.width,e.height=m.height,e.style.width=`${Math.floor(w.width)}px`,e.style.height=`${Math.floor(w.height)}px`,e.style.visibility="hidden";const t={annotationMode:c?la.ENABLE_FORMS:la.ENABLE,canvasContext:e.getContext("2d",{alpha:!1}),viewport:m};i&&(t.background=i);const n=l.render(t),r=n;return n.promise.then((()=>{e.style.visibility="",l&&a&&a(Ho(l,d))})).catch(g),()=>Po(r)}),[i,l,c,m,w]);const y=(0,s.useCallback)((()=>{const{current:e}=f;e&&(e.width=0,e.height=0)}),[]);return(0,s.useEffect)((()=>y),[y]),(0,Vt.jsx)("canvas",{className:`${r}__canvas`,dir:"ltr",ref:$o(p,f),style:{display:"block",userSelect:"none"},children:u?(0,Vt.jsx)(aa,{}):null})}function ua(){const e=oa();en(e,"Unable to find Page context.");const{customTextRenderer:t,onGetTextError:n,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:A,page:o,pageIndex:a,pageNumber:l,rotate:c,scale:u}=e;en(o,"Attempted to load page text content, but no page was specified.");const[h,d]=Go(),{value:p,error:f}=h,g=(0,s.useRef)(null),m=(0,s.useRef)(void 0);tn(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10),"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),(0,s.useEffect)((function(){d({type:"RESET"})}),[o,d]),(0,s.useEffect)((function(){if(!o)return;const e=Xt(o.getTextContent()),t=e;return e.promise.then((e=>{d({type:"RESOLVE",value:e})})).catch((e=>{d({type:"REJECT",error:e})})),()=>Po(t)}),[o,d]),(0,s.useEffect)((()=>{void 0!==p&&(!1!==p?p&&r&&r(p):f&&(tn(!1,f.toString()),n&&n(f)))}),[p]);const w=(0,s.useCallback)((()=>{A&&A()}),[A]),y=(0,s.useCallback)((e=>{tn(!1,e.toString()),i&&i(e)}),[i]);const B=(0,s.useMemo)((()=>o.getViewport({scale:u,rotation:c})),[o,c,u]);return(0,s.useLayoutEffect)((function(){if(!o||!p)return;const{current:e}=g;if(!e)return;e.innerHTML="";const n=o.streamTextContent({includeMarkedContent:!0}),r=new _o({container:e,textContentSource:n,viewport:B}),s=r;return r.render().then((()=>{const n=document.createElement("div");n.className="endOfContent",e.append(n),m.current=n;const r=e.querySelectorAll('[role="presentation"]');if(t){let e=0;p.items.forEach(((n,s)=>{if(!function(e){return"str"in e}(n))return;const i=r[e];if(!i)return;const A=t(Object.assign({pageIndex:a,pageNumber:l,itemIndex:s},n));i.innerHTML=A,e+=n.str&&n.hasEOL?2:1}))}w()})).catch(y),()=>Po(s)}),[t,y,w,o,a,l,p,B]),(0,Vt.jsx)("div",{className:$t("react-pdf__Page__textContent","textLayer"),onMouseUp:function(){const e=m.current;e&&e.classList.remove("active")},onMouseDown:function(){const e=m.current;e&&e.classList.add("active")},ref:g})}function ha(){return(0,s.useContext)(Io)}function da(){const e=ha(),t=oa();en(t,"Unable to find Page context.");const n=Object.assign(Object.assign({},e),t),{imageResourcesPath:r,linkService:i,onGetAnnotationsError:A,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:l,page:c,pdf:u,renderForms:h,rotate:d,scale:p=1}=n;en(u,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),en(c,"Attempted to load page annotations, but no page was specified."),en(i,"Attempted to load page annotations, but no linkService was specified.");const[f,g]=Go(),{value:m,error:w}=f,y=(0,s.useRef)(null);tn(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10),"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),(0,s.useEffect)((function(){g({type:"RESET"})}),[g,c]),(0,s.useEffect)((function(){if(!c)return;const e=Xt(c.getAnnotations()),t=e;return e.promise.then((e=>{g({type:"RESOLVE",value:e})})).catch((e=>{g({type:"REJECT",error:e})})),()=>{Po(t)}}),[g,c]),(0,s.useEffect)((()=>{void 0!==m&&(!1!==m?m&&o&&o(m):w&&(tn(!1,w.toString()),A&&A(w)))}),[m]);const B=(0,s.useMemo)((()=>c.getViewport({scale:p,rotation:d})),[c,d,p]);return(0,s.useEffect)((function(){if(!u||!c||!i||!m)return;const{current:e}=y;if(!e)return;const t=B.clone({dontFlip:!0}),n={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:e,l10n:null,page:c,viewport:t},s={annotations:m,annotationStorage:u.annotationStorage,div:e,imageResourcesPath:r,linkService:i,page:c,renderForms:h,viewport:t};e.innerHTML="";try{new bo(n).render(s),l&&l()}catch(A){!function(e){tn(!1,`${e}`),a&&a(e)}(A)}return()=>{}}),[m,r,i,c,u,h,B]),(0,Vt.jsx)("div",{className:$t("react-pdf__Page__annotations","annotationLayer"),ref:y})}var pa=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const fa=1;function ga(e){const t=ha(),n=Object.assign(Object.assign({},t),e),{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:A,canvasRef:o,children:a,className:l,customRenderer:c,customTextRenderer:u,devicePixelRatio:h,error:d="Failed to load the page.",height:p,inputRef:f,loading:g="Loading page\u2026",noData:m="No page specified.",onGetAnnotationsError:w,onGetAnnotationsSuccess:y,onGetStructTreeError:B,onGetStructTreeSuccess:E,onGetTextError:b,onGetTextSuccess:v,onLoadError:C,onLoadSuccess:T,onRenderAnnotationLayerError:_,onRenderAnnotationLayerSuccess:S,onRenderError:I,onRenderSuccess:x,onRenderTextLayerError:k,onRenderTextLayerSuccess:F,pageIndex:U,pageNumber:L,pdf:Q,registerPage:D,renderAnnotationLayer:O=!0,renderForms:R=!1,renderMode:N="canvas",renderTextLayer:M=!0,rotate:P,scale:H=fa,unregisterPage:K,width:G}=n,j=pa(n,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[V,z]=Go(),{value:W,error:Y}=V,X=(0,s.useRef)(null);en(Q,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");const q=Qo(L)?L-1:null!==U&&void 0!==U?U:null,$=null!==L&&void 0!==L?L:Qo(U)?U+1:null,J=null!==P&&void 0!==P?P:W?W.rotate:null,Z=(0,s.useMemo)((()=>{if(!W)return null;let e=1;const t=null!==H&&void 0!==H?H:fa;if(G||p){const t=W.getViewport({scale:1,rotation:J});G?e=G/t.width:p&&(e=p/t.height)}return t*e}),[p,W,J,H,G]);(0,s.useEffect)((function(){return()=>{Qo(q)&&i&&K&&K(q)}}),[i,Q,q,K]),(0,s.useEffect)((function(){z({type:"RESET"})}),[z,Q,q]),(0,s.useEffect)((function(){if(!Q||!$)return;const e=Xt(Q.getPage($)),t=e;return e.promise.then((e=>{z({type:"RESOLVE",value:e})})).catch((e=>{z({type:"REJECT",error:e})})),()=>Po(t)}),[z,Q,$]),(0,s.useEffect)((()=>{void 0!==W&&(!1!==W?function(){if(T){if(!W||!Z)return;T(Ho(W,Z))}if(i&&D){if(!Qo(q)||!X.current)return;D(q,X.current)}}():Y&&(tn(!1,Y.toString()),C&&C(Y)))}),[W,Z]);const ee=(0,s.useMemo)((()=>W&&Qo(q)&&$&&Qo(J)&&Qo(Z)?{_className:r,canvasBackground:A,customTextRenderer:u,devicePixelRatio:h,onGetAnnotationsError:w,onGetAnnotationsSuccess:y,onGetStructTreeError:B,onGetStructTreeSuccess:E,onGetTextError:b,onGetTextSuccess:v,onRenderAnnotationLayerError:_,onRenderAnnotationLayerSuccess:S,onRenderError:I,onRenderSuccess:x,onRenderTextLayerError:k,onRenderTextLayerSuccess:F,page:W,pageIndex:q,pageNumber:$,renderForms:R,renderTextLayer:M,rotate:J,scale:Z}:null),[r,A,u,h,w,y,B,E,b,v,_,S,I,x,k,F,W,q,$,R,M,J,Z]),te=(0,s.useMemo)((()=>Yt(j,(()=>W?Z?Ho(W,Z):void 0:W))),[j,W,Z]),ne=`${q}@${Z}/${J}`;function re(){switch(N){case"custom":return en(c,'renderMode was set to "custom", but no customRenderer was passed.'),(0,Vt.jsx)(c,{},`${ne}_custom`);case"none":return null;default:return(0,Vt.jsx)(ca,{canvasRef:o},`${ne}_canvas`)}}return(0,Vt.jsx)("div",Object.assign({className:$t(r,l),"data-page-number":$,ref:$o(f,X),style:{"--scale-factor":`${Z}`,backgroundColor:A||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},te,{children:$?null===Q||void 0===W||null===W?(0,Vt.jsx)(xo,{type:"loading",children:"function"===typeof g?g():g}):!1===Q||!1===W?(0,Vt.jsx)(xo,{type:"error",children:"function"===typeof d?d():d}):(0,Vt.jsxs)(Jo.Provider,{value:ee,children:[re(),M?(0,Vt.jsx)(ua,{},`${ne}_text`):null,O?(0,Vt.jsx)(da,{},`${ne}_annotations`):null,a]}):(0,Vt.jsx)(xo,{type:"no-data",children:"function"===typeof m?m():m})}))}const ma=["National_Geographic_Little_Kids_USA_-_September-October_2024","National_Geographic_Little_Kids_USA_-_November-December_2024","National_Geographic_Little_Kids_-_March_2023","National_Geographic_Little_Kids_-_January_2022","National_Geographic_Little_Kids_-_July_2023","National_Geographic_Little_Kids_USA_-_January-February_2024","National_Geographic_Little_Kids_UK_-_Issue_23_2024","My morning","My room","National_Geographic_Little_Kids_-_September_2022"];async function wa(){let{magzine:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{magzine:ma[0]};try{const t=await fetch(`./play/${e}/keywords.txt`),n=await t.text();return JSON.parse(n)}catch(t){console.error(t)}}async function ya(){let{magzine:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{magzine:ma[0]};try{const t=await fetch(`./play/${e}/flashcards.txt`);console.log("Fetching flashcards from:",`./play/${e}/flashcards.txt`,"Response status:",t.status);const n=await t.text();console.log("Raw flashcards data:",n);const r=JSON.parse(n);return console.log("Fetched Fetched Fetched flashcards:",r),r}catch(t){console.error(t)}}async function Ba(){let{magzine:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{magzine:ma[0]};try{const t=await fetch(`./play/${e}/audio_scripts.txt`),n=(await t.text()).trim().split("\n").filter((e=>""!==e.trim())),r=[];let s=0;return n.forEach((e=>{const t=e.match(/(\d{2}):(\d{2})/);if(t){const e=parseInt(t[1],10),n=parseInt(t[2],10);s=60*e+n}else{const t=e.trim();t&&r.push({time:s,text:t})}})),r}catch(t){console.error(t)}}const Ea="\n- You are also an artificial intelligence agent responsible for helping control audio playback by voice commands. You will receive voice control commands from the user and respond with the appropriate action. You may receive the following commands:\n - Always respond with a short reply, e.g. 'OK' when you receive a voice control command\n\nGeneral Guidance Steps:\n - Capture and Analyze User Voice Commands: Obtain the user's voice input and interpret the command's content, such as identifying whether the user intends to start, pause, or adjust the volume.\n - Determine the Context of the User's Command: Understand the context of the user's instruction. For instance, if the user requests to fast-forward, clarify the specific time interval they wish to skip.\n - Seek Clarification for Ambiguous Commands: If the user's command lacks clarity, politely ask for further confirmation to generate an accurate function call.\n\nExamples for how to set the function call signatures:\n - When you received 'stop the audio', 'pause the audio', or similar phrases (or in other languages,e.g. in chinese '\u505c\u4e00\u4e0b'\uff0c '\u6682\u505c') to describe the intent to pause/stop the on-going playback, just set the command as 'pause'\n - When user ask as 'resume the audio', 'continue the audio', 'Please Play the audio', 'start playig the audio'or similar phrases(or in other languages,e.g. in chinese,'\u7ee7\u7eed') to describe the intent to resume the paused playback, just set the command as 'resume'\n - When user ask as 'speed up', 'speed down', or similar phrases(or in other languages, e.g. in chinese '\u5feb\u4e00\u70b9'\uff0c'\u6162\u4e00\u70b9') to describe the intent to change the playback speed, just set the command as 'speed' and the context as 'up' or 'down' as best as you can understand\n - When user ask as 'Adjust the volume up or down' or simply as 'volume up', 'volume down' to describe the intent to increase or decrease the volume of audio up or down, just set the command as 'volume', the context as 'up' or 'down' as best as you understand\n - When user ask as 'back to normal' to describe the intent to reset the playback speed to normal, just set the command as 'speed' and the context as 'normal'\n - When user ask as 'skip forward', 'skip backward', or similar phrases(or in other languages, e.g. in chinese '\u5feb\u8fdb\u4e00\u70b9'\uff0c '\u540e\u9000\u4e00\u70b9') to describe the intent to skip the playback, just set the command as 'skip' and the context as 'forward' or 'backward' as you understand\n - When user ask as 'Play the audio from the start' to describe the intent to play the audio from the start, just set the command as 'skip', the context as 'start'\n - When user ask as 'Play the audio from the beginning' to describe the intent to play the audio from the beginning, just set the command as 'skip', the context as 'start'\n - When user ask as 'What is playing right now?' or 'why here the word/phrase/sentence used to say...' to describe the intent(or in other language, e.g. in chinese '\u6b63\u5728\u8ba8\u8bba\u4ec0\u4e48'\uff0c'\u73b0\u5728\u5728\u8bb2\u4ec0\u4e48', '\u6211\u542c\u4e0d\u61c2') to ask what is talked right now(maybe some words/phrases near by, the user is not quite understood or not hear clearly), just set the command as 'peek', try to explain to user by using the currentTime and duration of the audio you received from the function calling and also the scripts or general knowledge as best as you can.\n\nNotes:\n - Capture Key Action Words: When interpreting user commands, focus on identifying key action words to minimize misunderstandings.\n - Clarify Ambiguous Commands: If a command is unclear, seek clarification from the user to ensure the function call accurately reflects their intent.\n\n ";async function ba(){let{magzine:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{magzine:ma[0]};try{if("no_scripts"===e)return"System settings:\n        ##Tool use\n        enabled.\n\n        ## Demeanor\n        Cheerful, warm, and engaging\u2014like a fun teacher or a friendly cartoon character who is always excited to help.  \n\n        ## Tone\n        Lighthearted, playful, and encouraging. Every response should feel friendly and full of curiosity.  \n\n        ## Level of Enthusiasm\n        High! You should sound excited about teaching and make learning feel like an adventure.  \n\n        ## Level of Formality  \n        Casual and child-friendly, like a fun conversation rather than a lesson.  \n\n        ## Level of Emotion  \n        Very expressive! Use excitement, surprise, and warmth in your responses.  \n\n        ## Filler Words  \n        Occasionally use playful expressions like \u201cOoooh!\u201d \u201cWow!\u201d \u201cHmm, let\u2019s think!\u201d to make it sound natural.  \n\n        ## Pacing  \n        Moderate, with pauses where needed to make sure the child has time to think and respond.          \n\n        ## Sending messages before calling functions\n        - If you're going to call a function, ALWAYS let the user know what you're about to do BEFORE calling the function so they're aware of each step.\n            - Example: \u201cOkay, I\u2019m going to ask deepseek now.\u201d\n            - Example: \"Let me create a picture for you.\"\n        - If the function call might take more than a few seconds, ALWAYS let the user know you're still working on it. (For example, \u201cI just need a little more time\u2026\u201d or \u201cApologies, I\u2019m still working on that now.\u201d)\n        - Never leave the user in silence for more than 3 seconds, so continue providing small updates or polite chatter as needed.\n        - Example: \u201cI appreciate your patience, just another moment\u2026\u201d or \u201cI\u2019m still working on that, thank you for waiting.\u201d                \n        ";const t=await fetch(`./play/${e}/audio_scripts.txt`),n=await t.text();return`System settings:\n        ##Tool use\n        enabled.\n\n        ## Demeanor\n        Cheerful, warm, and engaging\u2014like a fun teacher or a friendly cartoon character who is always excited to help.  \n\n        ## Tone\n        Lighthearted, playful, and encouraging. Every response should feel friendly and full of curiosity.  \n\n        ## Level of Enthusiasm\n        High! You should sound excited about teaching and make learning feel like an adventure.  \n\n        ## Level of Formality  \n        Casual and child-friendly, like a fun conversation rather than a lesson.  \n\n        ## Level of Emotion  \n        Very expressive! Use excitement, surprise, and warmth in your responses.  \n\n        ## Filler Words  \n        Occasionally use playful expressions like \u201cOoooh!\u201d \u201cWow!\u201d \u201cHmm, let\u2019s think!\u201d to make it sound natural.  \n\n        ## Pacing  \n        Moderate, with pauses where needed to make sure the child has time to think and respond.          \n\n        ## Sending messages before calling functions\n        - If you're going to call a function, ALWAYS let the user know what you're about to do BEFORE calling the function so they're aware of each step.\n            - Example: \u201cOkay, I\u2019m going to ask deepseek now.\u201d\n            - Example: "Let me create a picture for you."\n        - If the function call might take more than a few seconds, ALWAYS let the user know you're still working on it. (For example, \u201cI just need a little more time\u2026\u201d or \u201cApologies, I\u2019m still working on that now.\u201d)\n        - Never leave the user in silence for more than 3 seconds, so continue providing small updates or polite chatter as needed.\n        - Example: \u201cI appreciate your patience, just another moment\u2026\u201d or \u201cI\u2019m still working on that, thank you for waiting.\u201d                \n\n        Instructions:\n\n        General Instructions:\n        - You are an audio copilot, which will transform the passive listening experience into an interactive and engaging one. You will help the user understand the on-going playback and provide answers to their questions.\n\n        Audio Scripts with timestamp:\n        - Here are the audio scripts: ${n}, you can use this an knowledge base when providing an answer to user.               \n\n        Voice Control Instructions:\n        Voice Control Instructions for function call audio_control: ${Ea}\n        \n        Function Call for Translate the current senense Instruction:\n        - when function: translation_current_sentence is called, you should translate the current sentence to the requested language and return the translated sentence.\n        - The current sentence is the sentence that is currently being played in the audio.\n        - The current time and duration of the audio should be used to determine the current sentence.\n\n        Function Call for search video from youtube Instruction:\n        - just provide simple response like indicated in the return info when you receive the command to search video from youtube. \n\n        Function Call for learning/exploring by keyword/topic Instruction:\n        - you will receive a keyword with the start time and end time to locate audio segment talking about the keyword.\n        - you will play as an english teacher role to lead the user to learn the content related to the keyword.\n        - you should start to provide some basic words(from the scripts) which are prequiste to understand the keyword and ask to repeat the user to repeat or practice with you together.\n        - then you will explain the scripts from the start time to the end time of the scripts sentence by sentence.\n        - then you will play the audio segment from the start time to the end time of the keyword for enghlish hearing practice.\n        - then you will ask the user some questions about the information between the start time to the end time to check user has understood.\n        - At last you will wrap up what has been learned and ask the user to continue or ask more questions.\n\n        Other important instruction should be followed during interaction:\n        - Simplify and Clarify Extracted Content: After identifying relevant information, explain the concepts or statements from the audio using simplified and easily understandable language.\n        - Provide Necessary Background Information: If the question involves implicit context or requires additional background, offer relevant explanations, possibly referencing other parts of the audio.\n        - Offer Multiple Interpretations When Applicable: If there are several possible explanations, present multiple options and encourage the user to select the one that aligns with their understanding.\n        - Define Terms in Layman's Language: When addressing terminology, strive to define terms using simple language, avoiding complex industry-specific jargon.\n        - Always provide a transition phrase at the end of each reply no more than five words, like "ok", "sure"... etc.\n        - If the answer you received, like "OK", "OK, please", "Please go ahead", "OK, continue", "OK, continue playing", "OK, continue reading", "OK, continue with the news", "OK, "continue with the audio"... etc, you do not need to respond. The audio will be resumed soon.\n        - If you do not know the answer based the audio scripts, try to reply based on general knowledge as best as you can as a general AI assistant. \n        - If you realy do not know the answer based the audio scripts and your general knowledge, you can say "I am not sure, but I can help you with other questions."              \n        - If user asks "Please go ahead", "OK, continue", "OK, continue playing", "OK, continue reading", "OK, continue with the news", "OK, "continue with the audio", you just simply reply "OK" or "\u597d\u7684" depending the user's language.\n        - Be kind, helpful, and curteous\n        - It is okay to ask the user questions\n        - Use tools and functions you have available liberally, it is part of the training apparatus\n        - Be open to exploration and conversation\n        `}catch(t){console.error(t)}}const va="Chat_chatContainer__EOy9H",Ca="Chat_inputForm__unrU8",Ta="Chat_input__WH-t4",_a="Chat_button__myYtN",Sa="Chat_messages__trZGi",Ia="Chat_userMessage__6BBsi",xa="Chat_assistantMessage__26N2J",ka="Chat_codeMessage__b9AKQ";function Fa(e){const t=[],n=String(e||"");let r=n.indexOf(","),s=0,i=!1;for(;!i;){-1===r&&(r=n.length,i=!0);const e=n.slice(s,r).trim();!e&&i||t.push(e),s=r+1,r=n.indexOf(",",s)}return t}function Ua(e,t){const n=t||{};return(""===e[e.length-1]?[...e,""]:e).join((n.padRight?" ":"")+","+(!1===n.padLeft?"":" ")).trim()}const La=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Qa=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Da={};function Oa(e,t){return((t||Da).jsx?Qa:La).test(e)}const Ra=/[ \t\n\f\r]/g;function Na(e){return""===e.replace(Ra,"")}class Ma{constructor(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}}function Pa(e,t){const n={},r={};let s=-1;for(;++s<e.length;)Object.assign(n,e[s].property),Object.assign(r,e[s].normal);return new Ma(n,r,t)}function Ha(e){return e.toLowerCase()}Ma.prototype.property={},Ma.prototype.normal={},Ma.prototype.space=null;class Ka{constructor(e,t){this.property=e,this.attribute=t}}Ka.prototype.space=null,Ka.prototype.boolean=!1,Ka.prototype.booleanish=!1,Ka.prototype.overloadedBoolean=!1,Ka.prototype.number=!1,Ka.prototype.commaSeparated=!1,Ka.prototype.spaceSeparated=!1,Ka.prototype.commaOrSpaceSeparated=!1,Ka.prototype.mustUseProperty=!1,Ka.prototype.defined=!1;let Ga=0;const ja=$a(),Va=$a(),za=$a(),Wa=$a(),Ya=$a(),Xa=$a(),qa=$a();function $a(){return 2**++Ga}const Ja=Object.keys(t);class Za extends Ka{constructor(e,n,r,s){let i=-1;if(super(e,n),el(this,"space",s),"number"===typeof r)for(;++i<Ja.length;){const e=Ja[i];el(this,Ja[i],(r&t[e])===t[e])}}}function el(e,t,n){n&&(e[t]=n)}Za.prototype.defined=!0;const tl={}.hasOwnProperty;function nl(e){const t={},n={};let r;for(r in e.properties)if(tl.call(e.properties,r)){const s=e.properties[r],i=new Za(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[Ha(r)]=r,n[Ha(i.attribute)]=r}return new Ma(t,n,e.space)}const rl=nl({space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),sl=nl({space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function il(e,t){return t in e?e[t]:t}function Al(e,t){return il(e,t.toLowerCase())}const ol=nl({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Al,properties:{xmlns:null,xmlnsXLink:null}}),al=nl({transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:Va,ariaAutoComplete:null,ariaBusy:Va,ariaChecked:Va,ariaColCount:Wa,ariaColIndex:Wa,ariaColSpan:Wa,ariaControls:Ya,ariaCurrent:null,ariaDescribedBy:Ya,ariaDetails:null,ariaDisabled:Va,ariaDropEffect:Ya,ariaErrorMessage:null,ariaExpanded:Va,ariaFlowTo:Ya,ariaGrabbed:Va,ariaHasPopup:null,ariaHidden:Va,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ya,ariaLevel:Wa,ariaLive:null,ariaModal:Va,ariaMultiLine:Va,ariaMultiSelectable:Va,ariaOrientation:null,ariaOwns:Ya,ariaPlaceholder:null,ariaPosInSet:Wa,ariaPressed:Va,ariaReadOnly:Va,ariaRelevant:null,ariaRequired:Va,ariaRoleDescription:Ya,ariaRowCount:Wa,ariaRowIndex:Wa,ariaRowSpan:Wa,ariaSelected:Va,ariaSetSize:Wa,ariaSort:null,ariaValueMax:Wa,ariaValueMin:Wa,ariaValueNow:Wa,ariaValueText:null,role:null}}),ll=nl({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Al,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Xa,acceptCharset:Ya,accessKey:Ya,action:null,allow:null,allowFullScreen:ja,allowPaymentRequest:ja,allowUserMedia:ja,alt:null,as:null,async:ja,autoCapitalize:null,autoComplete:Ya,autoFocus:ja,autoPlay:ja,blocking:Ya,capture:null,charSet:null,checked:ja,cite:null,className:Ya,cols:Wa,colSpan:null,content:null,contentEditable:Va,controls:ja,controlsList:Ya,coords:Wa|Xa,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ja,defer:ja,dir:null,dirName:null,disabled:ja,download:za,draggable:Va,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ja,formTarget:null,headers:Ya,height:Wa,hidden:ja,high:Wa,href:null,hrefLang:null,htmlFor:Ya,httpEquiv:Ya,id:null,imageSizes:null,imageSrcSet:null,inert:ja,inputMode:null,integrity:null,is:null,isMap:ja,itemId:null,itemProp:Ya,itemRef:Ya,itemScope:ja,itemType:Ya,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ja,low:Wa,manifest:null,max:null,maxLength:Wa,media:null,method:null,min:null,minLength:Wa,multiple:ja,muted:ja,name:null,nonce:null,noModule:ja,noValidate:ja,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ja,optimum:Wa,pattern:null,ping:Ya,placeholder:null,playsInline:ja,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ja,referrerPolicy:null,rel:Ya,required:ja,reversed:ja,rows:Wa,rowSpan:Wa,sandbox:Ya,scope:null,scoped:ja,seamless:ja,selected:ja,shadowRootClonable:ja,shadowRootDelegatesFocus:ja,shadowRootMode:null,shape:null,size:Wa,sizes:null,slot:null,span:Wa,spellCheck:Va,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Wa,step:null,style:null,tabIndex:Wa,target:null,title:null,translate:null,type:null,typeMustMatch:ja,useMap:null,value:Va,width:Wa,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ya,axis:null,background:null,bgColor:null,border:Wa,borderColor:null,bottomMargin:Wa,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ja,declare:ja,event:null,face:null,frame:null,frameBorder:null,hSpace:Wa,leftMargin:Wa,link:null,longDesc:null,lowSrc:null,marginHeight:Wa,marginWidth:Wa,noResize:ja,noHref:ja,noShade:ja,noWrap:ja,object:null,profile:null,prompt:null,rev:null,rightMargin:Wa,rules:null,scheme:null,scrolling:Va,standby:null,summary:null,text:null,topMargin:Wa,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Wa,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ja,disableRemotePlayback:ja,prefix:null,property:null,results:Wa,security:null,unselectable:null}}),cl=nl({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:il,properties:{about:qa,accentHeight:Wa,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Wa,amplitude:Wa,arabicForm:null,ascent:Wa,attributeName:null,attributeType:null,azimuth:Wa,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Wa,by:null,calcMode:null,capHeight:Wa,className:Ya,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Wa,diffuseConstant:Wa,direction:null,display:null,dur:null,divisor:Wa,dominantBaseline:null,download:ja,dx:null,dy:null,edgeMode:null,editable:null,elevation:Wa,enableBackground:null,end:null,event:null,exponent:Wa,externalResourcesRequired:null,fill:null,fillOpacity:Wa,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Xa,g2:Xa,glyphName:Xa,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Wa,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Wa,horizOriginX:Wa,horizOriginY:Wa,id:null,ideographic:Wa,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Wa,k:Wa,k1:Wa,k2:Wa,k3:Wa,k4:Wa,kernelMatrix:qa,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Wa,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Wa,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Wa,overlineThickness:Wa,paintOrder:null,panose1:null,path:null,pathLength:Wa,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ya,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Wa,pointsAtY:Wa,pointsAtZ:Wa,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:qa,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:qa,rev:qa,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:qa,requiredFeatures:qa,requiredFonts:qa,requiredFormats:qa,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Wa,specularExponent:Wa,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Wa,strikethroughThickness:Wa,string:null,stroke:null,strokeDashArray:qa,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Wa,strokeOpacity:Wa,strokeWidth:null,style:null,surfaceScale:Wa,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:qa,tabIndex:Wa,tableValues:null,target:null,targetX:Wa,targetY:Wa,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:qa,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Wa,underlineThickness:Wa,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Wa,values:null,vAlphabetic:Wa,vMathematical:Wa,vectorEffect:null,vHanging:Wa,vIdeographic:Wa,version:null,vertAdvY:Wa,vertOriginX:Wa,vertOriginY:Wa,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Wa,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),ul=Pa([sl,rl,ol,al,ll],"html"),hl=Pa([sl,rl,ol,al,cl],"svg"),dl=/^data[-\w.:]+$/i,pl=/-[a-z]/g,fl=/[A-Z]/g;function gl(e,t){const n=Ha(t);let r=t,s=Ka;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&dl.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(pl,wl);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!pl.test(e)){let n=e.replace(fl,ml);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}s=Za}return new s(r,t)}function ml(e){return"-"+e.toLowerCase()}function wl(e){return e.charAt(1).toUpperCase()}const yl={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};function Bl(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function El(e){return e.join(" ").trim()}var bl=n(222);const vl=bl.default||bl,Cl=_l("end"),Tl=_l("start");function _l(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"===typeof n.line&&n.line>0&&"number"===typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"===typeof n.offset&&n.offset>-1?n.offset:void 0}}}function Sl(e){return e&&"object"===typeof e?"position"in e||"type"in e?xl(e.position):"start"in e||"end"in e?xl(e):"line"in e||"column"in e?Il(e):"":""}function Il(e){return kl(e&&e.line)+":"+kl(e&&e.column)}function xl(e){return Il(e&&e.start)+"-"+Il(e&&e.end)}function kl(e){return e&&"number"===typeof e?e:1}class Fl extends Error{constructor(e,t,n){super(),"string"===typeof t&&(n=t,t=void 0);let r="",s={},i=!1;if(t&&(s="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"===typeof e?r=e:!s.cause&&e&&(i=!0,r=e.message,s.cause=e),!s.ruleId&&!s.source&&"string"===typeof n){const e=n.indexOf(":");-1===e?s.ruleId=n:(s.source=n.slice(0,e),s.ruleId=n.slice(e+1))}if(!s.place&&s.ancestors&&s.ancestors){const e=s.ancestors[s.ancestors.length-1];e&&(s.place=e.position)}const A=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=A?A.column:void 0,this.fatal=void 0,this.file,this.message=r,this.line=A?A.line:void 0,this.name=Sl(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=i&&s.cause&&"string"===typeof s.cause.stack?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Fl.prototype.file="",Fl.prototype.name="",Fl.prototype.reason="",Fl.prototype.message="",Fl.prototype.stack="",Fl.prototype.column=void 0,Fl.prototype.line=void 0,Fl.prototype.ancestors=void 0,Fl.prototype.cause=void 0,Fl.prototype.fatal=void 0,Fl.prototype.place=void 0,Fl.prototype.ruleId=void 0,Fl.prototype.source=void 0;const Ul={}.hasOwnProperty,Ll=new Map,Ql=/[A-Z]/g,Dl=/-([a-z])/g,Ol=new Set(["table","tbody","thead","tfoot","tr"]),Rl=new Set(["td","th"]),Nl="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Ml(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if("function"!==typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=function(e,t){return n;function n(n,r,s,i){const A=Array.isArray(s.children),o=Tl(n);return t(r,s,i,A,{columnNumber:o?o.column-1:void 0,fileName:e,lineNumber:o?o.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!==typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!==typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");r=function(e,t,n){return r;function r(e,r,s,i){const A=Array.isArray(s.children)?n:t;return i?A(r,s,i):A(r,s)}}(0,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?hl:ul,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},i=Pl(s,e,void 0);return i&&"string"!==typeof i?i:s.create(e,s.Fragment,{children:i||void 0},void 0)}function Pl(e,t,n){return"element"===t.type?function(e,t,n){const r=e.schema;let s=r;"svg"===t.tagName.toLowerCase()&&"html"===r.space&&(s=hl,e.schema=s);e.ancestors.push(t);const i=Vl(e,t.tagName,!1),A=function(e,t){const n={};let r,s;for(s in t.properties)if("children"!==s&&Ul.call(t.properties,s)){const i=jl(e,s,t.properties[s]);if(i){const[s,A]=i;e.tableCellAlignToStyle&&"align"===s&&"string"===typeof A&&Rl.has(t.tagName)?r=A:n[s]=A}}if(r){(n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=r}return n}(e,t);let o=Gl(e,t);Ol.has(t.tagName)&&(o=o.filter((function(e){return"string"!==typeof e||!("object"===typeof(t=e)?"text"===t.type&&Na(t.value):Na(t));var t})));return Hl(e,A,i,t),Kl(A,o),e.ancestors.pop(),e.schema=r,e.create(t,i,A,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}zl(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const r=e.schema;let s=r;"svg"===t.name&&"html"===r.space&&(s=hl,e.schema=s);e.ancestors.push(t);const i=null===t.name?e.Fragment:Vl(e,t.name,!0),A=function(e,t){const n={};for(const r of t.attributes)if("mdxJsxExpressionAttribute"===r.type)if(r.data&&r.data.estree&&e.evaluater){const t=r.data.estree.body[0];t.type;const s=t.expression;s.type;const i=s.properties[0];i.type,Object.assign(n,e.evaluater.evaluateExpression(i.argument))}else zl(e,t.position);else{const s=r.name;let i;if(r.value&&"object"===typeof r.value)if(r.value.data&&r.value.data.estree&&e.evaluater){const t=r.value.data.estree.body[0];t.type,i=e.evaluater.evaluateExpression(t.expression)}else zl(e,t.position);else i=null===r.value||r.value;n[s]=i}return n}(e,t),o=Gl(e,t);return Hl(e,A,i,t),Kl(A,o),e.ancestors.pop(),e.schema=r,e.create(t,i,A,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);zl(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const r={};return Kl(r,Gl(e,t)),e.create(t,e.Fragment,r,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function Hl(e,t,n,r){"string"!==typeof n&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Kl(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Gl(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:Ll;for(;++r<t.children.length;){const i=t.children[r];let A;if(e.passKeys){const e="element"===i.type?i.tagName:"mdxJsxFlowElement"===i.type||"mdxJsxTextElement"===i.type?i.name:void 0;if(e){const t=s.get(e)||0;A=e+"-"+t,s.set(e,t+1)}}const o=Pl(e,i,A);void 0!==o&&n.push(o)}return n}function jl(e,t,n){const r=gl(e.schema,t);if(!(null===n||void 0===n||"number"===typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Ua(n):El(n)),"style"===r.property){let t="object"===typeof n?n:function(e,t){const n={};try{vl(t,r)}catch(s){if(!e.ignoreInvalidStyle){const t=s,n=new Fl("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:t,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Nl+"#cannot-parse-style-attribute",n}}return n;function r(e,t){let r=e;"--"!==r.slice(0,2)&&("-ms-"===r.slice(0,4)&&(r="ms-"+r.slice(4)),r=r.replace(Dl,Yl)),n[r]=t}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)Ul.call(e,n)&&(t[Wl(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&r.space?yl[r.property]||r.property:r.attribute,n]}}function Vl(e,t,n){let r;if(n)if(t.includes(".")){const e=t.split(".");let n,s=-1;for(;++s<e.length;){const t=Oa(e[s])?{type:"Identifier",name:e[s]}:{type:"Literal",value:e[s]};n=n?{type:"MemberExpression",object:n,property:t,computed:Boolean(s&&"Literal"===t.type),optional:!1}:t}r=n}else r=Oa(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else r={type:"Literal",value:t};if("Literal"===r.type){const t=r.value;return Ul.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(r);zl(e)}function zl(e,t){const n=new Fl("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Nl+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Wl(e){let t=e.replace(Ql,Xl);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function Yl(e,t){return t.toUpperCase()}function Xl(e){return"-"+e.toLowerCase()}const ql={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},$l={};function Jl(e,t,n){if(function(e){return Boolean(e&&"object"===typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Zl(e.children,t,n)}return Array.isArray(e)?Zl(e,t,n):""}function Zl(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=Jl(e[s],t,n);return r.join("")}function ec(e,t,n,r){const s=e.length;let i,A=0;if(t=t<0?-t>s?0:s+t:t>s?s:t,n=n>0?n:0,r.length<1e4)i=Array.from(r),i.unshift(t,n),e.splice(...i);else for(n&&e.splice(t,n);A<r.length;)i=r.slice(A,A+1e4),i.unshift(t,0),e.splice(...i),A+=1e4,t+=1e4}function tc(e,t){return e.length>0?(ec(e,e.length,0,t),e):t}class nc{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null===t||void 0===t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const r=t||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return n&&rc(this.left,n),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),rc(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),rc(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);rc(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);rc(this.left,t.reverse())}}}function rc(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function sc(e){const t={};let n,r,s,i,A,o,a,l=-1;const c=new nc(e);for(;++l<c.length;){for(;l in t;)l=t[l];if(n=c.get(l),l&&"chunkFlow"===n[1].type&&"listItemPrefix"===c.get(l-1)[1].type&&(o=n[1]._tokenizer.events,s=0,s<o.length&&"lineEndingBlank"===o[s][1].type&&(s+=2),s<o.length&&"content"===o[s][1].type))for(;++s<o.length&&"content"!==o[s][1].type;)"chunkText"===o[s][1].type&&(o[s][1]._isInFirstContentOfListItem=!0,s++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,ic(c,l)),l=t[l],a=!0);else if(n[1]._container){for(s=l,r=void 0;s--&&(i=c.get(s),"lineEnding"===i[1].type||"lineEndingBlank"===i[1].type);)"enter"===i[0]&&(r&&(c.get(r)[1].type="lineEndingBlank"),i[1].type="lineEnding",r=s);r&&(n[1].end={...c.get(r)[1].start},A=c.slice(r,l),A.unshift(n),c.splice(r,l-r+1,A))}}return ec(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!a}function ic(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const i=[],A=n._tokenizer||r.parser[n.contentType](n.start),o=A.events,a=[],l={};let c,u,h=-1,d=n,p=0,f=0;const g=[f];for(;d;){for(;e.get(++s)[1]!==d;);i.push(s),d._tokenizer||(c=r.sliceStream(d),d.next||c.push(null),u&&A.defineSkip(d.start),d._isInFirstContentOfListItem&&(A._gfmTasklistFirstContentOfListItem=!0),A.write(c),d._isInFirstContentOfListItem&&(A._gfmTasklistFirstContentOfListItem=void 0)),u=d,d=d.next}for(d=n;++h<o.length;)"exit"===o[h][0]&&"enter"===o[h-1][0]&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(f=h+1,g.push(f),d._tokenizer=void 0,d.previous=void 0,d=d.next);for(A.events=[],d?(d._tokenizer=void 0,d.previous=void 0):g.pop(),h=g.length;h--;){const t=o.slice(g[h],g[h+1]),n=i.pop();a.push([n,n+t.length-1]),e.splice(n,2,t)}for(a.reverse(),h=-1;++h<a.length;)l[p+a[h][0]]=p+a[h][1],p+=a[h][1]-a[h][0]-1;return l}const Ac={}.hasOwnProperty;function oc(e,t){let n;for(n in t){const r=(Ac.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let i;if(s)for(i in s){Ac.call(r,i)||(r[i]=[]);const e=s[i];ac(r[i],Array.isArray(e)?e:e?[e]:[])}}}function ac(e,t){let n=-1;const r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);ec(e,0,0,r)}const lc=Ec(/[A-Za-z]/),cc=Ec(/[\dA-Za-z]/),uc=Ec(/[#-'*+\--9=?A-Z^-~]/);function hc(e){return null!==e&&(e<32||127===e)}const dc=Ec(/\d/),pc=Ec(/[\dA-Fa-f]/),fc=Ec(/[!-/:-@[-`{-~]/);function gc(e){return null!==e&&e<-2}function mc(e){return null!==e&&(e<0||32===e)}function wc(e){return-2===e||-1===e||32===e}const yc=Ec(/\p{P}|\p{S}/u),Bc=Ec(/\s/);function Ec(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function bc(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let i=0;return function(r){if(wc(r))return e.enter(n),A(r);return t(r)};function A(r){return wc(r)&&i++<s?(e.consume(r),A):(e.exit(n),t(r))}}const vc={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,(function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),bc(e,t,"linePrefix")}),(function(t){return e.enter("paragraph"),r(t)}));let n;return t;function r(t){const r=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,s(t)}function s(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):gc(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),s)}}};const Cc={tokenize:function(e){const t=this,n=[];let r,s,i,A=0;return o;function o(r){if(A<n.length){const s=n[A];return t.containerState=s[1],e.attempt(s[0].continuation,a,l)(r)}return l(r)}function a(e){if(A++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&w();const n=t.events.length;let s,i=n;for(;i--;)if("exit"===t.events[i][0]&&"chunkFlow"===t.events[i][1].type){s=t.events[i][1].end;break}m(A);let o=n;for(;o<t.events.length;)t.events[o][1].end={...s},o++;return ec(t.events,i+1,0,t.events.slice(n)),t.events.length=o,l(e)}return o(e)}function l(s){if(A===n.length){if(!r)return h(s);if(r.currentConstruct&&r.currentConstruct.concrete)return p(s);t.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Tc,c,u)(s)}function c(e){return r&&w(),m(A),h(e)}function u(e){return t.parser.lazy[t.now().line]=A!==n.length,i=t.now().offset,p(e)}function h(n){return t.containerState={},e.attempt(Tc,d,p)(n)}function d(e){return A++,n.push([t.currentConstruct,t.containerState]),h(e)}function p(n){return null===n?(r&&w(),m(0),void e.consume(n)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:s}),f(n))}function f(n){return null===n?(g(e.exit("chunkFlow"),!0),m(0),void e.consume(n)):gc(n)?(e.consume(n),g(e.exit("chunkFlow")),A=0,t.interrupt=void 0,o):(e.consume(n),f)}function g(e,n){const o=t.sliceStream(e);if(n&&o.push(null),e.previous=s,s&&(s.next=e),s=e,r.defineSkip(e.start),r.write(o),t.parser.lazy[e.start.line]){let e=r.events.length;for(;e--;)if(r.events[e][1].start.offset<i&&(!r.events[e][1].end||r.events[e][1].end.offset>i))return;const n=t.events.length;let s,o,a=n;for(;a--;)if("exit"===t.events[a][0]&&"chunkFlow"===t.events[a][1].type){if(s){o=t.events[a][1].end;break}s=!0}for(m(A),e=n;e<t.events.length;)t.events[e][1].end={...o},e++;ec(t.events,a+1,0,t.events.slice(n)),t.events.length=e}}function m(r){let s=n.length;for(;s-- >r;){const r=n[s];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function w(){r.write([null]),s=void 0,r=void 0,t.containerState._closeFlow=void 0}}},Tc={tokenize:function(e,t,n){return bc(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};const _c={partial:!0,tokenize:function(e,t,n){return function(t){return wc(t)?bc(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||gc(e)?t(e):n(e)}}};const Sc={resolve:function(e){return sc(e),e},tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?s(t):gc(t)?e.check(Ic,i,s)(t):(e.consume(t),r)}function s(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function i(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}},Ic={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),bc(e,s,"linePrefix")};function s(s){if(null===s||gc(s))return n(s);const i=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&i&&"linePrefix"===i[1].type&&i[2].sliceSerialize(i[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}};const xc={tokenize:function(e){const t=this,n=e.attempt(_c,(function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}),e.attempt(this.parser.constructs.flowInitial,r,bc(e,e.attempt(this.parser.constructs.flow,r,e.attempt(Sc,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};const kc={resolveAll:Qc()},Fc=Lc("string"),Uc=Lc("text");function Lc(e){return{resolveAll:Qc("text"===e?Dc:void 0),tokenize:function(t){const n=this,r=this.parser.constructs[e],s=t.attempt(r,i,A);return i;function i(e){return a(e)?s(e):A(e)}function A(e){if(null!==e)return t.enter("data"),t.consume(e),o;t.consume(e)}function o(e){return a(e)?(t.exit("data"),s(e)):(t.consume(e),o)}function a(e){if(null===e)return!0;const t=r[e];let s=-1;if(t)for(;++s<t.length;){const e=t[s];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}}}}function Qc(e){return function(t,n){let r,s=-1;for(;++s<=t.length;)void 0===r?t[s]&&"data"===t[s][1].type&&(r=s,s++):t[s]&&"data"===t[s][1].type||(s!==r+2&&(t[r][1].end=t[s-1][1].end,t.splice(r+2,s-r-2),s=r+2),r=void 0);return e?e(t,n):t}}function Dc(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const r=e[n-1][1],s=t.sliceStream(r);let i,A=s.length,o=-1,a=0;for(;A--;){const e=s[A];if("string"===typeof e){for(o=e.length;32===e.charCodeAt(o-1);)a++,o--;if(o)break;o=-1}else if(-2===e)i=!0,a++;else if(-1!==e){A++;break}}if(a){const s={type:n===e.length||i||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:A?o:r.start._bufferIndex+o,_index:r.start._index+A,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...s.start},r.start.offset===r.end.offset?Object.assign(r,s):(e.splice(n,0,["enter",s,t],["exit",s,t]),n+=2)}n++}return e}const Oc={name:"thematicBreak",tokenize:function(e,t,n){let r,s=0;return function(t){return e.enter("thematicBreak"),function(e){return r=e,i(e)}(t)};function i(i){return i===r?(e.enter("thematicBreakSequence"),A(i)):s>=3&&(null===i||gc(i))?(e.exit("thematicBreak"),t(i)):n(i)}function A(t){return t===r?(e.consume(t),s++,A):(e.exit("thematicBreakSequence"),wc(t)?bc(e,i,"whitespace")(t):i(t))}}};const Rc={continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(_c,s,i);function s(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,bc(e,t,"listItemIndent",r.containerState.size+1)(n)}function i(n){return r.containerState.furtherBlankLines||!wc(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,A(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Mc,t,A)(n))}function A(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,bc(e,e.attempt(Rc,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,n){const r=this,s=r.events[r.events.length-1];let i=s&&"linePrefix"===s[1].type?s[2].sliceSerialize(s[1],!0).length:0,A=0;return function(t){const s=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===s?!r.containerState.marker||t===r.containerState.marker:dc(t)){if(r.containerState.type||(r.containerState.type=s,e.enter(s,{_container:!0})),"listUnordered"===s)return e.enter("listItemPrefix"),42===t||45===t?e.check(Oc,n,a)(t):a(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),o(t)}return n(t)};function o(t){return dc(t)&&++A<10?(e.consume(t),o):(!r.interrupt||A<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),a(t)):n(t)}function a(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(_c,r.interrupt?n:l,e.attempt(Nc,u,c))}function l(e){return r.containerState.initialBlankLine=!0,i++,u(e)}function c(t){return wc(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),u):n(t)}function u(n){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}}},Nc={partial:!0,tokenize:function(e,t,n){const r=this;return bc(e,(function(e){const s=r.events[r.events.length-1];return!wc(e)&&s&&"listItemPrefixWhitespace"===s[1].type?t(e):n(e)}),"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},Mc={partial:!0,tokenize:function(e,t,n){const r=this;return bc(e,(function(e){const s=r.events[r.events.length-1];return s&&"listItemIndent"===s[1].type&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(e):n(e)}),"listItemIndent",r.containerState.size+1)}};const Pc={continuation:{tokenize:function(e,t,n){const r=this;return function(t){if(wc(t))return bc(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return s(t)};function s(r){return e.attempt(Pc,t,n)(r)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(t){if(62===t){const n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),s}return n(t)};function s(n){return wc(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}}};function Hc(e,t,n,r,s,i,A,o,a){const l=a||Number.POSITIVE_INFINITY;let c=0;return function(t){if(60===t)return e.enter(r),e.enter(s),e.enter(i),e.consume(t),e.exit(i),u;if(null===t||32===t||41===t||hc(t))return n(t);return e.enter(r),e.enter(A),e.enter(o),e.enter("chunkString",{contentType:"string"}),p(t)};function u(n){return 62===n?(e.enter(i),e.consume(n),e.exit(i),e.exit(s),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),h(n))}function h(t){return 62===t?(e.exit("chunkString"),e.exit(o),u(t)):null===t||60===t||gc(t)?n(t):(e.consume(t),92===t?d:h)}function d(t){return 60===t||62===t||92===t?(e.consume(t),h):h(t)}function p(s){return c||null!==s&&41!==s&&!mc(s)?c<l&&40===s?(e.consume(s),c++,p):41===s?(e.consume(s),c--,p):null===s||32===s||40===s||hc(s)?n(s):(e.consume(s),92===s?f:p):(e.exit("chunkString"),e.exit(o),e.exit(A),e.exit(r),t(s))}function f(t){return 40===t||41===t||92===t?(e.consume(t),p):p(t)}}function Kc(e,t,n,r,s,i){const A=this;let o,a=0;return function(t){return e.enter(r),e.enter(s),e.consume(t),e.exit(s),e.enter(i),l};function l(u){return a>999||null===u||91===u||93===u&&!o||94===u&&!a&&"_hiddenFootnoteSupport"in A.parser.constructs?n(u):93===u?(e.exit(i),e.enter(s),e.consume(u),e.exit(s),e.exit(r),t):gc(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),l):(e.enter("chunkString",{contentType:"string"}),c(u))}function c(t){return null===t||91===t||93===t||gc(t)||a++>999?(e.exit("chunkString"),l(t)):(e.consume(t),o||(o=!wc(t)),92===t?u:c)}function u(t){return 91===t||92===t||93===t?(e.consume(t),a++,c):c(t)}}function Gc(e,t,n,r,s,i){let A;return function(t){if(34===t||39===t||40===t)return e.enter(r),e.enter(s),e.consume(t),e.exit(s),A=40===t?41:t,o;return n(t)};function o(n){return n===A?(e.enter(s),e.consume(n),e.exit(s),e.exit(r),t):(e.enter(i),a(n))}function a(t){return t===A?(e.exit(i),o(A)):null===t?n(t):gc(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),bc(e,a,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),l(t))}function l(t){return t===A||null===t||gc(t)?(e.exit("chunkString"),a(t)):(e.consume(t),92===t?c:l)}function c(t){return t===A||92===t?(e.consume(t),l):l(t)}}function jc(e,t){let n;return function r(s){if(gc(s))return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r;if(wc(s))return bc(e,r,n?"linePrefix":"lineSuffix")(s);return t(s)}}function Vc(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const zc={name:"definition",tokenize:function(e,t,n){const r=this;let s;return function(t){return e.enter("definition"),function(t){return Kc.call(r,e,i,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function i(t){return s=Vc(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),A):n(t)}function A(t){return mc(t)?jc(e,o)(t):o(t)}function o(t){return Hc(e,a,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function a(t){return e.attempt(Wc,l,l)(t)}function l(t){return wc(t)?bc(e,c,"whitespace")(t):c(t)}function c(i){return null===i||gc(i)?(e.exit("definition"),r.parser.defined.push(s),t(i)):n(i)}}},Wc={partial:!0,tokenize:function(e,t,n){return function(t){return mc(t)?jc(e,r)(t):n(t)};function r(t){return Gc(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function s(t){return wc(t)?bc(e,i,"whitespace")(t):i(t)}function i(e){return null===e||gc(e)?t(e):n(e)}}};const Yc={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("codeIndented"),bc(e,s,"linePrefix",5)(t)};function s(e){const t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?i(e):n(e)}function i(t){return null===t?o(t):gc(t)?e.attempt(Xc,i,o)(t):(e.enter("codeFlowValue"),A(t))}function A(t){return null===t||gc(t)?(e.exit("codeFlowValue"),i(t)):(e.consume(t),A)}function o(n){return e.exit("codeIndented"),t(n)}}},Xc={partial:!0,tokenize:function(e,t,n){const r=this;return s;function s(t){return r.parser.lazy[r.now().line]?n(t):gc(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s):bc(e,i,"linePrefix",5)(t)}function i(e){const i=r.events[r.events.length-1];return i&&"linePrefix"===i[1].type&&i[2].sliceSerialize(i[1],!0).length>=4?t(e):gc(e)?s(e):n(e)}}};const qc={name:"headingAtx",resolve:function(e,t){let n,r,s=e.length-2,i=3;"whitespace"===e[i][1].type&&(i+=2);s-2>i&&"whitespace"===e[s][1].type&&(s-=2);"atxHeadingSequence"===e[s][1].type&&(i===s-1||s-4>i&&"whitespace"===e[s-2][1].type)&&(s-=i+1===s?2:4);s>i&&(n={type:"atxHeadingText",start:e[i][1].start,end:e[s][1].end},r={type:"chunkText",start:e[i][1].start,end:e[s][1].end,contentType:"text"},ec(e,i,s-i+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e},tokenize:function(e,t,n){let r=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),s(t)}(t)};function s(t){return 35===t&&r++<6?(e.consume(t),s):null===t||mc(t)?(e.exit("atxHeadingSequence"),i(t)):n(t)}function i(n){return 35===n?(e.enter("atxHeadingSequence"),A(n)):null===n||gc(n)?(e.exit("atxHeading"),t(n)):wc(n)?bc(e,i,"whitespace")(n):(e.enter("atxHeadingText"),o(n))}function A(t){return 35===t?(e.consume(t),A):(e.exit("atxHeadingSequence"),i(t))}function o(t){return null===t||35===t||mc(t)?(e.exit("atxHeadingText"),i(t)):(e.consume(t),o)}}};const $c={name:"setextUnderline",resolveTo:function(e,t){let n,r,s,i=e.length;for(;i--;)if("enter"===e[i][0]){if("content"===e[i][1].type){n=i;break}"paragraph"===e[i][1].type&&(r=i)}else"content"===e[i][1].type&&e.splice(i,1),s||"definition"!==e[i][1].type||(s=i);const A={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};e[r][1].type="setextHeadingText",s?(e.splice(r,0,["enter",A,t]),e.splice(s+1,0,["exit",e[n][1],t]),e[n][1].end={...e[s][1].end}):e[n][1]=A;return e.push(["exit",A,t]),e},tokenize:function(e,t,n){const r=this;let s;return function(t){let A,o=r.events.length;for(;o--;)if("lineEnding"!==r.events[o][1].type&&"linePrefix"!==r.events[o][1].type&&"content"!==r.events[o][1].type){A="paragraph"===r.events[o][1].type;break}if(!r.parser.lazy[r.now().line]&&(r.interrupt||A))return e.enter("setextHeadingLine"),s=t,function(t){return e.enter("setextHeadingLineSequence"),i(t)}(t);return n(t)};function i(t){return t===s?(e.consume(t),i):(e.exit("setextHeadingLineSequence"),wc(t)?bc(e,A,"lineSuffix")(t):A(t))}function A(r){return null===r||gc(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}}};const Jc=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Zc=["pre","script","style","textarea"],eu={concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},tokenize:function(e,t,n){const r=this;let s,i,A,o,a;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),l}(t)};function l(o){return 33===o?(e.consume(o),c):47===o?(e.consume(o),i=!0,d):63===o?(e.consume(o),s=3,r.interrupt?t:Q):lc(o)?(e.consume(o),A=String.fromCharCode(o),p):n(o)}function c(i){return 45===i?(e.consume(i),s=2,u):91===i?(e.consume(i),s=5,o=0,h):lc(i)?(e.consume(i),s=4,r.interrupt?t:Q):n(i)}function u(s){return 45===s?(e.consume(s),r.interrupt?t:Q):n(s)}function h(s){const i="CDATA[";return s===i.charCodeAt(o++)?(e.consume(s),6===o?r.interrupt?t:_:h):n(s)}function d(t){return lc(t)?(e.consume(t),A=String.fromCharCode(t),p):n(t)}function p(o){if(null===o||47===o||62===o||mc(o)){const a=47===o,l=A.toLowerCase();return a||i||!Zc.includes(l)?Jc.includes(A.toLowerCase())?(s=6,a?(e.consume(o),f):r.interrupt?t(o):_(o)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(o):i?g(o):m(o)):(s=1,r.interrupt?t(o):_(o))}return 45===o||cc(o)?(e.consume(o),A+=String.fromCharCode(o),p):n(o)}function f(s){return 62===s?(e.consume(s),r.interrupt?t:_):n(s)}function g(t){return wc(t)?(e.consume(t),g):C(t)}function m(t){return 47===t?(e.consume(t),C):58===t||95===t||lc(t)?(e.consume(t),w):wc(t)?(e.consume(t),m):C(t)}function w(t){return 45===t||46===t||58===t||95===t||cc(t)?(e.consume(t),w):y(t)}function y(t){return 61===t?(e.consume(t),B):wc(t)?(e.consume(t),y):m(t)}function B(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),a=t,E):wc(t)?(e.consume(t),B):b(t)}function E(t){return t===a?(e.consume(t),a=null,v):null===t||gc(t)?n(t):(e.consume(t),E)}function b(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||mc(t)?y(t):(e.consume(t),b)}function v(e){return 47===e||62===e||wc(e)?m(e):n(e)}function C(t){return 62===t?(e.consume(t),T):n(t)}function T(t){return null===t||gc(t)?_(t):wc(t)?(e.consume(t),T):n(t)}function _(t){return 45===t&&2===s?(e.consume(t),k):60===t&&1===s?(e.consume(t),F):62===t&&4===s?(e.consume(t),D):63===t&&3===s?(e.consume(t),Q):93===t&&5===s?(e.consume(t),L):!gc(t)||6!==s&&7!==s?null===t||gc(t)?(e.exit("htmlFlowData"),S(t)):(e.consume(t),_):(e.exit("htmlFlowData"),e.check(tu,O,S)(t))}function S(t){return e.check(nu,I,O)(t)}function I(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),x}function x(t){return null===t||gc(t)?S(t):(e.enter("htmlFlowData"),_(t))}function k(t){return 45===t?(e.consume(t),Q):_(t)}function F(t){return 47===t?(e.consume(t),A="",U):_(t)}function U(t){if(62===t){const n=A.toLowerCase();return Zc.includes(n)?(e.consume(t),D):_(t)}return lc(t)&&A.length<8?(e.consume(t),A+=String.fromCharCode(t),U):_(t)}function L(t){return 93===t?(e.consume(t),Q):_(t)}function Q(t){return 62===t?(e.consume(t),D):45===t&&2===s?(e.consume(t),Q):_(t)}function D(t){return null===t||gc(t)?(e.exit("htmlFlowData"),O(t)):(e.consume(t),D)}function O(n){return e.exit("htmlFlow"),t(n)}}},tu={partial:!0,tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(_c,t,n)}}},nu={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(gc(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s;return n(t)};function s(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}};const ru={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s};function s(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}},su={concrete:!0,name:"codeFenced",tokenize:function(e,t,n){const r=this,s={partial:!0,tokenize:function(e,t,n){let s=0;return A;function A(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a}function a(t){return e.enter("codeFencedFence"),wc(t)?bc(e,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):l(t)}function l(t){return t===i?(e.enter("codeFencedFenceSequence"),c(t)):n(t)}function c(t){return t===i?(s++,e.consume(t),c):s>=o?(e.exit("codeFencedFenceSequence"),wc(t)?bc(e,u,"whitespace")(t):u(t)):n(t)}function u(r){return null===r||gc(r)?(e.exit("codeFencedFence"),t(r)):n(r)}}};let i,A=0,o=0;return function(t){return function(t){const n=r.events[r.events.length-1];return A=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,i=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),a(t)}(t)};function a(t){return t===i?(o++,e.consume(t),a):o<3?n(t):(e.exit("codeFencedFenceSequence"),wc(t)?bc(e,l,"whitespace")(t):l(t))}function l(n){return null===n||gc(n)?(e.exit("codeFencedFence"),r.interrupt?t(n):e.check(ru,d,w)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),c(n))}function c(t){return null===t||gc(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),l(t)):wc(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),bc(e,u,"whitespace")(t)):96===t&&t===i?n(t):(e.consume(t),c)}function u(t){return null===t||gc(t)?l(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(t))}function h(t){return null===t||gc(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),l(t)):96===t&&t===i?n(t):(e.consume(t),h)}function d(t){return e.attempt(s,w,p)(t)}function p(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),f}function f(t){return A>0&&wc(t)?bc(e,g,"linePrefix",A+1)(t):g(t)}function g(t){return null===t||gc(t)?e.check(ru,d,w)(t):(e.enter("codeFlowValue"),m(t))}function m(t){return null===t||gc(t)?(e.exit("codeFlowValue"),g(t)):(e.consume(t),m)}function w(n){return e.exit("codeFenced"),t(n)}}};const iu=document.createElement("i");function Au(e){const t="&"+e+";";iu.innerHTML=t;const n=iu.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}const ou={name:"characterReference",tokenize:function(e,t,n){const r=this;let s,i,A=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),o};function o(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),a):(e.enter("characterReferenceValue"),s=31,i=cc,l(t))}function a(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,i=pc,l):(e.enter("characterReferenceValue"),s=7,i=dc,l(t))}function l(o){if(59===o&&A){const s=e.exit("characterReferenceValue");return i!==cc||Au(r.sliceSerialize(s))?(e.enter("characterReferenceMarker"),e.consume(o),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(o)}return i(o)&&A++<s?(e.consume(o),l):n(o)}}};const au={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return fc(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};const lu={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),bc(e,t,"linePrefix")}}};function cu(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const i=e[s].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const uu={name:"labelEnd",resolveAll:function(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),"labelImage"===r.type||"labelLink"===r.type||"labelEnd"===r.type){const e="labelImage"===r.type?4:2;r.type="data",t+=e}}e.length!==n.length&&ec(e,0,e.length,n);return e},resolveTo:function(e,t){let n,r,s,i,A=e.length,o=0;for(;A--;)if(n=e[A][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[A][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(s){if("enter"===e[A][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=A,"labelLink"!==n.type)){o=2;break}}else"labelEnd"===n.type&&(s=A);const a={type:"labelLink"===e[r][1].type?"link":"image",start:{...e[r][1].start},end:{...e[e.length-1][1].end}},l={type:"label",start:{...e[r][1].start},end:{...e[s][1].end}},c={type:"labelText",start:{...e[r+o+2][1].end},end:{...e[s-2][1].start}};return i=[["enter",a,t],["enter",l,t]],i=tc(i,e.slice(r+1,r+o+3)),i=tc(i,[["enter",c,t]]),i=tc(i,cu(t.parser.constructs.insideSpan.null,e.slice(r+o+4,s-3),t)),i=tc(i,[["exit",c,t],e[s-2],e[s-1],["exit",l,t]]),i=tc(i,e.slice(s+1)),i=tc(i,[["exit",a,t]]),ec(e,r,e.length,i),e},tokenize:function(e,t,n){const r=this;let s,i,A=r.events.length;for(;A--;)if(("labelImage"===r.events[A][1].type||"labelLink"===r.events[A][1].type)&&!r.events[A][1]._balanced){s=r.events[A][1];break}return function(t){if(!s)return n(t);if(s._inactive)return c(t);return i=r.parser.defined.includes(Vc(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),o};function o(t){return 40===t?e.attempt(hu,l,i?l:c)(t):91===t?e.attempt(du,l,i?a:c)(t):i?l(t):c(t)}function a(t){return e.attempt(pu,l,c)(t)}function l(e){return t(e)}function c(e){return s._balanced=!0,n(e)}}},hu={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return mc(t)?jc(e,s)(t):s(t)}function s(t){return 41===t?l(t):Hc(e,i,A,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function i(t){return mc(t)?jc(e,o)(t):l(t)}function A(e){return n(e)}function o(t){return 34===t||39===t||40===t?Gc(e,a,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):l(t)}function a(t){return mc(t)?jc(e,l)(t):l(t)}function l(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},du={tokenize:function(e,t,n){const r=this;return function(t){return Kc.call(r,e,s,i,"reference","referenceMarker","referenceString")(t)};function s(e){return r.parser.defined.includes(Vc(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function i(e){return n(e)}}},pu={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};const fu={name:"labelStartImage",resolveAll:uu.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),s};function s(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),i):n(t)}function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};function gu(e){return null===e||mc(e)||Bc(e)?1:yc(e)?2:void 0}const mu={name:"attention",resolveAll:function(e,t){let n,r,s,i,A,o,a,l,c=-1;for(;++c<e.length;)if("enter"===e[c][0]&&"attentionSequence"===e[c][1].type&&e[c][1]._close)for(n=c;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[c][1]).charCodeAt(0)){if((e[n][1]._close||e[c][1]._open)&&(e[c][1].end.offset-e[c][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[c][1].end.offset-e[c][1].start.offset)%3))continue;o=e[n][1].end.offset-e[n][1].start.offset>1&&e[c][1].end.offset-e[c][1].start.offset>1?2:1;const u={...e[n][1].end},h={...e[c][1].start};wu(u,-o),wu(h,o),i={type:o>1?"strongSequence":"emphasisSequence",start:u,end:{...e[n][1].end}},A={type:o>1?"strongSequence":"emphasisSequence",start:{...e[c][1].start},end:h},s={type:o>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[c][1].start}},r={type:o>1?"strong":"emphasis",start:{...i.start},end:{...A.end}},e[n][1].end={...i.start},e[c][1].start={...A.end},a=[],e[n][1].end.offset-e[n][1].start.offset&&(a=tc(a,[["enter",e[n][1],t],["exit",e[n][1],t]])),a=tc(a,[["enter",r,t],["enter",i,t],["exit",i,t],["enter",s,t]]),a=tc(a,cu(t.parser.constructs.insideSpan.null,e.slice(n+1,c),t)),a=tc(a,[["exit",s,t],["enter",A,t],["exit",A,t],["exit",r,t]]),e[c][1].end.offset-e[c][1].start.offset?(l=2,a=tc(a,[["enter",e[c][1],t],["exit",e[c][1],t]])):l=0,ec(e,n-1,c-n+3,a),c=n+a.length-l-2;break}c=-1;for(;++c<e.length;)"attentionSequence"===e[c][1].type&&(e[c][1].type="data");return e},tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=gu(r);let i;return function(t){return i=t,e.enter("attentionSequence"),A(t)};function A(o){if(o===i)return e.consume(o),A;const a=e.exit("attentionSequence"),l=gu(o),c=!l||2===l&&s||n.includes(o),u=!s||2===s&&l||n.includes(r);return a._open=Boolean(42===i?c:c&&(s||!u)),a._close=Boolean(42===i?u:u&&(l||!c)),t(o)}}};function wu(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const yu={name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s};function s(t){return lc(t)?(e.consume(t),i):64===t?n(t):a(t)}function i(e){return 43===e||45===e||46===e||cc(e)?(r=1,A(e)):a(e)}function A(t){return 58===t?(e.consume(t),r=0,o):(43===t||45===t||46===t||cc(t))&&r++<32?(e.consume(t),A):(r=0,a(t))}function o(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||hc(r)?n(r):(e.consume(r),o)}function a(t){return 64===t?(e.consume(t),l):uc(t)?(e.consume(t),a):n(t)}function l(e){return cc(e)?c(e):n(e)}function c(n){return 46===n?(e.consume(n),r=0,l):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):u(n)}function u(t){if((45===t||cc(t))&&r++<63){const n=45===t?u:c;return e.consume(t),n}return n(t)}}};const Bu={name:"htmlText",tokenize:function(e,t,n){const r=this;let s,i,A;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),o};function o(t){return 33===t?(e.consume(t),a):47===t?(e.consume(t),B):63===t?(e.consume(t),w):lc(t)?(e.consume(t),v):n(t)}function a(t){return 45===t?(e.consume(t),l):91===t?(e.consume(t),i=0,d):lc(t)?(e.consume(t),m):n(t)}function l(t){return 45===t?(e.consume(t),h):n(t)}function c(t){return null===t?n(t):45===t?(e.consume(t),u):gc(t)?(A=c,U(t)):(e.consume(t),c)}function u(t){return 45===t?(e.consume(t),h):c(t)}function h(e){return 62===e?F(e):45===e?u(e):c(e)}function d(t){const r="CDATA[";return t===r.charCodeAt(i++)?(e.consume(t),6===i?p:d):n(t)}function p(t){return null===t?n(t):93===t?(e.consume(t),f):gc(t)?(A=p,U(t)):(e.consume(t),p)}function f(t){return 93===t?(e.consume(t),g):p(t)}function g(t){return 62===t?F(t):93===t?(e.consume(t),g):p(t)}function m(t){return null===t||62===t?F(t):gc(t)?(A=m,U(t)):(e.consume(t),m)}function w(t){return null===t?n(t):63===t?(e.consume(t),y):gc(t)?(A=w,U(t)):(e.consume(t),w)}function y(e){return 62===e?F(e):w(e)}function B(t){return lc(t)?(e.consume(t),E):n(t)}function E(t){return 45===t||cc(t)?(e.consume(t),E):b(t)}function b(t){return gc(t)?(A=b,U(t)):wc(t)?(e.consume(t),b):F(t)}function v(t){return 45===t||cc(t)?(e.consume(t),v):47===t||62===t||mc(t)?C(t):n(t)}function C(t){return 47===t?(e.consume(t),F):58===t||95===t||lc(t)?(e.consume(t),T):gc(t)?(A=C,U(t)):wc(t)?(e.consume(t),C):F(t)}function T(t){return 45===t||46===t||58===t||95===t||cc(t)?(e.consume(t),T):_(t)}function _(t){return 61===t?(e.consume(t),S):gc(t)?(A=_,U(t)):wc(t)?(e.consume(t),_):C(t)}function S(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),s=t,I):gc(t)?(A=S,U(t)):wc(t)?(e.consume(t),S):(e.consume(t),x)}function I(t){return t===s?(e.consume(t),s=void 0,k):null===t?n(t):gc(t)?(A=I,U(t)):(e.consume(t),I)}function x(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||mc(t)?C(t):(e.consume(t),x)}function k(e){return 47===e||62===e||mc(e)?C(e):n(e)}function F(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function U(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),L}function L(t){return wc(t)?bc(e,Q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):Q(t)}function Q(t){return e.enter("htmlTextData"),A(t)}}};const Eu={name:"labelStartLink",resolveAll:uu.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),s};function s(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};const bu={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return gc(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}};const vu={name:"codeText",previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(e){let t,n,r=e.length-4,s=3;if(("lineEnding"===e[s][1].type||"space"===e[s][1].type)&&("lineEnding"===e[r][1].type||"space"===e[r][1].type))for(t=s;++t<r;)if("codeTextData"===e[t][1].type){e[s][1].type="codeTextPadding",e[r][1].type="codeTextPadding",s+=2,r-=2;break}t=s-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},tokenize:function(e,t,n){let r,s,i=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),A(t)};function A(t){return 96===t?(e.consume(t),i++,A):(e.exit("codeTextSequence"),o(t))}function o(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),o):96===t?(s=e.enter("codeTextSequence"),r=0,l(t)):gc(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o):(e.enter("codeTextData"),a(t))}function a(t){return null===t||32===t||96===t||gc(t)?(e.exit("codeTextData"),o(t)):(e.consume(t),a)}function l(n){return 96===n?(e.consume(n),r++,l):r===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(s.type="codeTextData",a(n))}}};const Cu={42:Rc,43:Rc,45:Rc,48:Rc,49:Rc,50:Rc,51:Rc,52:Rc,53:Rc,54:Rc,55:Rc,56:Rc,57:Rc,62:Pc},Tu={91:zc},_u={[-2]:Yc,[-1]:Yc,32:Yc},Su={35:qc,42:Oc,45:[$c,Oc],60:eu,61:$c,95:Oc,96:su,126:su},Iu={38:ou,92:au},xu={[-5]:lu,[-4]:lu,[-3]:lu,33:fu,38:ou,42:mu,60:[yu,Bu],91:Eu,92:[bu,au],93:uu,95:mu,96:vu},ku={null:[mu,kc]},Fu={null:[42,95]},Uu={null:[]};function Lu(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},i=[];let A=[],o=[],a=!0;const l={attempt:w((function(e,t){y(e,t.from)})),check:w(m),consume:function(e){gc(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,B()):-1!==e&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===A[r._index].length&&(r._bufferIndex=-1,r._index++));c.previous=e,a=!0},enter:function(e,t){const n=t||{};return n.type=e,n.start=p(),c.events.push(["enter",n,c]),o.push(n),n},exit:function(e){const t=o.pop();return t.end=p(),c.events.push(["exit",t,c]),t},interrupt:w(m,{interrupt:!0})},c={code:null,containerState:{},defineSkip:function(e){s[e.line]=e.column,B()},events:[],now:p,parser:e,previous:null,sliceSerialize:function(e,t){return function(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const i=e[n];let A;if("string"===typeof i)A=i;else switch(i){case-5:A="\r";break;case-4:A="\n";break;case-3:A="\r\n";break;case-2:A=t?" ":"\t";break;case-1:if(!t&&s)continue;A=" ";break;default:A=String.fromCharCode(i)}s=-2===i,r.push(A)}return r.join("")}(d(e),t)},sliceStream:d,write:function(e){if(A=tc(A,e),f(),null!==A[A.length-1])return[];return y(t,0),c.events=cu(i,c.events,c),c.events}};let u,h=t.tokenize.call(c,l);return t.resolveAll&&i.push(t),c;function d(e){return function(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,i=t.end._bufferIndex;let A;if(n===s)A=[e[n].slice(r,i)];else{if(A=e.slice(n,s),r>-1){const e=A[0];"string"===typeof e?A[0]=e.slice(r):A.shift()}i>0&&A.push(e[s].slice(0,i))}return A}(A,e)}function p(){const{_bufferIndex:e,_index:t,line:n,column:s,offset:i}=r;return{_bufferIndex:e,_index:t,line:n,column:s,offset:i}}function f(){let e;for(;r._index<A.length;){const t=A[r._index];if("string"===typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)g(t.charCodeAt(r._bufferIndex));else g(t)}}function g(e){a=void 0,u=e,h=h(e)}function m(e,t){t.restore()}function w(e,t){return function(n,s,i){let A,u,h,d;return Array.isArray(n)?f(n):"tokenize"in n?f([n]):function(e){return t;function t(t){const n=null!==t&&e[t],r=null!==t&&e.null;return f([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(t)}}(n);function f(e){return A=e,u=0,0===e.length?i:g(e[u])}function g(e){return function(n){d=function(){const e=p(),t=c.previous,n=c.currentConstruct,s=c.events.length,i=Array.from(o);return{from:s,restore:A};function A(){r=e,c.previous=t,c.currentConstruct=n,c.events.length=s,o=i,B()}}(),h=e,e.partial||(c.currentConstruct=e);if(e.name&&c.parser.constructs.disable.null.includes(e.name))return w(n);return e.tokenize.call(t?Object.assign(Object.create(c),t):c,l,m,w)(n)}}function m(t){return a=!0,e(h,d),s}function w(e){return a=!0,d.restore(),++u<A.length?g(A[u]):i}}}function y(e,t){e.resolveAll&&!i.includes(e)&&i.push(e),e.resolve&&ec(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function B(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function Qu(e){const t=function(e){const t={};let n=-1;for(;++n<e.length;)oc(t,e[n]);return t}([r,...(e||{}).extensions||[]]),n={constructs:t,content:s(vc),defined:[],document:s(Cc),flow:s(xc),lazy:{},string:s(Fc),text:s(Uc)};return n;function s(e){return function(t){return Lu(n,e,t)}}}const Du=/[\0\t\n\r]/g;function Ou(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535===(65535&n)||65534===(65535&n)||n>1114111?"\ufffd":String.fromCodePoint(n)}const Ru=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Nu(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return Ou(n.slice(t?2:1),t?16:10)}return Au(n)||e}const Mu={}.hasOwnProperty;function Pu(e,t,n){return"string"!==typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(te),autolinkProtocol:T,autolinkEmail:T,atxHeading:i($),blockQuote:i(z),characterEscape:T,characterReference:T,codeFenced:i(W),codeFencedFenceInfo:A,codeFencedFenceMeta:A,codeIndented:i(W,A),codeText:i(Y,A),codeTextData:T,data:T,codeFlowValue:T,definition:i(X),definitionDestinationString:A,definitionLabelString:A,definitionTitleString:A,emphasis:i(q),hardBreakEscape:i(J),hardBreakTrailing:i(J),htmlFlow:i(Z,A),htmlFlowData:T,htmlText:i(Z,A),htmlTextData:T,image:i(ee),label:A,link:i(te),listItem:i(re),listItemValue:h,listOrdered:i(ne,u),listUnordered:i(ne),paragraph:i(se),reference:M,referenceString:A,resourceDestinationString:A,resourceTitleString:A,setextHeading:i($),strong:i(ie),thematicBreak:i(oe)},exit:{atxHeading:a(),atxHeadingSequence:E,autolink:a(),autolinkEmail:V,autolinkProtocol:j,blockQuote:a(),characterEscapeValue:_,characterReferenceMarkerHexadecimal:H,characterReferenceMarkerNumeric:H,characterReferenceValue:K,characterReference:G,codeFenced:a(g),codeFencedFence:f,codeFencedFenceInfo:d,codeFencedFenceMeta:p,codeFlowValue:_,codeIndented:a(m),codeText:a(F),codeTextData:_,data:_,definition:a(),definitionDestinationString:B,definitionLabelString:w,definitionTitleString:y,emphasis:a(),hardBreakEscape:a(I),hardBreakTrailing:a(I),htmlFlow:a(x),htmlFlowData:_,htmlText:a(k),htmlTextData:_,image:a(L),label:D,labelText:Q,lineEnding:S,link:a(U),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:P,resourceDestinationString:O,resourceTitleString:R,resource:N,setextHeading:a(C),setextHeadingLineSequence:v,setextHeadingText:b,strong:a(),thematicBreak:a()}};Ku(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(e){let r={type:"root",children:[]};const i={stack:[r],tokenStack:[],config:t,enter:o,exit:l,buffer:A,resume:c,data:n},a=[];let u=-1;for(;++u<e.length;)if("listOrdered"===e[u][1].type||"listUnordered"===e[u][1].type)if("enter"===e[u][0])a.push(u);else{u=s(e,a.pop(),u)}for(u=-1;++u<e.length;){const n=t[e[u][0]];Mu.call(n,e[u][1].type)&&n[e[u][1].type].call(Object.assign({sliceSerialize:e[u][2].sliceSerialize},i),e[u][1])}if(i.tokenStack.length>0){const e=i.tokenStack[i.tokenStack.length-1];(e[1]||ju).call(i,void 0,e[0])}for(r.position={start:Hu(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:Hu(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},u=-1;++u<t.transforms.length;)r=t.transforms[u](r)||r;return r}function s(e,t,n){let r,s,i,A,o=t-1,a=-1,l=!1;for(;++o<=n;){const t=e[o];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?a++:a--,A=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!r||A||a||i||(i=o),A=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:A=void 0}if(!a&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===a&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(r){let A=o;for(s=void 0;A--;){const t=e[A];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;s&&(e[s][1].type="lineEndingBlank",l=!0),t[1].type="lineEnding",s=A}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}i&&(!s||i<s)&&(r._spread=!0),r.end=Object.assign({},s?e[s][1].start:t[1].end),e.splice(s||o,0,["exit",r,t[2]]),o++,n++}if("listItemPrefix"===t[1].type){const s={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};r=s,e.splice(o,0,["enter",s,t[2]]),o++,n++,i=void 0,A=!0}}}return e[t][1]._spread=l,n}function i(e,t){return n;function n(n){o.call(this,e(n),n),t&&t.call(this,n)}}function A(){this.stack.push({type:"fragment",children:[]})}function o(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:Hu(t.start),end:void 0}}function a(e){return t;function t(t){e&&e.call(this,t),l.call(this,t)}}function l(e,t){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+Sl({start:e.start,end:e.end})+"): it\u2019s not open");if(r[0].type!==e.type)if(t)t.call(this,e,r[0]);else{(r[1]||ju).call(this,e,r[0])}n.position.end=Hu(e.end)}function c(){return function(e,t){const n=t||$l;return Jl(e,"boolean"!==typeof n.includeImageAlt||n.includeImageAlt,"boolean"!==typeof n.includeHtml||n.includeHtml)}(this.stack.pop())}function u(){this.data.expectingFirstListItemValue=!0}function h(e){if(this.data.expectingFirstListItemValue){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function d(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function p(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function f(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function m(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function w(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Vc(this.sliceSerialize(e)).toLowerCase()}function y(){const e=this.resume();this.stack[this.stack.length-1].title=e}function B(){const e=this.resume();this.stack[this.stack.length-1].url=e}function E(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function b(){this.data.setextHeadingSlurpLineEnding=!0}function v(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function T(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];n&&"text"===n.type||(n=Ae(),n.position={start:Hu(e.start),end:void 0},t.push(n)),this.stack.push(n)}function _(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=Hu(e.end)}function S(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak){return n.children[n.children.length-1].position.end=Hu(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(T.call(this,e),_.call(this,e))}function I(){this.data.atHardBreak=!0}function x(){const e=this.resume();this.stack[this.stack.length-1].value=e}function k(){const e=this.resume();this.stack[this.stack.length-1].value=e}function F(){const e=this.resume();this.stack[this.stack.length-1].value=e}function U(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function L(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function Q(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(Ru,Nu)}(t),n.identifier=Vc(t).toLowerCase()}function D(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function O(){const e=this.resume();this.stack[this.stack.length-1].url=e}function R(){const e=this.resume();this.stack[this.stack.length-1].title=e}function N(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function P(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Vc(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function H(e){this.data.characterReferenceType=e.type}function K(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let r;if(n)r=Ou(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0;else{r=Au(t)}this.stack[this.stack.length-1].value+=r}function G(e){this.stack.pop().position.end=Hu(e.end)}function j(e){_.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function V(e){_.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function z(){return{type:"blockquote",children:[]}}function W(){return{type:"code",lang:null,meta:null,value:""}}function Y(){return{type:"inlineCode",value:""}}function X(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function q(){return{type:"emphasis",children:[]}}function $(){return{type:"heading",depth:0,children:[]}}function J(){return{type:"break"}}function Z(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function te(){return{type:"link",title:null,url:"",children:[]}}function ne(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function re(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function se(){return{type:"paragraph",children:[]}}function ie(){return{type:"strong",children:[]}}function Ae(){return{type:"text",value:""}}function oe(){return{type:"thematicBreak"}}}(n)(function(e){for(;!sc(e););return e}(Qu(n).document().write(function(){let e,t=1,n="",r=!0;return function(s,i,A){const o=[];let a,l,c,u,h;for(s=n+("string"===typeof s?s.toString():new TextDecoder(i||void 0).decode(s)),c=0,n="",r&&(65279===s.charCodeAt(0)&&c++,r=void 0);c<s.length;){if(Du.lastIndex=c,a=Du.exec(s),u=a&&void 0!==a.index?a.index:s.length,h=s.charCodeAt(u),!a){n=s.slice(c);break}if(10===h&&c===u&&e)o.push(-3),e=void 0;else switch(e&&(o.push(-5),e=void 0),c<u&&(o.push(s.slice(c,u)),t+=u-c),h){case 0:o.push(65533),t++;break;case 9:for(l=4*Math.ceil(t/4),o.push(-2);t++<l;)o.push(-1);break;case 10:o.push(-4),t=1;break;default:e=!0,t=1}c=u+1}return A&&(e&&o.push(-5),n&&o.push(n),o.push(null)),o}}()(e,t,!0))))}function Hu(e){return{line:e.line,column:e.column,offset:e.offset}}function Ku(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Ku(e,r):Gu(e,r)}}function Gu(e,t){let n;for(n in t)if(Mu.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function ju(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Sl({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Sl({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Sl({start:t.start,end:t.end})+") is still open")}function Vu(e){const t=this;t.parser=function(n){return Pu(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}const zu="object"===typeof self?self:globalThis,Wu=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),r=s=>{if(e.has(s))return e.get(s);const[i,A]=t[s];switch(i){case 0:case-1:return n(A,s);case 1:{const e=n([],s);for(const t of A)e.push(r(t));return e}case 2:{const e=n({},s);for(const[t,n]of A)e[r(t)]=r(n);return e}case 3:return n(new Date(A),s);case 4:{const{source:e,flags:t}=A;return n(new RegExp(e,t),s)}case 5:{const e=n(new Map,s);for(const[t,n]of A)e.set(r(t),r(n));return e}case 6:{const e=n(new Set,s);for(const t of A)e.add(r(t));return e}case 7:{const{name:e,message:t}=A;return n(new zu[e](t),s)}case 8:return n(BigInt(A),s);case"BigInt":return n(Object(BigInt(A)),s)}return n(new zu[i](A),s)};return r})(new Map,e)(0),Yu="",{toString:Xu}={},{keys:qu}=Object,$u=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=Xu.call(e).slice(8,-1);switch(n){case"Array":return[1,Yu];case"Object":return[2,Yu];case"Date":return[3,Yu];case"RegExp":return[4,Yu];case"Map":return[5,Yu];case"Set":return[6,Yu]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},Ju=e=>{let[t,n]=e;return 0===t&&("function"===n||"symbol"===n)},Zu=function(e){let{json:t,lossy:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];return((e,t,n,r)=>{const s=(e,t)=>{const s=r.push(e)-1;return n.set(t,s),s},i=r=>{if(n.has(r))return n.get(r);let[A,o]=$u(r);switch(A){case 0:{let t=r;switch(o){case"bigint":A=8,t=r.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+o);t=null;break;case"undefined":return s([-1],r)}return s([A,t],r)}case 1:{if(o)return s([o,[...r]],r);const e=[],t=s([A,e],r);for(const n of r)e.push(i(n));return t}case 2:{if(o)switch(o){case"BigInt":return s([o,r.toString()],r);case"Boolean":case"Number":case"String":return s([o,r.valueOf()],r)}if(t&&"toJSON"in r)return i(r.toJSON());const n=[],a=s([A,n],r);for(const t of qu(r))!e&&Ju($u(r[t]))||n.push([i(t),i(r[t])]);return a}case 3:return s([A,r.toISOString()],r);case 4:{const{source:e,flags:t}=r;return s([A,{source:e,flags:t}],r)}case 5:{const t=[],n=s([A,t],r);for(const[s,A]of r)(e||!Ju($u(s))&&!Ju($u(A)))&&t.push([i(s),i(A)]);return n}case 6:{const t=[],n=s([A,t],r);for(const s of r)!e&&Ju($u(s))||t.push(i(s));return n}}const{message:a}=r;return s([A,{name:o,message:a}],r)};return i})(!(t||n),!!t,new Map,r)(e),r},eh="function"===typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?Wu(Zu(e,t)):structuredClone(e):(e,t)=>Wu(Zu(e,t));function th(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const i=e.charCodeAt(n);let A="";if(37===i&&cc(e.charCodeAt(n+1))&&cc(e.charCodeAt(n+2)))s=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(A=String.fromCharCode(i));else if(i>55295&&i<57344){const t=e.charCodeAt(n+1);i<56320&&t>56319&&t<57344?(A=String.fromCharCode(i,t),s=1):A="\ufffd"}else A=String.fromCharCode(i);A&&(t.push(e.slice(r,n),encodeURIComponent(A)),r=n+s+1,A=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function nh(e,t){const n=[{type:"text",value:"\u21a9"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function rh(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const sh=function(e){if(null===e||void 0===e)return Ah;if("function"===typeof e)return ih(e);if("object"===typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=sh(e[n]);return ih(r);function r(){let e=-1;for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];for(;++e<t.length;)if(t[e].apply(this,r))return!0;return!1}}(e):function(e){const t=e;return ih(n);function n(n){const r=n;let s;for(s in e)if(r[s]!==t[s])return!1;return!0}}(e);if("string"===typeof e)return function(e){return ih(t);function t(t){return t&&t.type===e}}(e);throw new Error("Expected function, string, or object as test")};function ih(e){return function(t,n,r){return Boolean(oh(t)&&e.call(this,t,"number"===typeof n?n:void 0,r||void 0))}}function Ah(){return!0}function oh(e){return null!==e&&"object"===typeof e&&"type"in e}const ah=[],lh=!0,ch=!1,uh="skip";function hh(e,t,n,r){let s;"function"===typeof t&&"function"!==typeof n?(r=n,n=t):s=t;const i=sh(s),A=r?-1:1;!function e(s,o,a){const l=s&&"object"===typeof s?s:{};if("string"===typeof l.type){const e="string"===typeof l.tagName?l.tagName:"string"===typeof l.name?l.name:void 0;Object.defineProperty(c,"name",{value:"node ("+s.type+(e?"<"+e+">":"")+")"})}return c;function c(){let l,c,u,h=ah;if((!t||i(s,o,a[a.length-1]||void 0))&&(h=function(e){if(Array.isArray(e))return e;if("number"===typeof e)return[lh,e];return null===e||void 0===e?ah:[e]}(n(s,a)),h[0]===ch))return h;if("children"in s&&s.children){const t=s;if(t.children&&h[0]!==uh)for(c=(r?t.children.length:-1)+A,u=a.concat(t);c>-1&&c<t.children.length;){const n=t.children[c];if(l=e(n,c,u)(),l[0]===ch)return l;c="number"===typeof l[1]?l[1]:c+A}}return h}}(e,void 0,[])()}function dh(e,t,n,r){let s,i,A;"function"===typeof t&&"function"!==typeof n?(i=void 0,A=t,s=n):(i=t,A=n,s=r),hh(e,i,(function(e,t){const n=t[t.length-1],r=n?n.children.indexOf(e):void 0;return A(e,r,n)}),s)}function ph(e,t){const n=t.referenceType;let r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),i=s[0];i&&"text"===i.type?i.value="["+i.value:s.unshift({type:"text",value:"["});const A=s[s.length-1];return A&&"text"===A.type?A.value+=r:s.push({type:"text",value:r}),s}function fh(e){const t=e.spread;return null===t||void 0===t?e.children.length>1:t}const gh=9,mh=32;function wh(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const i=[];for(;r;)i.push(yh(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return i.push(yh(t.slice(s),s>0,!1)),i.join("")}function yh(e,t,n){let r=0,s=e.length;if(t){let t=e.codePointAt(r);for(;t===gh||t===mh;)r++,t=e.codePointAt(r)}if(n){let t=e.codePointAt(s-1);for(;t===gh||t===mh;)s--,t=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}const Bh={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",r={};t.lang&&(r.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"===typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=th(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let A,o=e.footnoteCounts.get(r);void 0===o?(o=0,e.footnoteOrder.push(r),A=e.footnoteOrder.length):A=i+1,o+=1,e.footnoteCounts.set(r,o);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(A)}]};e.patch(t,a);const l={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,l),e.applyData(t,l)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return ph(e,t);const s={src:th(r.url||""),alt:t.alt};null!==r.title&&void 0!==r.title&&(s.title=r.title);const i={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,i),e.applyData(t,i)},image:function(e,t){const n={src:th(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return ph(e,t);const s={href:th(r.url||"")};null!==r.title&&void 0!==r.title&&(s.title=r.title);const i={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)},link:function(e,t){const n={href:th(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){const r=e.all(t),s=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=fh(n[r])}return t}(n):fh(t),i={},A=[];if("boolean"===typeof t.checked){const e=r[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},r.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const e=r[o];(s||0!==o||"element"!==e.type||"p"!==e.tagName)&&A.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||s?A.push(e):A.push(...e.children)}const a=r[r.length-1];a&&(s||"element"!==a.type||"p"!==a.tagName)&&A.push({type:"text",value:"\n"});const l={type:"element",tagName:"li",properties:i,children:A};return e.patch(t,l),e.applyData(t,l)},list:function(e,t){const n={},r=e.all(t);let s=-1;for("number"===typeof t.start&&1!==t.start&&(n.start=t.start);++s<r.length;){const e=r[s];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],n),s.push(n)}if(n.length>0){const r={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},i=Tl(t.children[1]),A=Cl(t.children[t.children.length-1]);i&&A&&(r.position={start:i,end:A}),s.push(r)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,i),e.applyData(t,i)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const r=n?n.children:void 0,s=0===(r?r.indexOf(t):1)?"th":"td",i=n&&"table"===n.type?n.align:void 0,A=i?i.length:t.children.length;let o=-1;const a=[];for(;++o<A;){const n=t.children[o],r={},A=i?i[o]:void 0;A&&(r.align=A);let l={type:"element",tagName:s,properties:r,children:[]};n&&(l.children=e.all(n),e.patch(n,l),l=e.applyData(n,l)),a.push(l)}const l={type:"element",tagName:"tr",properties:{},children:e.wrap(a,!0)};return e.patch(t,l),e.applyData(t,l)},text:function(e,t){const n={type:"text",value:wh(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:Eh,yaml:Eh,definition:Eh,footnoteDefinition:Eh};function Eh(){}const bh={}.hasOwnProperty,vh={};function Ch(e,t){e.position&&(t.position=function(e){const t=Tl(e),n=Cl(e);if(t&&n)return{start:t,end:n}}(e))}function Th(e,t){let n=t;if(e&&e.data){const t=e.data.hName,r=e.data.hChildren,s=e.data.hProperties;if("string"===typeof t)if("element"===n.type)n.tagName=t;else{n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}}"element"===n.type&&s&&Object.assign(n.properties,eh(s)),"children"in n&&n.children&&null!==r&&void 0!==r&&(n.children=r)}return n}function _h(e,t){const n=t.data||{},r=!("value"in t)||bh.call(n,"hProperties")||bh.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,r),e.applyData(t,r)}function Sh(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:"\n"});++r<e.length;)r&&n.push({type:"text",value:"\n"}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function Ih(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function xh(e,t){const n=function(e,t){const n=t||vh,r=new Map,s=new Map,i=new Map,A={...Bh,...n.handlers},o={all:function(e){const t=[];if("children"in e){const n=e.children;let r=-1;for(;++r<n.length;){const s=o.one(n[r],e);if(s){if(r&&"break"===n[r-1].type&&(Array.isArray(s)||"text"!==s.type||(s.value=Ih(s.value)),!Array.isArray(s)&&"element"===s.type)){const e=s.children[0];e&&"text"===e.type&&(e.value=Ih(e.value))}Array.isArray(s)?t.push(...s):t.push(s)}}}return t},applyData:Th,definitionById:r,footnoteById:s,footnoteCounts:i,footnoteOrder:[],handlers:A,one:function(e,t){const n=e.type,r=o.handlers[n];if(bh.call(o.handlers,n)&&r)return r(o,e,t);if(o.options.passThrough&&o.options.passThrough.includes(n)){if("children"in e){const{children:t,...n}=e,r=eh(n);return r.children=o.all(e),r}return eh(e)}return(o.options.unknownHandler||_h)(o,e,t)},options:n,patch:Ch,wrap:Sh};return dh(e,(function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?r:s,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}})),o}(e,t),r=n.one(e,void 0),s=function(e){const t="string"===typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||nh,r=e.options.footnoteBackLabel||rh,s=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",A=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let a=-1;for(;++a<e.footnoteOrder.length;){const s=e.footnoteById.get(e.footnoteOrder[a]);if(!s)continue;const i=e.all(s),A=String(s.identifier).toUpperCase(),l=th(A.toLowerCase());let c=0;const u=[],h=e.footnoteCounts.get(A);for(;void 0!==h&&++c<=h;){u.length>0&&u.push({type:"text",value:" "});let e="string"===typeof n?n:n(a,c);"string"===typeof e&&(e={type:"text",value:e}),u.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+l+(c>1?"-"+c:""),dataFootnoteBackref:"",ariaLabel:"string"===typeof r?r:r(a,c),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const d=i[i.length-1];if(d&&"element"===d.type&&"p"===d.tagName){const e=d.children[d.children.length-1];e&&"text"===e.type?e.value+=" ":d.children.push({type:"text",value:" "}),d.children.push(...u)}else i.push(...u);const p={type:"element",tagName:"li",properties:{id:t+"fn-"+l},children:e.wrap(i,!0)};e.patch(s,p),o.push(p)}if(0!==o.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...eh(A),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:"\n"}]}}(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&i.children.push({type:"text",value:"\n"},s),i}function kh(e,t){return e&&"run"in e?async function(n,r){const s=xh(n,{file:r,...t});await e.run(s,r)}:function(n,r){return xh(n,{file:r,...e||t})}}function Fh(e){if(e)throw e}var Uh=n(240);function Lh(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Qh(){const e=[],t={run:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let s=-1;const i=n.pop();if("function"!==typeof i)throw new TypeError("Expected function as last argument, not "+i);!function t(r){const A=e[++s];let o=-1;if(r)i(r);else{for(var a=arguments.length,l=new Array(a>1?a-1:0),c=1;c<a;c++)l[c-1]=arguments[c];for(;++o<n.length;)null!==l[o]&&void 0!==l[o]||(l[o]=n[o]);n=l,A?function(e,t){let n;return s;function s(){for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];const a=e.length>s.length;let l;a&&s.push(i);try{l=e.apply(this,s)}catch(r){if(a&&n)throw r;return i(r)}a||(l&&l.then&&"function"===typeof l.then?l.then(A,i):l instanceof Error?i(l):A(l))}function i(e){if(!n){n=!0;for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];t(e,...s)}}function A(e){i(null,e)}}(A,t)(...l):i(null,...l)}}(null,...n)},use:function(n){if("function"!==typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const Dh={basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');Oh(e);let n,r=0,s=-1,i=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;i--;)if(47===e.codePointAt(i)){if(n){r=i+1;break}}else s<0&&(n=!0,s=i+1);return s<0?"":e.slice(r,s)}if(t===e)return"";let A=-1,o=t.length-1;for(;i--;)if(47===e.codePointAt(i)){if(n){r=i+1;break}}else A<0&&(n=!0,A=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(s=i):(o=-1,s=A));r===s?s=A:s<0&&(s=e.length);return e.slice(r,s)},dirname:function(e){if(Oh(e),0===e.length)return".";let t,n=-1,r=e.length;for(;--r;)if(47===e.codePointAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},extname:function(e){Oh(e);let t,n=e.length,r=-1,s=0,i=-1,A=0;for(;n--;){const o=e.codePointAt(n);if(47!==o)r<0&&(t=!0,r=n+1),46===o?i<0?i=n:1!==A&&(A=1):i>-1&&(A=-1);else if(t){s=n+1;break}}if(i<0||r<0||0===A||1===A&&i===r-1&&i===s+1)return"";return e.slice(i,r)},join:function(){let e,t=-1;for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];for(;++t<r.length;)Oh(r[t]),r[t]&&(e=void 0===e?r[t]:e+"/"+r[t]);return void 0===e?".":function(e){Oh(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,r,s="",i=0,A=-1,o=0,a=-1;for(;++a<=e.length;){if(a<e.length)n=e.codePointAt(a);else{if(47===n)break;n=47}if(47===n){if(A===a-1||1===o);else if(A!==a-1&&2===o){if(s.length<2||2!==i||46!==s.codePointAt(s.length-1)||46!==s.codePointAt(s.length-2))if(s.length>2){if(r=s.lastIndexOf("/"),r!==s.length-1){r<0?(s="",i=0):(s=s.slice(0,r),i=s.length-1-s.lastIndexOf("/")),A=a,o=0;continue}}else if(s.length>0){s="",i=0,A=a,o=0;continue}t&&(s=s.length>0?s+"/..":"..",i=2)}else s.length>0?s+="/"+e.slice(A+1,a):s=e.slice(A+1,a),i=a-A-1;A=a,o=0}else 46===n&&o>-1?o++:o=-1}return s}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/");return t?"/"+n:n}(e)},sep:"/"};function Oh(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Rh={cwd:function(){return"/"}};function Nh(e){return Boolean(null!==e&&"object"===typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}function Mh(e){if("string"===typeof e)e=new URL(e);else if(!Nh(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const Ph=["history","path","basename","stem","extname","dirname"];class Hh{constructor(e){let t;t=e?Nh(e)?{path:e}:"string"===typeof e||function(e){return Boolean(e&&"object"===typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":Rh.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,r=-1;for(;++r<Ph.length;){const e=Ph[r];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)Ph.includes(n)||(this[n]=t[n])}get basename(){return"string"===typeof this.path?Dh.basename(this.path):void 0}set basename(e){Gh(e,"basename"),Kh(e,"basename"),this.path=Dh.join(this.dirname||"",e)}get dirname(){return"string"===typeof this.path?Dh.dirname(this.path):void 0}set dirname(e){jh(this.basename,"dirname"),this.path=Dh.join(e||"",this.basename)}get extname(){return"string"===typeof this.path?Dh.extname(this.path):void 0}set extname(e){if(Kh(e,"extname"),jh(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Dh.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Nh(e)&&(e=Mh(e)),Gh(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"===typeof this.path?Dh.basename(this.path,this.extname):void 0}set stem(e){Gh(e,"stem"),Kh(e,"stem"),this.path=Dh.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=void 0,r}message(e,t,n){const r=new Fl(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){if(void 0===this.value)return"";if("string"===typeof this.value)return this.value;return new TextDecoder(e||void 0).decode(this.value)}}function Kh(e,t){if(e&&e.includes(Dh.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Dh.sep+"`")}function Gh(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function jh(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const Vh=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},zh={}.hasOwnProperty;class Wh extends Vh{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Qh()}copy(){const e=new Wh;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(Uh(!0,{},this.namespace)),e}data(e,t){return"string"===typeof e?2===arguments.length?($h("data",this.frozen),this.namespace[e]=t,this):zh.call(this.namespace,e)&&this.namespace[e]||void 0:e?($h("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const r=t.call(e,...n);"function"===typeof r&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=ed(e),n=this.parser||this.Parser;return Xh("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),Xh("process",this.parser||this.Parser),qh("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(r,s){const i=ed(e),A=n.parse(i);function o(e,n){e||!n?s(e):r?r(n):t(void 0,n)}n.run(A,i,(function(e,t,r){if(e||!t||!r)return o(e);const s=t,i=n.stringify(s,r);var A;"string"===typeof(A=i)||function(e){return Boolean(e&&"object"===typeof e&&"byteLength"in e&&"byteOffset"in e)}(A)?r.value=i:r.result=i,o(e,r)}))}}processSync(e){let t,n=!1;return this.freeze(),Xh("processSync",this.parser||this.Parser),qh("processSync",this.compiler||this.Compiler),this.process(e,(function(e,r){n=!0,Fh(e),t=r})),Zh("processSync","process",n),t}run(e,t,n){Jh(e),this.freeze();const r=this.transformers;return n||"function"!==typeof t||(n=t,t=void 0),n?s(void 0,n):new Promise(s);function s(s,i){const A=ed(t);r.run(e,A,(function(t,r,A){const o=r||e;t?i(t):s?s(o):n(void 0,o,A)}))}}runSync(e,t){let n,r=!1;return this.run(e,t,(function(e,t){Fh(e),n=t,r=!0})),Zh("runSync","run",r),n}stringify(e,t){this.freeze();const n=ed(t),r=this.compiler||this.Compiler;return qh("stringify",r),Jh(e),r(e,n)}use(e){const t=this.attachers,n=this.namespace;if($h("use",this.frozen),null===e||void 0===e);else if("function"===typeof e){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];l(e,s)}else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?a(e):o(e)}return this;function A(e){if("function"===typeof e)l(e,[]);else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;l(t,n)}else o(e)}}function o(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(e.plugins),e.settings&&(n.settings=Uh(!0,n.settings,e.settings))}function a(e){let t=-1;if(null===e||void 0===e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){A(e[t])}}}function l(e,n){let r=-1,s=-1;for(;++r<t.length;)if(t[r][0]===e){s=r;break}if(-1===s)t.push([e,...n]);else if(n.length>0){let[r,...i]=n;const A=t[s][1];Lh(A)&&Lh(r)&&(r=Uh(!0,A,r)),t[s]=[e,r,...i]}}}}const Yh=(new Wh).freeze();function Xh(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function qh(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function $h(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Jh(e){if(!Lh(e)||"string"!==typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function Zh(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ed(e){return function(e){return Boolean(e&&"object"===typeof e&&"message"in e&&"messages"in e)}(e)?e:new Hh(e)}const td=[],nd={allowDangerousHtml:!0},rd=/^(https?|ircs?|mailto|xmpp)$/i,sd=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function id(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",s=e.className,i=e.components,A=e.disallowedElements,o=e.rehypePlugins||td,a=e.remarkPlugins||td,l=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...nd}:nd,c=e.skipHtml,u=e.unwrapDisallowed,h=e.urlTransform||Ad,d=Yh().use(Vu).use(a).use(kh,l).use(o),p=new Hh;"string"===typeof r&&(p.value=r);for(const m of sd)Object.hasOwn(e,m.from)&&(m.from,m.to&&m.to,m.id);const f=d.parse(p);let g=d.runSync(f,p);return s&&(g={type:"element",tagName:"div",properties:{className:s},children:"root"===g.type?g.children:[g]}),dh(g,(function(e,r,s){if("raw"===e.type&&s&&"number"===typeof r)return c?s.children.splice(r,1):s.children[r]={type:"text",value:e.value},r;if("element"===e.type){let t;for(t in ql)if(Object.hasOwn(ql,t)&&Object.hasOwn(e.properties,t)){const n=e.properties[t],r=ql[t];(null===r||r.includes(e.tagName))&&(e.properties[t]=h(String(n||""),t,e))}}if("element"===e.type){let i=t?!t.includes(e.tagName):!!A&&A.includes(e.tagName);if(!i&&n&&"number"===typeof r&&(i=!n(e,r,s)),i&&s&&"number"===typeof r)return u&&e.children?s.children.splice(r,1,...e.children):s.children.splice(r,1),r}})),Ml(g,{Fragment:Vt.Fragment,components:i,ignoreInvalidStyle:!0,jsx:Vt.jsx,jsxs:Vt.jsxs,passKeys:!0,passNode:!0})}function Ad(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return t<0||s>-1&&t>s||n>-1&&t>n||r>-1&&t>r||rd.test(e.slice(0,t))?e:""}const od=/[#.]/g;const ad={}.hasOwnProperty;function ld(e,t,n){const r=n&&function(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}(n);return function(n,s){let i,A=-1;for(var o=arguments.length,a=new Array(o>2?o-2:0),l=2;l<o;l++)a[l-2]=arguments[l];if(void 0===n||null===n){i={type:"root",children:[]};const e=s;a.unshift(e)}else if(i=function(e,t){const n=e||"",r={};let s,i,A=0;for(;A<n.length;){od.lastIndex=A;const e=od.exec(n),t=n.slice(A,e?e.index:n.length);t&&(s?"#"===s?r.id=t:Array.isArray(r.className)?r.className.push(t):r.className=[t]:i=t,A+=t.length),e&&(s=e[0],A++)}return{type:"element",tagName:i||t||"div",properties:r,children:[]}}(n,t),i.tagName=i.tagName.toLowerCase(),r&&ad.call(r,i.tagName)&&(i.tagName=r[i.tagName]),function(e){if(null===e||"object"!==typeof e||Array.isArray(e))return!0;if("string"!==typeof e.type)return!1;const t=e,n=Object.keys(e);for(const r of n){const e=t[r];if(e&&"object"===typeof e){if(!Array.isArray(e))return!0;const t=e;for(const e of t)if("number"!==typeof e&&"string"!==typeof e)return!0}}if("children"in e&&Array.isArray(e.children))return!0;return!1}(s))a.unshift(s);else{let t;for(t in s)ad.call(s,t)&&cd(e,i.properties,t,s[t])}for(;++A<a.length;)ud(i.children,a[A]);return"element"===i.type&&"template"===i.tagName&&(i.content={type:"root",children:i.children},i.children=[]),i}}function cd(e,t,n,r){const s=gl(e,n);let i,A=-1;if(void 0!==r&&null!==r){if("number"===typeof r){if(Number.isNaN(r))return;i=r}else i="boolean"===typeof r?r:"string"===typeof r?s.spaceSeparated?Bl(r):s.commaSeparated?Fa(r):s.commaOrSpaceSeparated?Bl(Fa(r).join(" ")):hd(s,s.property,r):Array.isArray(r)?r.concat():"style"===s.property?function(e){const t=[];let n;for(n in e)ad.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}(r):String(r);if(Array.isArray(i)){const e=[];for(;++A<i.length;){const t=hd(s,s.property,i[A]);e[A]=t}i=e}if("className"===s.property&&Array.isArray(t.className)){const e=i;i=t.className.concat(e)}t[s.property]=i}}function ud(e,t){let n=-1;if(void 0===t||null===t);else if("string"===typeof t||"number"===typeof t)e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)ud(e,t[n]);else{if("object"!==typeof t||!("type"in t))throw new Error("Expected node, nodes, or string, got `"+t+"`");"root"===t.type?ud(e,t.children):e.push(t)}}function hd(e,t,n){if("string"===typeof n){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(""===n||Ha(n)===Ha(t)))return!0}return n}const dd=ld(ul,"div"),pd=ld(hl,"g",["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"]);function fd(e,t){const n=e.indexOf("\r",t),r=e.indexOf("\n",t);return-1===r?n:-1===n||n+1===r?r:n<r?n:r}const gd={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},md={}.hasOwnProperty,wd=Object.prototype;function yd(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},Ed(e,r,n),n}case"#document":case"#document-fragment":{const r=t,s="mode"in r&&("quirks"===r.mode||"limited-quirks"===r.mode);if(n={type:"root",children:Bd(e,t.childNodes),data:{quirksMode:s}},e.file&&e.location){const t=String(e.file),r=function(e){const t=String(e),n=[];return{toOffset:function(e){if(e&&"number"===typeof e.line&&"number"===typeof e.column&&!Number.isNaN(e.line)&&!Number.isNaN(e.column)){for(;n.length<e.line;){const e=n[n.length-1],r=fd(t,e),s=-1===r?t.length+1:r+1;if(e===s)break;n.push(s)}const r=(e.line>1?n[e.line-2]:0)+e.column-1;if(r<n[e.line-1])return r}},toPoint:function(e){if("number"===typeof e&&e>-1&&e<=t.length){let r=0;for(;;){let s=n[r];if(void 0===s){const e=fd(t,n[r-1]);s=-1===e?t.length+1:e+1,n[r]=s}if(s>e)return{line:r+1,column:e-(r>0?n[r-1]:0)+1,offset:e};r++}}}}}(t),s=r.toPoint(0),i=r.toPoint(t.length);n.position={start:s,end:i}}return n}case"#documentType":return n={type:"doctype"},Ed(e,t,n),n;case"#text":{const r=t;return n={type:"text",value:r.value},Ed(e,r,n),n}default:return n=function(e,t){const n=e.schema;e.schema=t.namespaceURI===gd.svg?hl:ul;let r=-1;const s={};for(;++r<t.attrs.length;){const e=t.attrs[r],n=(e.prefix?e.prefix+":":"")+e.name;md.call(wd,n)||(s[n]=e.value)}const i="svg"===e.schema.space?pd:dd,A=i(t.tagName,s,Bd(e,t.childNodes));if(Ed(e,t,A),"template"===A.tagName){const n=t,r=n.sourceCodeLocation,s=r&&r.startTag&&bd(r.startTag),i=r&&r.endTag&&bd(r.endTag),o=yd(e,n.content);s&&i&&e.file&&(o.position={start:s.end,end:i.start}),A.content=o}return e.schema=n,A}(e,t),n}}function Bd(e,t){let n=-1;const r=[];for(;++n<t.length;){const s=yd(e,t[n]);r.push(s)}return r}function Ed(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=function(e,t,n){const r=bd(n);if("element"===t.type){const s=t.children[t.children.length-1];if(r&&!n.endTag&&s&&s.position&&s.position.end&&(r.end=Object.assign({},s.position.end)),e.verbose){const r={};let s;if(n.attrs)for(s in n.attrs)md.call(n.attrs,s)&&(r[gl(e.schema,s).property]=bd(n.attrs[s]));n.startTag;const i=bd(n.startTag),A=n.endTag?bd(n.endTag):void 0,o={opening:i};A&&(o.closing=A),o.properties=r,t.data={position:o}}}return r}(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function bd(e){const t=vd({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=vd({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function vd(e){return e.line&&e.column?e:void 0}const Cd={}.hasOwnProperty;function Td(e,t){const n=t||{};function r(t){let n=r.invalid;const s=r.handlers;if(t&&Cd.call(t,e)){const i=String(t[e]);n=Cd.call(s,i)?s[i]:r.unknown}if(n){for(var i=arguments.length,A=new Array(i>1?i-1:0),o=1;o<i;o++)A[o-1]=arguments[o];return n.call(this,t,...A)}}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const _d={},Sd={}.hasOwnProperty,Id=Td("type",{handlers:{root:function(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=kd(e.children,n,t),Fd(e,n),n},element:function(e,t){const n=t;let r=n;"element"===e.type&&"svg"===e.tagName.toLowerCase()&&"html"===n.space&&(r=hl);const s=[];let i;if(e.properties)for(i in e.properties)if("children"!==i&&Sd.call(e.properties,i)){const t=xd(r,i,e.properties[i]);t&&s.push(t)}const A=r.space;const o={nodeName:e.tagName,tagName:e.tagName,attrs:s,namespaceURI:gd[A],childNodes:[],parentNode:null};o.childNodes=kd(e.children,o,r),Fd(e,o),"template"===e.tagName&&e.content&&(o.content=function(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=kd(e.children,n,t),Fd(e,n),n}(e.content,r));return o},text:function(e){const t={nodeName:"#text",value:e.value,parentNode:null};return Fd(e,t),t},comment:function(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return Fd(e,t),t},doctype:function(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Fd(e,t),t}}});function xd(e,t,n){const r=gl(e,t);if(!1===n||null===n||void 0===n||"number"===typeof n&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?Ua(n):El(n));const s={name:r.attribute,value:!0===n?"":String(n)};if(r.space&&"html"!==r.space&&"svg"!==r.space){const e=s.name.indexOf(":");e<0?s.prefix="":(s.name=s.name.slice(e+1),s.prefix=r.attribute.slice(0,e)),s.namespace=gd[r.space]}return s}function kd(e,t,n){let r=-1;const s=[];if(e)for(;++r<e.length;){const i=Id(e[r],n);i.parentNode=t,s.push(i)}return s}function Fd(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const Ud=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],Ld=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Qd="\ufffd";var Dd;!function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"}(Dd||(Dd={}));const Od="--",Rd="[CDATA[",Nd="doctype",Md="script",Pd="public",Hd="system";function Kd(e){return e>=55296&&e<=57343}function Gd(e){return 32!==e&&10!==e&&13!==e&&9!==e&&12!==e&&e>=1&&e<=31||e>=127&&e<=159}function jd(e){return e>=64976&&e<=65007||Ld.has(e)}var Vd;!function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"}(Vd||(Vd={}));class zd{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,t){const{line:n,col:r,offset:s}=this,i=r+t,A=s+t;return{code:e,startLine:n,endLine:n,startCol:i,endCol:i,startOffset:A,endOffset:A}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const t=this.html.charCodeAt(this.pos+1);if(function(e){return e>=56320&&e<=57343}(t))return this.pos++,this._addGap(),1024*(e-55296)+9216+t}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,Dd.EOF;return this._err(Vd.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,t){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=t}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,t){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(t)return this.html.startsWith(e,this.pos);for(let n=0;n<e.length;n++){if((32|this.html.charCodeAt(this.pos+n))!==e.charCodeAt(n))return!1}return!0}peek(e){const t=this.pos+e;if(t>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Dd.EOF;const n=this.html.charCodeAt(t);return n===Dd.CARRIAGE_RETURN?Dd.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Dd.EOF;let e=this.html.charCodeAt(this.pos);if(e===Dd.CARRIAGE_RETURN)return this.isEol=!0,this.skipNextNewLine=!0,Dd.LINE_FEED;if(e===Dd.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine))return this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance();this.skipNextNewLine=!1,Kd(e)&&(e=this._processSurrogate(e));return null===this.handler.onParseError||e>31&&e<127||e===Dd.LINE_FEED||e===Dd.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e}_checkForProblematicCharacters(e){Gd(e)?this._err(Vd.controlCharacterInInputStream):jd(e)&&this._err(Vd.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Wd;function Yd(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}!function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"}(Wd||(Wd={}));const Xd=new Uint16Array('\u1d41<\xd5\u0131\u028a\u049d\u057b\u05d0\u0675\u06de\u07a2\u07d6\u080f\u0a4a\u0a91\u0da1\u0e6d\u0f09\u0f26\u10ca\u1228\u12e1\u1415\u149d\u14c3\u14df\u1525\0\0\0\0\0\0\u156b\u16cd\u198d\u1c12\u1ddd\u1f7e\u2060\u21b0\u228d\u23c0\u23fb\u2442\u2824\u2912\u2d08\u2e48\u2fce\u3016\u32ba\u3639\u37ac\u38fe\u3a28\u3a71\u3ae0\u3b2e\u0800EMabcfglmnoprstu\\bfms\x7f\x84\x8b\x90\x95\x98\xa6\xb3\xb9\xc8\xcflig\u803b\xc6\u40c6P\u803b&\u4026cute\u803b\xc1\u40c1reve;\u4102\u0100iyx}rc\u803b\xc2\u40c2;\u4410r;\uc000\ud835\udd04rave\u803b\xc0\u40c0pha;\u4391acr;\u4100d;\u6a53\u0100gp\x9d\xa1on;\u4104f;\uc000\ud835\udd38plyFunction;\u6061ing\u803b\xc5\u40c5\u0100cs\xbe\xc3r;\uc000\ud835\udc9cign;\u6254ilde\u803b\xc3\u40c3ml\u803b\xc4\u40c4\u0400aceforsu\xe5\xfb\xfe\u0117\u011c\u0122\u0127\u012a\u0100cr\xea\xf2kslash;\u6216\u0176\xf6\xf8;\u6ae7ed;\u6306y;\u4411\u0180crt\u0105\u010b\u0114ause;\u6235noullis;\u612ca;\u4392r;\uc000\ud835\udd05pf;\uc000\ud835\udd39eve;\u42d8c\xf2\u0113mpeq;\u624e\u0700HOacdefhilorsu\u014d\u0151\u0156\u0180\u019e\u01a2\u01b5\u01b7\u01ba\u01dc\u0215\u0273\u0278\u027ecy;\u4427PY\u803b\xa9\u40a9\u0180cpy\u015d\u0162\u017aute;\u4106\u0100;i\u0167\u0168\u62d2talDifferentialD;\u6145leys;\u612d\u0200aeio\u0189\u018e\u0194\u0198ron;\u410cdil\u803b\xc7\u40c7rc;\u4108nint;\u6230ot;\u410a\u0100dn\u01a7\u01adilla;\u40b8terDot;\u40b7\xf2\u017fi;\u43a7rcle\u0200DMPT\u01c7\u01cb\u01d1\u01d6ot;\u6299inus;\u6296lus;\u6295imes;\u6297o\u0100cs\u01e2\u01f8kwiseContourIntegral;\u6232eCurly\u0100DQ\u0203\u020foubleQuote;\u601duote;\u6019\u0200lnpu\u021e\u0228\u0247\u0255on\u0100;e\u0225\u0226\u6237;\u6a74\u0180git\u022f\u0236\u023aruent;\u6261nt;\u622fourIntegral;\u622e\u0100fr\u024c\u024e;\u6102oduct;\u6210nterClockwiseContourIntegral;\u6233oss;\u6a2fcr;\uc000\ud835\udc9ep\u0100;C\u0284\u0285\u62d3ap;\u624d\u0580DJSZacefios\u02a0\u02ac\u02b0\u02b4\u02b8\u02cb\u02d7\u02e1\u02e6\u0333\u048d\u0100;o\u0179\u02a5trahd;\u6911cy;\u4402cy;\u4405cy;\u440f\u0180grs\u02bf\u02c4\u02c7ger;\u6021r;\u61a1hv;\u6ae4\u0100ay\u02d0\u02d5ron;\u410e;\u4414l\u0100;t\u02dd\u02de\u6207a;\u4394r;\uc000\ud835\udd07\u0100af\u02eb\u0327\u0100cm\u02f0\u0322ritical\u0200ADGT\u0300\u0306\u0316\u031ccute;\u40b4o\u0174\u030b\u030d;\u42d9bleAcute;\u42ddrave;\u4060ilde;\u42dcond;\u62c4ferentialD;\u6146\u0470\u033d\0\0\0\u0342\u0354\0\u0405f;\uc000\ud835\udd3b\u0180;DE\u0348\u0349\u034d\u40a8ot;\u60dcqual;\u6250ble\u0300CDLRUV\u0363\u0372\u0382\u03cf\u03e2\u03f8ontourIntegra\xec\u0239o\u0274\u0379\0\0\u037b\xbb\u0349nArrow;\u61d3\u0100eo\u0387\u03a4ft\u0180ART\u0390\u0396\u03a1rrow;\u61d0ightArrow;\u61d4e\xe5\u02cang\u0100LR\u03ab\u03c4eft\u0100AR\u03b3\u03b9rrow;\u67f8ightArrow;\u67faightArrow;\u67f9ight\u0100AT\u03d8\u03derrow;\u61d2ee;\u62a8p\u0241\u03e9\0\0\u03efrrow;\u61d1ownArrow;\u61d5erticalBar;\u6225n\u0300ABLRTa\u0412\u042a\u0430\u045e\u047f\u037crrow\u0180;BU\u041d\u041e\u0422\u6193ar;\u6913pArrow;\u61f5reve;\u4311eft\u02d2\u043a\0\u0446\0\u0450ightVector;\u6950eeVector;\u695eector\u0100;B\u0459\u045a\u61bdar;\u6956ight\u01d4\u0467\0\u0471eeVector;\u695fector\u0100;B\u047a\u047b\u61c1ar;\u6957ee\u0100;A\u0486\u0487\u62a4rrow;\u61a7\u0100ct\u0492\u0497r;\uc000\ud835\udc9frok;\u4110\u0800NTacdfglmopqstux\u04bd\u04c0\u04c4\u04cb\u04de\u04e2\u04e7\u04ee\u04f5\u0521\u052f\u0536\u0552\u055d\u0560\u0565G;\u414aH\u803b\xd0\u40d0cute\u803b\xc9\u40c9\u0180aiy\u04d2\u04d7\u04dcron;\u411arc\u803b\xca\u40ca;\u442dot;\u4116r;\uc000\ud835\udd08rave\u803b\xc8\u40c8ement;\u6208\u0100ap\u04fa\u04fecr;\u4112ty\u0253\u0506\0\0\u0512mallSquare;\u65fberySmallSquare;\u65ab\u0100gp\u0526\u052aon;\u4118f;\uc000\ud835\udd3csilon;\u4395u\u0100ai\u053c\u0549l\u0100;T\u0542\u0543\u6a75ilde;\u6242librium;\u61cc\u0100ci\u0557\u055ar;\u6130m;\u6a73a;\u4397ml\u803b\xcb\u40cb\u0100ip\u056a\u056fsts;\u6203onentialE;\u6147\u0280cfios\u0585\u0588\u058d\u05b2\u05ccy;\u4424r;\uc000\ud835\udd09lled\u0253\u0597\0\0\u05a3mallSquare;\u65fcerySmallSquare;\u65aa\u0370\u05ba\0\u05bf\0\0\u05c4f;\uc000\ud835\udd3dAll;\u6200riertrf;\u6131c\xf2\u05cb\u0600JTabcdfgorst\u05e8\u05ec\u05ef\u05fa\u0600\u0612\u0616\u061b\u061d\u0623\u066c\u0672cy;\u4403\u803b>\u403emma\u0100;d\u05f7\u05f8\u4393;\u43dcreve;\u411e\u0180eiy\u0607\u060c\u0610dil;\u4122rc;\u411c;\u4413ot;\u4120r;\uc000\ud835\udd0a;\u62d9pf;\uc000\ud835\udd3eeater\u0300EFGLST\u0635\u0644\u064e\u0656\u065b\u0666qual\u0100;L\u063e\u063f\u6265ess;\u62dbullEqual;\u6267reater;\u6aa2ess;\u6277lantEqual;\u6a7eilde;\u6273cr;\uc000\ud835\udca2;\u626b\u0400Aacfiosu\u0685\u068b\u0696\u069b\u069e\u06aa\u06be\u06caRDcy;\u442a\u0100ct\u0690\u0694ek;\u42c7;\u405eirc;\u4124r;\u610clbertSpace;\u610b\u01f0\u06af\0\u06b2f;\u610dizontalLine;\u6500\u0100ct\u06c3\u06c5\xf2\u06a9rok;\u4126mp\u0144\u06d0\u06d8ownHum\xf0\u012fqual;\u624f\u0700EJOacdfgmnostu\u06fa\u06fe\u0703\u0707\u070e\u071a\u071e\u0721\u0728\u0744\u0778\u078b\u078f\u0795cy;\u4415lig;\u4132cy;\u4401cute\u803b\xcd\u40cd\u0100iy\u0713\u0718rc\u803b\xce\u40ce;\u4418ot;\u4130r;\u6111rave\u803b\xcc\u40cc\u0180;ap\u0720\u072f\u073f\u0100cg\u0734\u0737r;\u412ainaryI;\u6148lie\xf3\u03dd\u01f4\u0749\0\u0762\u0100;e\u074d\u074e\u622c\u0100gr\u0753\u0758ral;\u622bsection;\u62c2isible\u0100CT\u076c\u0772omma;\u6063imes;\u6062\u0180gpt\u077f\u0783\u0788on;\u412ef;\uc000\ud835\udd40a;\u4399cr;\u6110ilde;\u4128\u01eb\u079a\0\u079ecy;\u4406l\u803b\xcf\u40cf\u0280cfosu\u07ac\u07b7\u07bc\u07c2\u07d0\u0100iy\u07b1\u07b5rc;\u4134;\u4419r;\uc000\ud835\udd0dpf;\uc000\ud835\udd41\u01e3\u07c7\0\u07ccr;\uc000\ud835\udca5rcy;\u4408kcy;\u4404\u0380HJacfos\u07e4\u07e8\u07ec\u07f1\u07fd\u0802\u0808cy;\u4425cy;\u440cppa;\u439a\u0100ey\u07f6\u07fbdil;\u4136;\u441ar;\uc000\ud835\udd0epf;\uc000\ud835\udd42cr;\uc000\ud835\udca6\u0580JTaceflmost\u0825\u0829\u082c\u0850\u0863\u09b3\u09b8\u09c7\u09cd\u0a37\u0a47cy;\u4409\u803b<\u403c\u0280cmnpr\u0837\u083c\u0841\u0844\u084dute;\u4139bda;\u439bg;\u67ealacetrf;\u6112r;\u619e\u0180aey\u0857\u085c\u0861ron;\u413ddil;\u413b;\u441b\u0100fs\u0868\u0970t\u0500ACDFRTUVar\u087e\u08a9\u08b1\u08e0\u08e6\u08fc\u092f\u095b\u0390\u096a\u0100nr\u0883\u088fgleBracket;\u67e8row\u0180;BR\u0899\u089a\u089e\u6190ar;\u61e4ightArrow;\u61c6eiling;\u6308o\u01f5\u08b7\0\u08c3bleBracket;\u67e6n\u01d4\u08c8\0\u08d2eeVector;\u6961ector\u0100;B\u08db\u08dc\u61c3ar;\u6959loor;\u630aight\u0100AV\u08ef\u08f5rrow;\u6194ector;\u694e\u0100er\u0901\u0917e\u0180;AV\u0909\u090a\u0910\u62a3rrow;\u61a4ector;\u695aiangle\u0180;BE\u0924\u0925\u0929\u62b2ar;\u69cfqual;\u62b4p\u0180DTV\u0937\u0942\u094cownVector;\u6951eeVector;\u6960ector\u0100;B\u0956\u0957\u61bfar;\u6958ector\u0100;B\u0965\u0966\u61bcar;\u6952ight\xe1\u039cs\u0300EFGLST\u097e\u098b\u0995\u099d\u09a2\u09adqualGreater;\u62daullEqual;\u6266reater;\u6276ess;\u6aa1lantEqual;\u6a7dilde;\u6272r;\uc000\ud835\udd0f\u0100;e\u09bd\u09be\u62d8ftarrow;\u61daidot;\u413f\u0180npw\u09d4\u0a16\u0a1bg\u0200LRlr\u09de\u09f7\u0a02\u0a10eft\u0100AR\u09e6\u09ecrrow;\u67f5ightArrow;\u67f7ightArrow;\u67f6eft\u0100ar\u03b3\u0a0aight\xe1\u03bfight\xe1\u03caf;\uc000\ud835\udd43er\u0100LR\u0a22\u0a2ceftArrow;\u6199ightArrow;\u6198\u0180cht\u0a3e\u0a40\u0a42\xf2\u084c;\u61b0rok;\u4141;\u626a\u0400acefiosu\u0a5a\u0a5d\u0a60\u0a77\u0a7c\u0a85\u0a8b\u0a8ep;\u6905y;\u441c\u0100dl\u0a65\u0a6fiumSpace;\u605flintrf;\u6133r;\uc000\ud835\udd10nusPlus;\u6213pf;\uc000\ud835\udd44c\xf2\u0a76;\u439c\u0480Jacefostu\u0aa3\u0aa7\u0aad\u0ac0\u0b14\u0b19\u0d91\u0d97\u0d9ecy;\u440acute;\u4143\u0180aey\u0ab4\u0ab9\u0aberon;\u4147dil;\u4145;\u441d\u0180gsw\u0ac7\u0af0\u0b0eative\u0180MTV\u0ad3\u0adf\u0ae8ediumSpace;\u600bhi\u0100cn\u0ae6\u0ad8\xeb\u0ad9eryThi\xee\u0ad9ted\u0100GL\u0af8\u0b06reaterGreate\xf2\u0673essLes\xf3\u0a48Line;\u400ar;\uc000\ud835\udd11\u0200Bnpt\u0b22\u0b28\u0b37\u0b3areak;\u6060BreakingSpace;\u40a0f;\u6115\u0680;CDEGHLNPRSTV\u0b55\u0b56\u0b6a\u0b7c\u0ba1\u0beb\u0c04\u0c5e\u0c84\u0ca6\u0cd8\u0d61\u0d85\u6aec\u0100ou\u0b5b\u0b64ngruent;\u6262pCap;\u626doubleVerticalBar;\u6226\u0180lqx\u0b83\u0b8a\u0b9bement;\u6209ual\u0100;T\u0b92\u0b93\u6260ilde;\uc000\u2242\u0338ists;\u6204reater\u0380;EFGLST\u0bb6\u0bb7\u0bbd\u0bc9\u0bd3\u0bd8\u0be5\u626fqual;\u6271ullEqual;\uc000\u2267\u0338reater;\uc000\u226b\u0338ess;\u6279lantEqual;\uc000\u2a7e\u0338ilde;\u6275ump\u0144\u0bf2\u0bfdownHump;\uc000\u224e\u0338qual;\uc000\u224f\u0338e\u0100fs\u0c0a\u0c27tTriangle\u0180;BE\u0c1a\u0c1b\u0c21\u62eaar;\uc000\u29cf\u0338qual;\u62ecs\u0300;EGLST\u0c35\u0c36\u0c3c\u0c44\u0c4b\u0c58\u626equal;\u6270reater;\u6278ess;\uc000\u226a\u0338lantEqual;\uc000\u2a7d\u0338ilde;\u6274ested\u0100GL\u0c68\u0c79reaterGreater;\uc000\u2aa2\u0338essLess;\uc000\u2aa1\u0338recedes\u0180;ES\u0c92\u0c93\u0c9b\u6280qual;\uc000\u2aaf\u0338lantEqual;\u62e0\u0100ei\u0cab\u0cb9verseElement;\u620cghtTriangle\u0180;BE\u0ccb\u0ccc\u0cd2\u62ebar;\uc000\u29d0\u0338qual;\u62ed\u0100qu\u0cdd\u0d0cuareSu\u0100bp\u0ce8\u0cf9set\u0100;E\u0cf0\u0cf3\uc000\u228f\u0338qual;\u62e2erset\u0100;E\u0d03\u0d06\uc000\u2290\u0338qual;\u62e3\u0180bcp\u0d13\u0d24\u0d4eset\u0100;E\u0d1b\u0d1e\uc000\u2282\u20d2qual;\u6288ceeds\u0200;EST\u0d32\u0d33\u0d3b\u0d46\u6281qual;\uc000\u2ab0\u0338lantEqual;\u62e1ilde;\uc000\u227f\u0338erset\u0100;E\u0d58\u0d5b\uc000\u2283\u20d2qual;\u6289ilde\u0200;EFT\u0d6e\u0d6f\u0d75\u0d7f\u6241qual;\u6244ullEqual;\u6247ilde;\u6249erticalBar;\u6224cr;\uc000\ud835\udca9ilde\u803b\xd1\u40d1;\u439d\u0700Eacdfgmoprstuv\u0dbd\u0dc2\u0dc9\u0dd5\u0ddb\u0de0\u0de7\u0dfc\u0e02\u0e20\u0e22\u0e32\u0e3f\u0e44lig;\u4152cute\u803b\xd3\u40d3\u0100iy\u0dce\u0dd3rc\u803b\xd4\u40d4;\u441eblac;\u4150r;\uc000\ud835\udd12rave\u803b\xd2\u40d2\u0180aei\u0dee\u0df2\u0df6cr;\u414cga;\u43a9cron;\u439fpf;\uc000\ud835\udd46enCurly\u0100DQ\u0e0e\u0e1aoubleQuote;\u601cuote;\u6018;\u6a54\u0100cl\u0e27\u0e2cr;\uc000\ud835\udcaaash\u803b\xd8\u40d8i\u016c\u0e37\u0e3cde\u803b\xd5\u40d5es;\u6a37ml\u803b\xd6\u40d6er\u0100BP\u0e4b\u0e60\u0100ar\u0e50\u0e53r;\u603eac\u0100ek\u0e5a\u0e5c;\u63deet;\u63b4arenthesis;\u63dc\u0480acfhilors\u0e7f\u0e87\u0e8a\u0e8f\u0e92\u0e94\u0e9d\u0eb0\u0efcrtialD;\u6202y;\u441fr;\uc000\ud835\udd13i;\u43a6;\u43a0usMinus;\u40b1\u0100ip\u0ea2\u0eadncareplan\xe5\u069df;\u6119\u0200;eio\u0eb9\u0eba\u0ee0\u0ee4\u6abbcedes\u0200;EST\u0ec8\u0ec9\u0ecf\u0eda\u627aqual;\u6aaflantEqual;\u627cilde;\u627eme;\u6033\u0100dp\u0ee9\u0eeeuct;\u620fortion\u0100;a\u0225\u0ef9l;\u621d\u0100ci\u0f01\u0f06r;\uc000\ud835\udcab;\u43a8\u0200Ufos\u0f11\u0f16\u0f1b\u0f1fOT\u803b"\u4022r;\uc000\ud835\udd14pf;\u611acr;\uc000\ud835\udcac\u0600BEacefhiorsu\u0f3e\u0f43\u0f47\u0f60\u0f73\u0fa7\u0faa\u0fad\u1096\u10a9\u10b4\u10bearr;\u6910G\u803b\xae\u40ae\u0180cnr\u0f4e\u0f53\u0f56ute;\u4154g;\u67ebr\u0100;t\u0f5c\u0f5d\u61a0l;\u6916\u0180aey\u0f67\u0f6c\u0f71ron;\u4158dil;\u4156;\u4420\u0100;v\u0f78\u0f79\u611cerse\u0100EU\u0f82\u0f99\u0100lq\u0f87\u0f8eement;\u620builibrium;\u61cbpEquilibrium;\u696fr\xbb\u0f79o;\u43a1ght\u0400ACDFTUVa\u0fc1\u0feb\u0ff3\u1022\u1028\u105b\u1087\u03d8\u0100nr\u0fc6\u0fd2gleBracket;\u67e9row\u0180;BL\u0fdc\u0fdd\u0fe1\u6192ar;\u61e5eftArrow;\u61c4eiling;\u6309o\u01f5\u0ff9\0\u1005bleBracket;\u67e7n\u01d4\u100a\0\u1014eeVector;\u695dector\u0100;B\u101d\u101e\u61c2ar;\u6955loor;\u630b\u0100er\u102d\u1043e\u0180;AV\u1035\u1036\u103c\u62a2rrow;\u61a6ector;\u695biangle\u0180;BE\u1050\u1051\u1055\u62b3ar;\u69d0qual;\u62b5p\u0180DTV\u1063\u106e\u1078ownVector;\u694feeVector;\u695cector\u0100;B\u1082\u1083\u61bear;\u6954ector\u0100;B\u1091\u1092\u61c0ar;\u6953\u0100pu\u109b\u109ef;\u611dndImplies;\u6970ightarrow;\u61db\u0100ch\u10b9\u10bcr;\u611b;\u61b1leDelayed;\u69f4\u0680HOacfhimoqstu\u10e4\u10f1\u10f7\u10fd\u1119\u111e\u1151\u1156\u1161\u1167\u11b5\u11bb\u11bf\u0100Cc\u10e9\u10eeHcy;\u4429y;\u4428FTcy;\u442ccute;\u415a\u0280;aeiy\u1108\u1109\u110e\u1113\u1117\u6abcron;\u4160dil;\u415erc;\u415c;\u4421r;\uc000\ud835\udd16ort\u0200DLRU\u112a\u1134\u113e\u1149ownArrow\xbb\u041eeftArrow\xbb\u089aightArrow\xbb\u0fddpArrow;\u6191gma;\u43a3allCircle;\u6218pf;\uc000\ud835\udd4a\u0272\u116d\0\0\u1170t;\u621aare\u0200;ISU\u117b\u117c\u1189\u11af\u65a1ntersection;\u6293u\u0100bp\u118f\u119eset\u0100;E\u1197\u1198\u628fqual;\u6291erset\u0100;E\u11a8\u11a9\u6290qual;\u6292nion;\u6294cr;\uc000\ud835\udcaear;\u62c6\u0200bcmp\u11c8\u11db\u1209\u120b\u0100;s\u11cd\u11ce\u62d0et\u0100;E\u11cd\u11d5qual;\u6286\u0100ch\u11e0\u1205eeds\u0200;EST\u11ed\u11ee\u11f4\u11ff\u627bqual;\u6ab0lantEqual;\u627dilde;\u627fTh\xe1\u0f8c;\u6211\u0180;es\u1212\u1213\u1223\u62d1rset\u0100;E\u121c\u121d\u6283qual;\u6287et\xbb\u1213\u0580HRSacfhiors\u123e\u1244\u1249\u1255\u125e\u1271\u1276\u129f\u12c2\u12c8\u12d1ORN\u803b\xde\u40deADE;\u6122\u0100Hc\u124e\u1252cy;\u440by;\u4426\u0100bu\u125a\u125c;\u4009;\u43a4\u0180aey\u1265\u126a\u126fron;\u4164dil;\u4162;\u4422r;\uc000\ud835\udd17\u0100ei\u127b\u1289\u01f2\u1280\0\u1287efore;\u6234a;\u4398\u0100cn\u128e\u1298kSpace;\uc000\u205f\u200aSpace;\u6009lde\u0200;EFT\u12ab\u12ac\u12b2\u12bc\u623cqual;\u6243ullEqual;\u6245ilde;\u6248pf;\uc000\ud835\udd4bipleDot;\u60db\u0100ct\u12d6\u12dbr;\uc000\ud835\udcafrok;\u4166\u0ae1\u12f7\u130e\u131a\u1326\0\u132c\u1331\0\0\0\0\0\u1338\u133d\u1377\u1385\0\u13ff\u1404\u140a\u1410\u0100cr\u12fb\u1301ute\u803b\xda\u40dar\u0100;o\u1307\u1308\u619fcir;\u6949r\u01e3\u1313\0\u1316y;\u440eve;\u416c\u0100iy\u131e\u1323rc\u803b\xdb\u40db;\u4423blac;\u4170r;\uc000\ud835\udd18rave\u803b\xd9\u40d9acr;\u416a\u0100di\u1341\u1369er\u0100BP\u1348\u135d\u0100ar\u134d\u1350r;\u405fac\u0100ek\u1357\u1359;\u63dfet;\u63b5arenthesis;\u63ddon\u0100;P\u1370\u1371\u62c3lus;\u628e\u0100gp\u137b\u137fon;\u4172f;\uc000\ud835\udd4c\u0400ADETadps\u1395\u13ae\u13b8\u13c4\u03e8\u13d2\u13d7\u13f3rrow\u0180;BD\u1150\u13a0\u13a4ar;\u6912ownArrow;\u61c5ownArrow;\u6195quilibrium;\u696eee\u0100;A\u13cb\u13cc\u62a5rrow;\u61a5own\xe1\u03f3er\u0100LR\u13de\u13e8eftArrow;\u6196ightArrow;\u6197i\u0100;l\u13f9\u13fa\u43d2on;\u43a5ing;\u416ecr;\uc000\ud835\udcb0ilde;\u4168ml\u803b\xdc\u40dc\u0480Dbcdefosv\u1427\u142c\u1430\u1433\u143e\u1485\u148a\u1490\u1496ash;\u62abar;\u6aeby;\u4412ash\u0100;l\u143b\u143c\u62a9;\u6ae6\u0100er\u1443\u1445;\u62c1\u0180bty\u144c\u1450\u147aar;\u6016\u0100;i\u144f\u1455cal\u0200BLST\u1461\u1465\u146a\u1474ar;\u6223ine;\u407ceparator;\u6758ilde;\u6240ThinSpace;\u600ar;\uc000\ud835\udd19pf;\uc000\ud835\udd4dcr;\uc000\ud835\udcb1dash;\u62aa\u0280cefos\u14a7\u14ac\u14b1\u14b6\u14bcirc;\u4174dge;\u62c0r;\uc000\ud835\udd1apf;\uc000\ud835\udd4ecr;\uc000\ud835\udcb2\u0200fios\u14cb\u14d0\u14d2\u14d8r;\uc000\ud835\udd1b;\u439epf;\uc000\ud835\udd4fcr;\uc000\ud835\udcb3\u0480AIUacfosu\u14f1\u14f5\u14f9\u14fd\u1504\u150f\u1514\u151a\u1520cy;\u442fcy;\u4407cy;\u442ecute\u803b\xdd\u40dd\u0100iy\u1509\u150drc;\u4176;\u442br;\uc000\ud835\udd1cpf;\uc000\ud835\udd50cr;\uc000\ud835\udcb4ml;\u4178\u0400Hacdefos\u1535\u1539\u153f\u154b\u154f\u155d\u1560\u1564cy;\u4416cute;\u4179\u0100ay\u1544\u1549ron;\u417d;\u4417ot;\u417b\u01f2\u1554\0\u155boWidt\xe8\u0ad9a;\u4396r;\u6128pf;\u6124cr;\uc000\ud835\udcb5\u0be1\u1583\u158a\u1590\0\u15b0\u15b6\u15bf\0\0\0\0\u15c6\u15db\u15eb\u165f\u166d\0\u1695\u169b\u16b2\u16b9\0\u16becute\u803b\xe1\u40e1reve;\u4103\u0300;Ediuy\u159c\u159d\u15a1\u15a3\u15a8\u15ad\u623e;\uc000\u223e\u0333;\u623frc\u803b\xe2\u40e2te\u80bb\xb4\u0306;\u4430lig\u803b\xe6\u40e6\u0100;r\xb2\u15ba;\uc000\ud835\udd1erave\u803b\xe0\u40e0\u0100ep\u15ca\u15d6\u0100fp\u15cf\u15d4sym;\u6135\xe8\u15d3ha;\u43b1\u0100ap\u15dfc\u0100cl\u15e4\u15e7r;\u4101g;\u6a3f\u0264\u15f0\0\0\u160a\u0280;adsv\u15fa\u15fb\u15ff\u1601\u1607\u6227nd;\u6a55;\u6a5clope;\u6a58;\u6a5a\u0380;elmrsz\u1618\u1619\u161b\u161e\u163f\u164f\u1659\u6220;\u69a4e\xbb\u1619sd\u0100;a\u1625\u1626\u6221\u0461\u1630\u1632\u1634\u1636\u1638\u163a\u163c\u163e;\u69a8;\u69a9;\u69aa;\u69ab;\u69ac;\u69ad;\u69ae;\u69aft\u0100;v\u1645\u1646\u621fb\u0100;d\u164c\u164d\u62be;\u699d\u0100pt\u1654\u1657h;\u6222\xbb\xb9arr;\u637c\u0100gp\u1663\u1667on;\u4105f;\uc000\ud835\udd52\u0380;Eaeiop\u12c1\u167b\u167d\u1682\u1684\u1687\u168a;\u6a70cir;\u6a6f;\u624ad;\u624bs;\u4027rox\u0100;e\u12c1\u1692\xf1\u1683ing\u803b\xe5\u40e5\u0180cty\u16a1\u16a6\u16a8r;\uc000\ud835\udcb6;\u402amp\u0100;e\u12c1\u16af\xf1\u0288ilde\u803b\xe3\u40e3ml\u803b\xe4\u40e4\u0100ci\u16c2\u16c8onin\xf4\u0272nt;\u6a11\u0800Nabcdefiklnoprsu\u16ed\u16f1\u1730\u173c\u1743\u1748\u1778\u177d\u17e0\u17e6\u1839\u1850\u170d\u193d\u1948\u1970ot;\u6aed\u0100cr\u16f6\u171ek\u0200ceps\u1700\u1705\u170d\u1713ong;\u624cpsilon;\u43f6rime;\u6035im\u0100;e\u171a\u171b\u623dq;\u62cd\u0176\u1722\u1726ee;\u62bded\u0100;g\u172c\u172d\u6305e\xbb\u172drk\u0100;t\u135c\u1737brk;\u63b6\u0100oy\u1701\u1741;\u4431quo;\u601e\u0280cmprt\u1753\u175b\u1761\u1764\u1768aus\u0100;e\u010a\u0109ptyv;\u69b0s\xe9\u170cno\xf5\u0113\u0180ahw\u176f\u1771\u1773;\u43b2;\u6136een;\u626cr;\uc000\ud835\udd1fg\u0380costuvw\u178d\u179d\u17b3\u17c1\u17d5\u17db\u17de\u0180aiu\u1794\u1796\u179a\xf0\u0760rc;\u65efp\xbb\u1371\u0180dpt\u17a4\u17a8\u17adot;\u6a00lus;\u6a01imes;\u6a02\u0271\u17b9\0\0\u17becup;\u6a06ar;\u6605riangle\u0100du\u17cd\u17d2own;\u65bdp;\u65b3plus;\u6a04e\xe5\u1444\xe5\u14adarow;\u690d\u0180ako\u17ed\u1826\u1835\u0100cn\u17f2\u1823k\u0180lst\u17fa\u05ab\u1802ozenge;\u69ebriangle\u0200;dlr\u1812\u1813\u1818\u181d\u65b4own;\u65beeft;\u65c2ight;\u65b8k;\u6423\u01b1\u182b\0\u1833\u01b2\u182f\0\u1831;\u6592;\u65914;\u6593ck;\u6588\u0100eo\u183e\u184d\u0100;q\u1843\u1846\uc000=\u20e5uiv;\uc000\u2261\u20e5t;\u6310\u0200ptwx\u1859\u185e\u1867\u186cf;\uc000\ud835\udd53\u0100;t\u13cb\u1863om\xbb\u13cctie;\u62c8\u0600DHUVbdhmptuv\u1885\u1896\u18aa\u18bb\u18d7\u18db\u18ec\u18ff\u1905\u190a\u1910\u1921\u0200LRlr\u188e\u1890\u1892\u1894;\u6557;\u6554;\u6556;\u6553\u0280;DUdu\u18a1\u18a2\u18a4\u18a6\u18a8\u6550;\u6566;\u6569;\u6564;\u6567\u0200LRlr\u18b3\u18b5\u18b7\u18b9;\u655d;\u655a;\u655c;\u6559\u0380;HLRhlr\u18ca\u18cb\u18cd\u18cf\u18d1\u18d3\u18d5\u6551;\u656c;\u6563;\u6560;\u656b;\u6562;\u655fox;\u69c9\u0200LRlr\u18e4\u18e6\u18e8\u18ea;\u6555;\u6552;\u6510;\u650c\u0280;DUdu\u06bd\u18f7\u18f9\u18fb\u18fd;\u6565;\u6568;\u652c;\u6534inus;\u629flus;\u629eimes;\u62a0\u0200LRlr\u1919\u191b\u191d\u191f;\u655b;\u6558;\u6518;\u6514\u0380;HLRhlr\u1930\u1931\u1933\u1935\u1937\u1939\u193b\u6502;\u656a;\u6561;\u655e;\u653c;\u6524;\u651c\u0100ev\u0123\u1942bar\u803b\xa6\u40a6\u0200ceio\u1951\u1956\u195a\u1960r;\uc000\ud835\udcb7mi;\u604fm\u0100;e\u171a\u171cl\u0180;bh\u1968\u1969\u196b\u405c;\u69c5sub;\u67c8\u016c\u1974\u197el\u0100;e\u1979\u197a\u6022t\xbb\u197ap\u0180;Ee\u012f\u1985\u1987;\u6aae\u0100;q\u06dc\u06db\u0ce1\u19a7\0\u19e8\u1a11\u1a15\u1a32\0\u1a37\u1a50\0\0\u1ab4\0\0\u1ac1\0\0\u1b21\u1b2e\u1b4d\u1b52\0\u1bfd\0\u1c0c\u0180cpr\u19ad\u19b2\u19ddute;\u4107\u0300;abcds\u19bf\u19c0\u19c4\u19ca\u19d5\u19d9\u6229nd;\u6a44rcup;\u6a49\u0100au\u19cf\u19d2p;\u6a4bp;\u6a47ot;\u6a40;\uc000\u2229\ufe00\u0100eo\u19e2\u19e5t;\u6041\xee\u0693\u0200aeiu\u19f0\u19fb\u1a01\u1a05\u01f0\u19f5\0\u19f8s;\u6a4don;\u410ddil\u803b\xe7\u40e7rc;\u4109ps\u0100;s\u1a0c\u1a0d\u6a4cm;\u6a50ot;\u410b\u0180dmn\u1a1b\u1a20\u1a26il\u80bb\xb8\u01adptyv;\u69b2t\u8100\xa2;e\u1a2d\u1a2e\u40a2r\xe4\u01b2r;\uc000\ud835\udd20\u0180cei\u1a3d\u1a40\u1a4dy;\u4447ck\u0100;m\u1a47\u1a48\u6713ark\xbb\u1a48;\u43c7r\u0380;Ecefms\u1a5f\u1a60\u1a62\u1a6b\u1aa4\u1aaa\u1aae\u65cb;\u69c3\u0180;el\u1a69\u1a6a\u1a6d\u42c6q;\u6257e\u0261\u1a74\0\0\u1a88rrow\u0100lr\u1a7c\u1a81eft;\u61baight;\u61bb\u0280RSacd\u1a92\u1a94\u1a96\u1a9a\u1a9f\xbb\u0f47;\u64c8st;\u629birc;\u629aash;\u629dnint;\u6a10id;\u6aefcir;\u69c2ubs\u0100;u\u1abb\u1abc\u6663it\xbb\u1abc\u02ec\u1ac7\u1ad4\u1afa\0\u1b0aon\u0100;e\u1acd\u1ace\u403a\u0100;q\xc7\xc6\u026d\u1ad9\0\0\u1ae2a\u0100;t\u1ade\u1adf\u402c;\u4040\u0180;fl\u1ae8\u1ae9\u1aeb\u6201\xee\u1160e\u0100mx\u1af1\u1af6ent\xbb\u1ae9e\xf3\u024d\u01e7\u1afe\0\u1b07\u0100;d\u12bb\u1b02ot;\u6a6dn\xf4\u0246\u0180fry\u1b10\u1b14\u1b17;\uc000\ud835\udd54o\xe4\u0254\u8100\xa9;s\u0155\u1b1dr;\u6117\u0100ao\u1b25\u1b29rr;\u61b5ss;\u6717\u0100cu\u1b32\u1b37r;\uc000\ud835\udcb8\u0100bp\u1b3c\u1b44\u0100;e\u1b41\u1b42\u6acf;\u6ad1\u0100;e\u1b49\u1b4a\u6ad0;\u6ad2dot;\u62ef\u0380delprvw\u1b60\u1b6c\u1b77\u1b82\u1bac\u1bd4\u1bf9arr\u0100lr\u1b68\u1b6a;\u6938;\u6935\u0270\u1b72\0\0\u1b75r;\u62dec;\u62dfarr\u0100;p\u1b7f\u1b80\u61b6;\u693d\u0300;bcdos\u1b8f\u1b90\u1b96\u1ba1\u1ba5\u1ba8\u622arcap;\u6a48\u0100au\u1b9b\u1b9ep;\u6a46p;\u6a4aot;\u628dr;\u6a45;\uc000\u222a\ufe00\u0200alrv\u1bb5\u1bbf\u1bde\u1be3rr\u0100;m\u1bbc\u1bbd\u61b7;\u693cy\u0180evw\u1bc7\u1bd4\u1bd8q\u0270\u1bce\0\0\u1bd2re\xe3\u1b73u\xe3\u1b75ee;\u62ceedge;\u62cfen\u803b\xa4\u40a4earrow\u0100lr\u1bee\u1bf3eft\xbb\u1b80ight\xbb\u1bbde\xe4\u1bdd\u0100ci\u1c01\u1c07onin\xf4\u01f7nt;\u6231lcty;\u632d\u0980AHabcdefhijlorstuwz\u1c38\u1c3b\u1c3f\u1c5d\u1c69\u1c75\u1c8a\u1c9e\u1cac\u1cb7\u1cfb\u1cff\u1d0d\u1d7b\u1d91\u1dab\u1dbb\u1dc6\u1dcdr\xf2\u0381ar;\u6965\u0200glrs\u1c48\u1c4d\u1c52\u1c54ger;\u6020eth;\u6138\xf2\u1133h\u0100;v\u1c5a\u1c5b\u6010\xbb\u090a\u016b\u1c61\u1c67arow;\u690fa\xe3\u0315\u0100ay\u1c6e\u1c73ron;\u410f;\u4434\u0180;ao\u0332\u1c7c\u1c84\u0100gr\u02bf\u1c81r;\u61catseq;\u6a77\u0180glm\u1c91\u1c94\u1c98\u803b\xb0\u40b0ta;\u43b4ptyv;\u69b1\u0100ir\u1ca3\u1ca8sht;\u697f;\uc000\ud835\udd21ar\u0100lr\u1cb3\u1cb5\xbb\u08dc\xbb\u101e\u0280aegsv\u1cc2\u0378\u1cd6\u1cdc\u1ce0m\u0180;os\u0326\u1cca\u1cd4nd\u0100;s\u0326\u1cd1uit;\u6666amma;\u43ddin;\u62f2\u0180;io\u1ce7\u1ce8\u1cf8\u40f7de\u8100\xf7;o\u1ce7\u1cf0ntimes;\u62c7n\xf8\u1cf7cy;\u4452c\u026f\u1d06\0\0\u1d0arn;\u631eop;\u630d\u0280lptuw\u1d18\u1d1d\u1d22\u1d49\u1d55lar;\u4024f;\uc000\ud835\udd55\u0280;emps\u030b\u1d2d\u1d37\u1d3d\u1d42q\u0100;d\u0352\u1d33ot;\u6251inus;\u6238lus;\u6214quare;\u62a1blebarwedg\xe5\xfan\u0180adh\u112e\u1d5d\u1d67ownarrow\xf3\u1c83arpoon\u0100lr\u1d72\u1d76ef\xf4\u1cb4igh\xf4\u1cb6\u0162\u1d7f\u1d85karo\xf7\u0f42\u026f\u1d8a\0\0\u1d8ern;\u631fop;\u630c\u0180cot\u1d98\u1da3\u1da6\u0100ry\u1d9d\u1da1;\uc000\ud835\udcb9;\u4455l;\u69f6rok;\u4111\u0100dr\u1db0\u1db4ot;\u62f1i\u0100;f\u1dba\u1816\u65bf\u0100ah\u1dc0\u1dc3r\xf2\u0429a\xf2\u0fa6angle;\u69a6\u0100ci\u1dd2\u1dd5y;\u445fgrarr;\u67ff\u0900Dacdefglmnopqrstux\u1e01\u1e09\u1e19\u1e38\u0578\u1e3c\u1e49\u1e61\u1e7e\u1ea5\u1eaf\u1ebd\u1ee1\u1f2a\u1f37\u1f44\u1f4e\u1f5a\u0100Do\u1e06\u1d34o\xf4\u1c89\u0100cs\u1e0e\u1e14ute\u803b\xe9\u40e9ter;\u6a6e\u0200aioy\u1e22\u1e27\u1e31\u1e36ron;\u411br\u0100;c\u1e2d\u1e2e\u6256\u803b\xea\u40ealon;\u6255;\u444dot;\u4117\u0100Dr\u1e41\u1e45ot;\u6252;\uc000\ud835\udd22\u0180;rs\u1e50\u1e51\u1e57\u6a9aave\u803b\xe8\u40e8\u0100;d\u1e5c\u1e5d\u6a96ot;\u6a98\u0200;ils\u1e6a\u1e6b\u1e72\u1e74\u6a99nters;\u63e7;\u6113\u0100;d\u1e79\u1e7a\u6a95ot;\u6a97\u0180aps\u1e85\u1e89\u1e97cr;\u4113ty\u0180;sv\u1e92\u1e93\u1e95\u6205et\xbb\u1e93p\u01001;\u1e9d\u1ea4\u0133\u1ea1\u1ea3;\u6004;\u6005\u6003\u0100gs\u1eaa\u1eac;\u414bp;\u6002\u0100gp\u1eb4\u1eb8on;\u4119f;\uc000\ud835\udd56\u0180als\u1ec4\u1ece\u1ed2r\u0100;s\u1eca\u1ecb\u62d5l;\u69e3us;\u6a71i\u0180;lv\u1eda\u1edb\u1edf\u43b5on\xbb\u1edb;\u43f5\u0200csuv\u1eea\u1ef3\u1f0b\u1f23\u0100io\u1eef\u1e31rc\xbb\u1e2e\u0269\u1ef9\0\0\u1efb\xed\u0548ant\u0100gl\u1f02\u1f06tr\xbb\u1e5dess\xbb\u1e7a\u0180aei\u1f12\u1f16\u1f1als;\u403dst;\u625fv\u0100;D\u0235\u1f20D;\u6a78parsl;\u69e5\u0100Da\u1f2f\u1f33ot;\u6253rr;\u6971\u0180cdi\u1f3e\u1f41\u1ef8r;\u612fo\xf4\u0352\u0100ah\u1f49\u1f4b;\u43b7\u803b\xf0\u40f0\u0100mr\u1f53\u1f57l\u803b\xeb\u40ebo;\u60ac\u0180cip\u1f61\u1f64\u1f67l;\u4021s\xf4\u056e\u0100eo\u1f6c\u1f74ctatio\xee\u0559nential\xe5\u0579\u09e1\u1f92\0\u1f9e\0\u1fa1\u1fa7\0\0\u1fc6\u1fcc\0\u1fd3\0\u1fe6\u1fea\u2000\0\u2008\u205allingdotse\xf1\u1e44y;\u4444male;\u6640\u0180ilr\u1fad\u1fb3\u1fc1lig;\u8000\ufb03\u0269\u1fb9\0\0\u1fbdg;\u8000\ufb00ig;\u8000\ufb04;\uc000\ud835\udd23lig;\u8000\ufb01lig;\uc000fj\u0180alt\u1fd9\u1fdc\u1fe1t;\u666dig;\u8000\ufb02ns;\u65b1of;\u4192\u01f0\u1fee\0\u1ff3f;\uc000\ud835\udd57\u0100ak\u05bf\u1ff7\u0100;v\u1ffc\u1ffd\u62d4;\u6ad9artint;\u6a0d\u0100ao\u200c\u2055\u0100cs\u2011\u2052\u03b1\u201a\u2030\u2038\u2045\u2048\0\u2050\u03b2\u2022\u2025\u2027\u202a\u202c\0\u202e\u803b\xbd\u40bd;\u6153\u803b\xbc\u40bc;\u6155;\u6159;\u615b\u01b3\u2034\0\u2036;\u6154;\u6156\u02b4\u203e\u2041\0\0\u2043\u803b\xbe\u40be;\u6157;\u615c5;\u6158\u01b6\u204c\0\u204e;\u615a;\u615d8;\u615el;\u6044wn;\u6322cr;\uc000\ud835\udcbb\u0880Eabcdefgijlnorstv\u2082\u2089\u209f\u20a5\u20b0\u20b4\u20f0\u20f5\u20fa\u20ff\u2103\u2112\u2138\u0317\u213e\u2152\u219e\u0100;l\u064d\u2087;\u6a8c\u0180cmp\u2090\u2095\u209dute;\u41f5ma\u0100;d\u209c\u1cda\u43b3;\u6a86reve;\u411f\u0100iy\u20aa\u20aerc;\u411d;\u4433ot;\u4121\u0200;lqs\u063e\u0642\u20bd\u20c9\u0180;qs\u063e\u064c\u20c4lan\xf4\u0665\u0200;cdl\u0665\u20d2\u20d5\u20e5c;\u6aa9ot\u0100;o\u20dc\u20dd\u6a80\u0100;l\u20e2\u20e3\u6a82;\u6a84\u0100;e\u20ea\u20ed\uc000\u22db\ufe00s;\u6a94r;\uc000\ud835\udd24\u0100;g\u0673\u061bmel;\u6137cy;\u4453\u0200;Eaj\u065a\u210c\u210e\u2110;\u6a92;\u6aa5;\u6aa4\u0200Eaes\u211b\u211d\u2129\u2134;\u6269p\u0100;p\u2123\u2124\u6a8arox\xbb\u2124\u0100;q\u212e\u212f\u6a88\u0100;q\u212e\u211bim;\u62e7pf;\uc000\ud835\udd58\u0100ci\u2143\u2146r;\u610am\u0180;el\u066b\u214e\u2150;\u6a8e;\u6a90\u8300>;cdlqr\u05ee\u2160\u216a\u216e\u2173\u2179\u0100ci\u2165\u2167;\u6aa7r;\u6a7aot;\u62d7Par;\u6995uest;\u6a7c\u0280adels\u2184\u216a\u2190\u0656\u219b\u01f0\u2189\0\u218epro\xf8\u209er;\u6978q\u0100lq\u063f\u2196les\xf3\u2088i\xed\u066b\u0100en\u21a3\u21adrtneqq;\uc000\u2269\ufe00\xc5\u21aa\u0500Aabcefkosy\u21c4\u21c7\u21f1\u21f5\u21fa\u2218\u221d\u222f\u2268\u227dr\xf2\u03a0\u0200ilmr\u21d0\u21d4\u21d7\u21dbrs\xf0\u1484f\xbb\u2024il\xf4\u06a9\u0100dr\u21e0\u21e4cy;\u444a\u0180;cw\u08f4\u21eb\u21efir;\u6948;\u61adar;\u610firc;\u4125\u0180alr\u2201\u220e\u2213rts\u0100;u\u2209\u220a\u6665it\xbb\u220alip;\u6026con;\u62b9r;\uc000\ud835\udd25s\u0100ew\u2223\u2229arow;\u6925arow;\u6926\u0280amopr\u223a\u223e\u2243\u225e\u2263rr;\u61fftht;\u623bk\u0100lr\u2249\u2253eftarrow;\u61a9ightarrow;\u61aaf;\uc000\ud835\udd59bar;\u6015\u0180clt\u226f\u2274\u2278r;\uc000\ud835\udcbdas\xe8\u21f4rok;\u4127\u0100bp\u2282\u2287ull;\u6043hen\xbb\u1c5b\u0ae1\u22a3\0\u22aa\0\u22b8\u22c5\u22ce\0\u22d5\u22f3\0\0\u22f8\u2322\u2367\u2362\u237f\0\u2386\u23aa\u23b4cute\u803b\xed\u40ed\u0180;iy\u0771\u22b0\u22b5rc\u803b\xee\u40ee;\u4438\u0100cx\u22bc\u22bfy;\u4435cl\u803b\xa1\u40a1\u0100fr\u039f\u22c9;\uc000\ud835\udd26rave\u803b\xec\u40ec\u0200;ino\u073e\u22dd\u22e9\u22ee\u0100in\u22e2\u22e6nt;\u6a0ct;\u622dfin;\u69dcta;\u6129lig;\u4133\u0180aop\u22fe\u231a\u231d\u0180cgt\u2305\u2308\u2317r;\u412b\u0180elp\u071f\u230f\u2313in\xe5\u078ear\xf4\u0720h;\u4131f;\u62b7ed;\u41b5\u0280;cfot\u04f4\u232c\u2331\u233d\u2341are;\u6105in\u0100;t\u2338\u2339\u621eie;\u69dddo\xf4\u2319\u0280;celp\u0757\u234c\u2350\u235b\u2361al;\u62ba\u0100gr\u2355\u2359er\xf3\u1563\xe3\u234darhk;\u6a17rod;\u6a3c\u0200cgpt\u236f\u2372\u2376\u237by;\u4451on;\u412ff;\uc000\ud835\udd5aa;\u43b9uest\u803b\xbf\u40bf\u0100ci\u238a\u238fr;\uc000\ud835\udcben\u0280;Edsv\u04f4\u239b\u239d\u23a1\u04f3;\u62f9ot;\u62f5\u0100;v\u23a6\u23a7\u62f4;\u62f3\u0100;i\u0777\u23aelde;\u4129\u01eb\u23b8\0\u23bccy;\u4456l\u803b\xef\u40ef\u0300cfmosu\u23cc\u23d7\u23dc\u23e1\u23e7\u23f5\u0100iy\u23d1\u23d5rc;\u4135;\u4439r;\uc000\ud835\udd27ath;\u4237pf;\uc000\ud835\udd5b\u01e3\u23ec\0\u23f1r;\uc000\ud835\udcbfrcy;\u4458kcy;\u4454\u0400acfghjos\u240b\u2416\u2422\u2427\u242d\u2431\u2435\u243bppa\u0100;v\u2413\u2414\u43ba;\u43f0\u0100ey\u241b\u2420dil;\u4137;\u443ar;\uc000\ud835\udd28reen;\u4138cy;\u4445cy;\u445cpf;\uc000\ud835\udd5ccr;\uc000\ud835\udcc0\u0b80ABEHabcdefghjlmnoprstuv\u2470\u2481\u2486\u248d\u2491\u250e\u253d\u255a\u2580\u264e\u265e\u2665\u2679\u267d\u269a\u26b2\u26d8\u275d\u2768\u278b\u27c0\u2801\u2812\u0180art\u2477\u247a\u247cr\xf2\u09c6\xf2\u0395ail;\u691barr;\u690e\u0100;g\u0994\u248b;\u6a8bar;\u6962\u0963\u24a5\0\u24aa\0\u24b1\0\0\0\0\0\u24b5\u24ba\0\u24c6\u24c8\u24cd\0\u24f9ute;\u413amptyv;\u69b4ra\xee\u084cbda;\u43bbg\u0180;dl\u088e\u24c1\u24c3;\u6991\xe5\u088e;\u6a85uo\u803b\xab\u40abr\u0400;bfhlpst\u0899\u24de\u24e6\u24e9\u24eb\u24ee\u24f1\u24f5\u0100;f\u089d\u24e3s;\u691fs;\u691d\xeb\u2252p;\u61abl;\u6939im;\u6973l;\u61a2\u0180;ae\u24ff\u2500\u2504\u6aabil;\u6919\u0100;s\u2509\u250a\u6aad;\uc000\u2aad\ufe00\u0180abr\u2515\u2519\u251drr;\u690crk;\u6772\u0100ak\u2522\u252cc\u0100ek\u2528\u252a;\u407b;\u405b\u0100es\u2531\u2533;\u698bl\u0100du\u2539\u253b;\u698f;\u698d\u0200aeuy\u2546\u254b\u2556\u2558ron;\u413e\u0100di\u2550\u2554il;\u413c\xec\u08b0\xe2\u2529;\u443b\u0200cqrs\u2563\u2566\u256d\u257da;\u6936uo\u0100;r\u0e19\u1746\u0100du\u2572\u2577har;\u6967shar;\u694bh;\u61b2\u0280;fgqs\u258b\u258c\u0989\u25f3\u25ff\u6264t\u0280ahlrt\u2598\u25a4\u25b7\u25c2\u25e8rrow\u0100;t\u0899\u25a1a\xe9\u24f6arpoon\u0100du\u25af\u25b4own\xbb\u045ap\xbb\u0966eftarrows;\u61c7ight\u0180ahs\u25cd\u25d6\u25derrow\u0100;s\u08f4\u08a7arpoon\xf3\u0f98quigarro\xf7\u21f0hreetimes;\u62cb\u0180;qs\u258b\u0993\u25falan\xf4\u09ac\u0280;cdgs\u09ac\u260a\u260d\u261d\u2628c;\u6aa8ot\u0100;o\u2614\u2615\u6a7f\u0100;r\u261a\u261b\u6a81;\u6a83\u0100;e\u2622\u2625\uc000\u22da\ufe00s;\u6a93\u0280adegs\u2633\u2639\u263d\u2649\u264bppro\xf8\u24c6ot;\u62d6q\u0100gq\u2643\u2645\xf4\u0989gt\xf2\u248c\xf4\u099bi\xed\u09b2\u0180ilr\u2655\u08e1\u265asht;\u697c;\uc000\ud835\udd29\u0100;E\u099c\u2663;\u6a91\u0161\u2669\u2676r\u0100du\u25b2\u266e\u0100;l\u0965\u2673;\u696alk;\u6584cy;\u4459\u0280;acht\u0a48\u2688\u268b\u2691\u2696r\xf2\u25c1orne\xf2\u1d08ard;\u696bri;\u65fa\u0100io\u269f\u26a4dot;\u4140ust\u0100;a\u26ac\u26ad\u63b0che\xbb\u26ad\u0200Eaes\u26bb\u26bd\u26c9\u26d4;\u6268p\u0100;p\u26c3\u26c4\u6a89rox\xbb\u26c4\u0100;q\u26ce\u26cf\u6a87\u0100;q\u26ce\u26bbim;\u62e6\u0400abnoptwz\u26e9\u26f4\u26f7\u271a\u272f\u2741\u2747\u2750\u0100nr\u26ee\u26f1g;\u67ecr;\u61fdr\xeb\u08c1g\u0180lmr\u26ff\u270d\u2714eft\u0100ar\u09e6\u2707ight\xe1\u09f2apsto;\u67fcight\xe1\u09fdparrow\u0100lr\u2725\u2729ef\xf4\u24edight;\u61ac\u0180afl\u2736\u2739\u273dr;\u6985;\uc000\ud835\udd5dus;\u6a2dimes;\u6a34\u0161\u274b\u274fst;\u6217\xe1\u134e\u0180;ef\u2757\u2758\u1800\u65cange\xbb\u2758ar\u0100;l\u2764\u2765\u4028t;\u6993\u0280achmt\u2773\u2776\u277c\u2785\u2787r\xf2\u08a8orne\xf2\u1d8car\u0100;d\u0f98\u2783;\u696d;\u600eri;\u62bf\u0300achiqt\u2798\u279d\u0a40\u27a2\u27ae\u27bbquo;\u6039r;\uc000\ud835\udcc1m\u0180;eg\u09b2\u27aa\u27ac;\u6a8d;\u6a8f\u0100bu\u252a\u27b3o\u0100;r\u0e1f\u27b9;\u601arok;\u4142\u8400<;cdhilqr\u082b\u27d2\u2639\u27dc\u27e0\u27e5\u27ea\u27f0\u0100ci\u27d7\u27d9;\u6aa6r;\u6a79re\xe5\u25f2mes;\u62c9arr;\u6976uest;\u6a7b\u0100Pi\u27f5\u27f9ar;\u6996\u0180;ef\u2800\u092d\u181b\u65c3r\u0100du\u2807\u280dshar;\u694ahar;\u6966\u0100en\u2817\u2821rtneqq;\uc000\u2268\ufe00\xc5\u281e\u0700Dacdefhilnopsu\u2840\u2845\u2882\u288e\u2893\u28a0\u28a5\u28a8\u28da\u28e2\u28e4\u0a83\u28f3\u2902Dot;\u623a\u0200clpr\u284e\u2852\u2863\u287dr\u803b\xaf\u40af\u0100et\u2857\u2859;\u6642\u0100;e\u285e\u285f\u6720se\xbb\u285f\u0100;s\u103b\u2868to\u0200;dlu\u103b\u2873\u2877\u287bow\xee\u048cef\xf4\u090f\xf0\u13d1ker;\u65ae\u0100oy\u2887\u288cmma;\u6a29;\u443cash;\u6014asuredangle\xbb\u1626r;\uc000\ud835\udd2ao;\u6127\u0180cdn\u28af\u28b4\u28c9ro\u803b\xb5\u40b5\u0200;acd\u1464\u28bd\u28c0\u28c4s\xf4\u16a7ir;\u6af0ot\u80bb\xb7\u01b5us\u0180;bd\u28d2\u1903\u28d3\u6212\u0100;u\u1d3c\u28d8;\u6a2a\u0163\u28de\u28e1p;\u6adb\xf2\u2212\xf0\u0a81\u0100dp\u28e9\u28eeels;\u62a7f;\uc000\ud835\udd5e\u0100ct\u28f8\u28fdr;\uc000\ud835\udcc2pos\xbb\u159d\u0180;lm\u2909\u290a\u290d\u43bctimap;\u62b8\u0c00GLRVabcdefghijlmoprstuvw\u2942\u2953\u297e\u2989\u2998\u29da\u29e9\u2a15\u2a1a\u2a58\u2a5d\u2a83\u2a95\u2aa4\u2aa8\u2b04\u2b07\u2b44\u2b7f\u2bae\u2c34\u2c67\u2c7c\u2ce9\u0100gt\u2947\u294b;\uc000\u22d9\u0338\u0100;v\u2950\u0bcf\uc000\u226b\u20d2\u0180elt\u295a\u2972\u2976ft\u0100ar\u2961\u2967rrow;\u61cdightarrow;\u61ce;\uc000\u22d8\u0338\u0100;v\u297b\u0c47\uc000\u226a\u20d2ightarrow;\u61cf\u0100Dd\u298e\u2993ash;\u62afash;\u62ae\u0280bcnpt\u29a3\u29a7\u29ac\u29b1\u29ccla\xbb\u02deute;\u4144g;\uc000\u2220\u20d2\u0280;Eiop\u0d84\u29bc\u29c0\u29c5\u29c8;\uc000\u2a70\u0338d;\uc000\u224b\u0338s;\u4149ro\xf8\u0d84ur\u0100;a\u29d3\u29d4\u666el\u0100;s\u29d3\u0b38\u01f3\u29df\0\u29e3p\u80bb\xa0\u0b37mp\u0100;e\u0bf9\u0c00\u0280aeouy\u29f4\u29fe\u2a03\u2a10\u2a13\u01f0\u29f9\0\u29fb;\u6a43on;\u4148dil;\u4146ng\u0100;d\u0d7e\u2a0aot;\uc000\u2a6d\u0338p;\u6a42;\u443dash;\u6013\u0380;Aadqsx\u0b92\u2a29\u2a2d\u2a3b\u2a41\u2a45\u2a50rr;\u61d7r\u0100hr\u2a33\u2a36k;\u6924\u0100;o\u13f2\u13f0ot;\uc000\u2250\u0338ui\xf6\u0b63\u0100ei\u2a4a\u2a4ear;\u6928\xed\u0b98ist\u0100;s\u0ba0\u0b9fr;\uc000\ud835\udd2b\u0200Eest\u0bc5\u2a66\u2a79\u2a7c\u0180;qs\u0bbc\u2a6d\u0be1\u0180;qs\u0bbc\u0bc5\u2a74lan\xf4\u0be2i\xed\u0bea\u0100;r\u0bb6\u2a81\xbb\u0bb7\u0180Aap\u2a8a\u2a8d\u2a91r\xf2\u2971rr;\u61aear;\u6af2\u0180;sv\u0f8d\u2a9c\u0f8c\u0100;d\u2aa1\u2aa2\u62fc;\u62facy;\u445a\u0380AEadest\u2ab7\u2aba\u2abe\u2ac2\u2ac5\u2af6\u2af9r\xf2\u2966;\uc000\u2266\u0338rr;\u619ar;\u6025\u0200;fqs\u0c3b\u2ace\u2ae3\u2aeft\u0100ar\u2ad4\u2ad9rro\xf7\u2ac1ightarro\xf7\u2a90\u0180;qs\u0c3b\u2aba\u2aealan\xf4\u0c55\u0100;s\u0c55\u2af4\xbb\u0c36i\xed\u0c5d\u0100;r\u0c35\u2afei\u0100;e\u0c1a\u0c25i\xe4\u0d90\u0100pt\u2b0c\u2b11f;\uc000\ud835\udd5f\u8180\xac;in\u2b19\u2b1a\u2b36\u40acn\u0200;Edv\u0b89\u2b24\u2b28\u2b2e;\uc000\u22f9\u0338ot;\uc000\u22f5\u0338\u01e1\u0b89\u2b33\u2b35;\u62f7;\u62f6i\u0100;v\u0cb8\u2b3c\u01e1\u0cb8\u2b41\u2b43;\u62fe;\u62fd\u0180aor\u2b4b\u2b63\u2b69r\u0200;ast\u0b7b\u2b55\u2b5a\u2b5flle\xec\u0b7bl;\uc000\u2afd\u20e5;\uc000\u2202\u0338lint;\u6a14\u0180;ce\u0c92\u2b70\u2b73u\xe5\u0ca5\u0100;c\u0c98\u2b78\u0100;e\u0c92\u2b7d\xf1\u0c98\u0200Aait\u2b88\u2b8b\u2b9d\u2ba7r\xf2\u2988rr\u0180;cw\u2b94\u2b95\u2b99\u619b;\uc000\u2933\u0338;\uc000\u219d\u0338ghtarrow\xbb\u2b95ri\u0100;e\u0ccb\u0cd6\u0380chimpqu\u2bbd\u2bcd\u2bd9\u2b04\u0b78\u2be4\u2bef\u0200;cer\u0d32\u2bc6\u0d37\u2bc9u\xe5\u0d45;\uc000\ud835\udcc3ort\u026d\u2b05\0\0\u2bd6ar\xe1\u2b56m\u0100;e\u0d6e\u2bdf\u0100;q\u0d74\u0d73su\u0100bp\u2beb\u2bed\xe5\u0cf8\xe5\u0d0b\u0180bcp\u2bf6\u2c11\u2c19\u0200;Ees\u2bff\u2c00\u0d22\u2c04\u6284;\uc000\u2ac5\u0338et\u0100;e\u0d1b\u2c0bq\u0100;q\u0d23\u2c00c\u0100;e\u0d32\u2c17\xf1\u0d38\u0200;Ees\u2c22\u2c23\u0d5f\u2c27\u6285;\uc000\u2ac6\u0338et\u0100;e\u0d58\u2c2eq\u0100;q\u0d60\u2c23\u0200gilr\u2c3d\u2c3f\u2c45\u2c47\xec\u0bd7lde\u803b\xf1\u40f1\xe7\u0c43iangle\u0100lr\u2c52\u2c5ceft\u0100;e\u0c1a\u2c5a\xf1\u0c26ight\u0100;e\u0ccb\u2c65\xf1\u0cd7\u0100;m\u2c6c\u2c6d\u43bd\u0180;es\u2c74\u2c75\u2c79\u4023ro;\u6116p;\u6007\u0480DHadgilrs\u2c8f\u2c94\u2c99\u2c9e\u2ca3\u2cb0\u2cb6\u2cd3\u2ce3ash;\u62adarr;\u6904p;\uc000\u224d\u20d2ash;\u62ac\u0100et\u2ca8\u2cac;\uc000\u2265\u20d2;\uc000>\u20d2nfin;\u69de\u0180Aet\u2cbd\u2cc1\u2cc5rr;\u6902;\uc000\u2264\u20d2\u0100;r\u2cca\u2ccd\uc000<\u20d2ie;\uc000\u22b4\u20d2\u0100At\u2cd8\u2cdcrr;\u6903rie;\uc000\u22b5\u20d2im;\uc000\u223c\u20d2\u0180Aan\u2cf0\u2cf4\u2d02rr;\u61d6r\u0100hr\u2cfa\u2cfdk;\u6923\u0100;o\u13e7\u13e5ear;\u6927\u1253\u1a95\0\0\0\0\0\0\0\0\0\0\0\0\0\u2d2d\0\u2d38\u2d48\u2d60\u2d65\u2d72\u2d84\u1b07\0\0\u2d8d\u2dab\0\u2dc8\u2dce\0\u2ddc\u2e19\u2e2b\u2e3e\u2e43\u0100cs\u2d31\u1a97ute\u803b\xf3\u40f3\u0100iy\u2d3c\u2d45r\u0100;c\u1a9e\u2d42\u803b\xf4\u40f4;\u443e\u0280abios\u1aa0\u2d52\u2d57\u01c8\u2d5alac;\u4151v;\u6a38old;\u69bclig;\u4153\u0100cr\u2d69\u2d6dir;\u69bf;\uc000\ud835\udd2c\u036f\u2d79\0\0\u2d7c\0\u2d82n;\u42dbave\u803b\xf2\u40f2;\u69c1\u0100bm\u2d88\u0df4ar;\u69b5\u0200acit\u2d95\u2d98\u2da5\u2da8r\xf2\u1a80\u0100ir\u2d9d\u2da0r;\u69beoss;\u69bbn\xe5\u0e52;\u69c0\u0180aei\u2db1\u2db5\u2db9cr;\u414dga;\u43c9\u0180cdn\u2dc0\u2dc5\u01cdron;\u43bf;\u69b6pf;\uc000\ud835\udd60\u0180ael\u2dd4\u2dd7\u01d2r;\u69b7rp;\u69b9\u0380;adiosv\u2dea\u2deb\u2dee\u2e08\u2e0d\u2e10\u2e16\u6228r\xf2\u1a86\u0200;efm\u2df7\u2df8\u2e02\u2e05\u6a5dr\u0100;o\u2dfe\u2dff\u6134f\xbb\u2dff\u803b\xaa\u40aa\u803b\xba\u40bagof;\u62b6r;\u6a56lope;\u6a57;\u6a5b\u0180clo\u2e1f\u2e21\u2e27\xf2\u2e01ash\u803b\xf8\u40f8l;\u6298i\u016c\u2e2f\u2e34de\u803b\xf5\u40f5es\u0100;a\u01db\u2e3as;\u6a36ml\u803b\xf6\u40f6bar;\u633d\u0ae1\u2e5e\0\u2e7d\0\u2e80\u2e9d\0\u2ea2\u2eb9\0\0\u2ecb\u0e9c\0\u2f13\0\0\u2f2b\u2fbc\0\u2fc8r\u0200;ast\u0403\u2e67\u2e72\u0e85\u8100\xb6;l\u2e6d\u2e6e\u40b6le\xec\u0403\u0269\u2e78\0\0\u2e7bm;\u6af3;\u6afdy;\u443fr\u0280cimpt\u2e8b\u2e8f\u2e93\u1865\u2e97nt;\u4025od;\u402eil;\u6030enk;\u6031r;\uc000\ud835\udd2d\u0180imo\u2ea8\u2eb0\u2eb4\u0100;v\u2ead\u2eae\u43c6;\u43d5ma\xf4\u0a76ne;\u660e\u0180;tv\u2ebf\u2ec0\u2ec8\u43c0chfork\xbb\u1ffd;\u43d6\u0100au\u2ecf\u2edfn\u0100ck\u2ed5\u2eddk\u0100;h\u21f4\u2edb;\u610e\xf6\u21f4s\u0480;abcdemst\u2ef3\u2ef4\u1908\u2ef9\u2efd\u2f04\u2f06\u2f0a\u2f0e\u402bcir;\u6a23ir;\u6a22\u0100ou\u1d40\u2f02;\u6a25;\u6a72n\u80bb\xb1\u0e9dim;\u6a26wo;\u6a27\u0180ipu\u2f19\u2f20\u2f25ntint;\u6a15f;\uc000\ud835\udd61nd\u803b\xa3\u40a3\u0500;Eaceinosu\u0ec8\u2f3f\u2f41\u2f44\u2f47\u2f81\u2f89\u2f92\u2f7e\u2fb6;\u6ab3p;\u6ab7u\xe5\u0ed9\u0100;c\u0ece\u2f4c\u0300;acens\u0ec8\u2f59\u2f5f\u2f66\u2f68\u2f7eppro\xf8\u2f43urlye\xf1\u0ed9\xf1\u0ece\u0180aes\u2f6f\u2f76\u2f7approx;\u6ab9qq;\u6ab5im;\u62e8i\xed\u0edfme\u0100;s\u2f88\u0eae\u6032\u0180Eas\u2f78\u2f90\u2f7a\xf0\u2f75\u0180dfp\u0eec\u2f99\u2faf\u0180als\u2fa0\u2fa5\u2faalar;\u632eine;\u6312urf;\u6313\u0100;t\u0efb\u2fb4\xef\u0efbrel;\u62b0\u0100ci\u2fc0\u2fc5r;\uc000\ud835\udcc5;\u43c8ncsp;\u6008\u0300fiopsu\u2fda\u22e2\u2fdf\u2fe5\u2feb\u2ff1r;\uc000\ud835\udd2epf;\uc000\ud835\udd62rime;\u6057cr;\uc000\ud835\udcc6\u0180aeo\u2ff8\u3009\u3013t\u0100ei\u2ffe\u3005rnion\xf3\u06b0nt;\u6a16st\u0100;e\u3010\u3011\u403f\xf1\u1f19\xf4\u0f14\u0a80ABHabcdefhilmnoprstux\u3040\u3051\u3055\u3059\u30e0\u310e\u312b\u3147\u3162\u3172\u318e\u3206\u3215\u3224\u3229\u3258\u326e\u3272\u3290\u32b0\u32b7\u0180art\u3047\u304a\u304cr\xf2\u10b3\xf2\u03ddail;\u691car\xf2\u1c65ar;\u6964\u0380cdenqrt\u3068\u3075\u3078\u307f\u308f\u3094\u30cc\u0100eu\u306d\u3071;\uc000\u223d\u0331te;\u4155i\xe3\u116emptyv;\u69b3g\u0200;del\u0fd1\u3089\u308b\u308d;\u6992;\u69a5\xe5\u0fd1uo\u803b\xbb\u40bbr\u0580;abcfhlpstw\u0fdc\u30ac\u30af\u30b7\u30b9\u30bc\u30be\u30c0\u30c3\u30c7\u30cap;\u6975\u0100;f\u0fe0\u30b4s;\u6920;\u6933s;\u691e\xeb\u225d\xf0\u272el;\u6945im;\u6974l;\u61a3;\u619d\u0100ai\u30d1\u30d5il;\u691ao\u0100;n\u30db\u30dc\u6236al\xf3\u0f1e\u0180abr\u30e7\u30ea\u30eer\xf2\u17e5rk;\u6773\u0100ak\u30f3\u30fdc\u0100ek\u30f9\u30fb;\u407d;\u405d\u0100es\u3102\u3104;\u698cl\u0100du\u310a\u310c;\u698e;\u6990\u0200aeuy\u3117\u311c\u3127\u3129ron;\u4159\u0100di\u3121\u3125il;\u4157\xec\u0ff2\xe2\u30fa;\u4440\u0200clqs\u3134\u3137\u313d\u3144a;\u6937dhar;\u6969uo\u0100;r\u020e\u020dh;\u61b3\u0180acg\u314e\u315f\u0f44l\u0200;ips\u0f78\u3158\u315b\u109cn\xe5\u10bbar\xf4\u0fa9t;\u65ad\u0180ilr\u3169\u1023\u316esht;\u697d;\uc000\ud835\udd2f\u0100ao\u3177\u3186r\u0100du\u317d\u317f\xbb\u047b\u0100;l\u1091\u3184;\u696c\u0100;v\u318b\u318c\u43c1;\u43f1\u0180gns\u3195\u31f9\u31fcht\u0300ahlrst\u31a4\u31b0\u31c2\u31d8\u31e4\u31eerrow\u0100;t\u0fdc\u31ada\xe9\u30c8arpoon\u0100du\u31bb\u31bfow\xee\u317ep\xbb\u1092eft\u0100ah\u31ca\u31d0rrow\xf3\u0feaarpoon\xf3\u0551ightarrows;\u61c9quigarro\xf7\u30cbhreetimes;\u62ccg;\u42daingdotse\xf1\u1f32\u0180ahm\u320d\u3210\u3213r\xf2\u0feaa\xf2\u0551;\u600foust\u0100;a\u321e\u321f\u63b1che\xbb\u321fmid;\u6aee\u0200abpt\u3232\u323d\u3240\u3252\u0100nr\u3237\u323ag;\u67edr;\u61fer\xeb\u1003\u0180afl\u3247\u324a\u324er;\u6986;\uc000\ud835\udd63us;\u6a2eimes;\u6a35\u0100ap\u325d\u3267r\u0100;g\u3263\u3264\u4029t;\u6994olint;\u6a12ar\xf2\u31e3\u0200achq\u327b\u3280\u10bc\u3285quo;\u603ar;\uc000\ud835\udcc7\u0100bu\u30fb\u328ao\u0100;r\u0214\u0213\u0180hir\u3297\u329b\u32a0re\xe5\u31f8mes;\u62cai\u0200;efl\u32aa\u1059\u1821\u32ab\u65b9tri;\u69celuhar;\u6968;\u611e\u0d61\u32d5\u32db\u32df\u332c\u3338\u3371\0\u337a\u33a4\0\0\u33ec\u33f0\0\u3428\u3448\u345a\u34ad\u34b1\u34ca\u34f1\0\u3616\0\0\u3633cute;\u415bqu\xef\u27ba\u0500;Eaceinpsy\u11ed\u32f3\u32f5\u32ff\u3302\u330b\u330f\u331f\u3326\u3329;\u6ab4\u01f0\u32fa\0\u32fc;\u6ab8on;\u4161u\xe5\u11fe\u0100;d\u11f3\u3307il;\u415frc;\u415d\u0180Eas\u3316\u3318\u331b;\u6ab6p;\u6abaim;\u62e9olint;\u6a13i\xed\u1204;\u4441ot\u0180;be\u3334\u1d47\u3335\u62c5;\u6a66\u0380Aacmstx\u3346\u334a\u3357\u335b\u335e\u3363\u336drr;\u61d8r\u0100hr\u3350\u3352\xeb\u2228\u0100;o\u0a36\u0a34t\u803b\xa7\u40a7i;\u403bwar;\u6929m\u0100in\u3369\xf0nu\xf3\xf1t;\u6736r\u0100;o\u3376\u2055\uc000\ud835\udd30\u0200acoy\u3382\u3386\u3391\u33a0rp;\u666f\u0100hy\u338b\u338fcy;\u4449;\u4448rt\u026d\u3399\0\0\u339ci\xe4\u1464ara\xec\u2e6f\u803b\xad\u40ad\u0100gm\u33a8\u33b4ma\u0180;fv\u33b1\u33b2\u33b2\u43c3;\u43c2\u0400;deglnpr\u12ab\u33c5\u33c9\u33ce\u33d6\u33de\u33e1\u33e6ot;\u6a6a\u0100;q\u12b1\u12b0\u0100;E\u33d3\u33d4\u6a9e;\u6aa0\u0100;E\u33db\u33dc\u6a9d;\u6a9fe;\u6246lus;\u6a24arr;\u6972ar\xf2\u113d\u0200aeit\u33f8\u3408\u340f\u3417\u0100ls\u33fd\u3404lsetm\xe9\u336ahp;\u6a33parsl;\u69e4\u0100dl\u1463\u3414e;\u6323\u0100;e\u341c\u341d\u6aaa\u0100;s\u3422\u3423\u6aac;\uc000\u2aac\ufe00\u0180flp\u342e\u3433\u3442tcy;\u444c\u0100;b\u3438\u3439\u402f\u0100;a\u343e\u343f\u69c4r;\u633ff;\uc000\ud835\udd64a\u0100dr\u344d\u0402es\u0100;u\u3454\u3455\u6660it\xbb\u3455\u0180csu\u3460\u3479\u349f\u0100au\u3465\u346fp\u0100;s\u1188\u346b;\uc000\u2293\ufe00p\u0100;s\u11b4\u3475;\uc000\u2294\ufe00u\u0100bp\u347f\u348f\u0180;es\u1197\u119c\u3486et\u0100;e\u1197\u348d\xf1\u119d\u0180;es\u11a8\u11ad\u3496et\u0100;e\u11a8\u349d\xf1\u11ae\u0180;af\u117b\u34a6\u05b0r\u0165\u34ab\u05b1\xbb\u117car\xf2\u1148\u0200cemt\u34b9\u34be\u34c2\u34c5r;\uc000\ud835\udcc8tm\xee\xf1i\xec\u3415ar\xe6\u11be\u0100ar\u34ce\u34d5r\u0100;f\u34d4\u17bf\u6606\u0100an\u34da\u34edight\u0100ep\u34e3\u34eapsilo\xee\u1ee0h\xe9\u2eafs\xbb\u2852\u0280bcmnp\u34fb\u355e\u1209\u358b\u358e\u0480;Edemnprs\u350e\u350f\u3511\u3515\u351e\u3523\u352c\u3531\u3536\u6282;\u6ac5ot;\u6abd\u0100;d\u11da\u351aot;\u6ac3ult;\u6ac1\u0100Ee\u3528\u352a;\u6acb;\u628alus;\u6abfarr;\u6979\u0180eiu\u353d\u3552\u3555t\u0180;en\u350e\u3545\u354bq\u0100;q\u11da\u350feq\u0100;q\u352b\u3528m;\u6ac7\u0100bp\u355a\u355c;\u6ad5;\u6ad3c\u0300;acens\u11ed\u356c\u3572\u3579\u357b\u3326ppro\xf8\u32faurlye\xf1\u11fe\xf1\u11f3\u0180aes\u3582\u3588\u331bppro\xf8\u331aq\xf1\u3317g;\u666a\u0680123;Edehlmnps\u35a9\u35ac\u35af\u121c\u35b2\u35b4\u35c0\u35c9\u35d5\u35da\u35df\u35e8\u35ed\u803b\xb9\u40b9\u803b\xb2\u40b2\u803b\xb3\u40b3;\u6ac6\u0100os\u35b9\u35bct;\u6abeub;\u6ad8\u0100;d\u1222\u35c5ot;\u6ac4s\u0100ou\u35cf\u35d2l;\u67c9b;\u6ad7arr;\u697bult;\u6ac2\u0100Ee\u35e4\u35e6;\u6acc;\u628blus;\u6ac0\u0180eiu\u35f4\u3609\u360ct\u0180;en\u121c\u35fc\u3602q\u0100;q\u1222\u35b2eq\u0100;q\u35e7\u35e4m;\u6ac8\u0100bp\u3611\u3613;\u6ad4;\u6ad6\u0180Aan\u361c\u3620\u362drr;\u61d9r\u0100hr\u3626\u3628\xeb\u222e\u0100;o\u0a2b\u0a29war;\u692alig\u803b\xdf\u40df\u0be1\u3651\u365d\u3660\u12ce\u3673\u3679\0\u367e\u36c2\0\0\0\0\0\u36db\u3703\0\u3709\u376c\0\0\0\u3787\u0272\u3656\0\0\u365bget;\u6316;\u43c4r\xeb\u0e5f\u0180aey\u3666\u366b\u3670ron;\u4165dil;\u4163;\u4442lrec;\u6315r;\uc000\ud835\udd31\u0200eiko\u3686\u369d\u36b5\u36bc\u01f2\u368b\0\u3691e\u01004f\u1284\u1281a\u0180;sv\u3698\u3699\u369b\u43b8ym;\u43d1\u0100cn\u36a2\u36b2k\u0100as\u36a8\u36aeppro\xf8\u12c1im\xbb\u12acs\xf0\u129e\u0100as\u36ba\u36ae\xf0\u12c1rn\u803b\xfe\u40fe\u01ec\u031f\u36c6\u22e7es\u8180\xd7;bd\u36cf\u36d0\u36d8\u40d7\u0100;a\u190f\u36d5r;\u6a31;\u6a30\u0180eps\u36e1\u36e3\u3700\xe1\u2a4d\u0200;bcf\u0486\u36ec\u36f0\u36f4ot;\u6336ir;\u6af1\u0100;o\u36f9\u36fc\uc000\ud835\udd65rk;\u6ada\xe1\u3362rime;\u6034\u0180aip\u370f\u3712\u3764d\xe5\u1248\u0380adempst\u3721\u374d\u3740\u3751\u3757\u375c\u375fngle\u0280;dlqr\u3730\u3731\u3736\u3740\u3742\u65b5own\xbb\u1dbbeft\u0100;e\u2800\u373e\xf1\u092e;\u625cight\u0100;e\u32aa\u374b\xf1\u105aot;\u65ecinus;\u6a3alus;\u6a39b;\u69cdime;\u6a3bezium;\u63e2\u0180cht\u3772\u377d\u3781\u0100ry\u3777\u377b;\uc000\ud835\udcc9;\u4446cy;\u445brok;\u4167\u0100io\u378b\u378ex\xf4\u1777head\u0100lr\u3797\u37a0eftarro\xf7\u084fightarrow\xbb\u0f5d\u0900AHabcdfghlmoprstuw\u37d0\u37d3\u37d7\u37e4\u37f0\u37fc\u380e\u381c\u3823\u3834\u3851\u385d\u386b\u38a9\u38cc\u38d2\u38ea\u38f6r\xf2\u03edar;\u6963\u0100cr\u37dc\u37e2ute\u803b\xfa\u40fa\xf2\u1150r\u01e3\u37ea\0\u37edy;\u445eve;\u416d\u0100iy\u37f5\u37farc\u803b\xfb\u40fb;\u4443\u0180abh\u3803\u3806\u380br\xf2\u13adlac;\u4171a\xf2\u13c3\u0100ir\u3813\u3818sht;\u697e;\uc000\ud835\udd32rave\u803b\xf9\u40f9\u0161\u3827\u3831r\u0100lr\u382c\u382e\xbb\u0957\xbb\u1083lk;\u6580\u0100ct\u3839\u384d\u026f\u383f\0\0\u384arn\u0100;e\u3845\u3846\u631cr\xbb\u3846op;\u630fri;\u65f8\u0100al\u3856\u385acr;\u416b\u80bb\xa8\u0349\u0100gp\u3862\u3866on;\u4173f;\uc000\ud835\udd66\u0300adhlsu\u114b\u3878\u387d\u1372\u3891\u38a0own\xe1\u13b3arpoon\u0100lr\u3888\u388cef\xf4\u382digh\xf4\u382fi\u0180;hl\u3899\u389a\u389c\u43c5\xbb\u13faon\xbb\u389aparrows;\u61c8\u0180cit\u38b0\u38c4\u38c8\u026f\u38b6\0\0\u38c1rn\u0100;e\u38bc\u38bd\u631dr\xbb\u38bdop;\u630eng;\u416fri;\u65f9cr;\uc000\ud835\udcca\u0180dir\u38d9\u38dd\u38e2ot;\u62f0lde;\u4169i\u0100;f\u3730\u38e8\xbb\u1813\u0100am\u38ef\u38f2r\xf2\u38a8l\u803b\xfc\u40fcangle;\u69a7\u0780ABDacdeflnoprsz\u391c\u391f\u3929\u392d\u39b5\u39b8\u39bd\u39df\u39e4\u39e8\u39f3\u39f9\u39fd\u3a01\u3a20r\xf2\u03f7ar\u0100;v\u3926\u3927\u6ae8;\u6ae9as\xe8\u03e1\u0100nr\u3932\u3937grt;\u699c\u0380eknprst\u34e3\u3946\u394b\u3952\u395d\u3964\u3996app\xe1\u2415othin\xe7\u1e96\u0180hir\u34eb\u2ec8\u3959op\xf4\u2fb5\u0100;h\u13b7\u3962\xef\u318d\u0100iu\u3969\u396dgm\xe1\u33b3\u0100bp\u3972\u3984setneq\u0100;q\u397d\u3980\uc000\u228a\ufe00;\uc000\u2acb\ufe00setneq\u0100;q\u398f\u3992\uc000\u228b\ufe00;\uc000\u2acc\ufe00\u0100hr\u399b\u399fet\xe1\u369ciangle\u0100lr\u39aa\u39afeft\xbb\u0925ight\xbb\u1051y;\u4432ash\xbb\u1036\u0180elr\u39c4\u39d2\u39d7\u0180;be\u2dea\u39cb\u39cfar;\u62bbq;\u625alip;\u62ee\u0100bt\u39dc\u1468a\xf2\u1469r;\uc000\ud835\udd33tr\xe9\u39aesu\u0100bp\u39ef\u39f1\xbb\u0d1c\xbb\u0d59pf;\uc000\ud835\udd67ro\xf0\u0efbtr\xe9\u39b4\u0100cu\u3a06\u3a0br;\uc000\ud835\udccb\u0100bp\u3a10\u3a18n\u0100Ee\u3980\u3a16\xbb\u397en\u0100Ee\u3992\u3a1e\xbb\u3990igzag;\u699a\u0380cefoprs\u3a36\u3a3b\u3a56\u3a5b\u3a54\u3a61\u3a6airc;\u4175\u0100di\u3a40\u3a51\u0100bg\u3a45\u3a49ar;\u6a5fe\u0100;q\u15fa\u3a4f;\u6259erp;\u6118r;\uc000\ud835\udd34pf;\uc000\ud835\udd68\u0100;e\u1479\u3a66at\xe8\u1479cr;\uc000\ud835\udccc\u0ae3\u178e\u3a87\0\u3a8b\0\u3a90\u3a9b\0\0\u3a9d\u3aa8\u3aab\u3aaf\0\0\u3ac3\u3ace\0\u3ad8\u17dc\u17dftr\xe9\u17d1r;\uc000\ud835\udd35\u0100Aa\u3a94\u3a97r\xf2\u03c3r\xf2\u09f6;\u43be\u0100Aa\u3aa1\u3aa4r\xf2\u03b8r\xf2\u09eba\xf0\u2713is;\u62fb\u0180dpt\u17a4\u3ab5\u3abe\u0100fl\u3aba\u17a9;\uc000\ud835\udd69im\xe5\u17b2\u0100Aa\u3ac7\u3acar\xf2\u03cer\xf2\u0a01\u0100cq\u3ad2\u17b8r;\uc000\ud835\udccd\u0100pt\u17d6\u3adcr\xe9\u17d4\u0400acefiosu\u3af0\u3afd\u3b08\u3b0c\u3b11\u3b15\u3b1b\u3b21c\u0100uy\u3af6\u3afbte\u803b\xfd\u40fd;\u444f\u0100iy\u3b02\u3b06rc;\u4177;\u444bn\u803b\xa5\u40a5r;\uc000\ud835\udd36cy;\u4457pf;\uc000\ud835\udd6acr;\uc000\ud835\udcce\u0100cm\u3b26\u3b29y;\u444el\u803b\xff\u40ff\u0500acdefhiosw\u3b42\u3b48\u3b54\u3b58\u3b64\u3b69\u3b6d\u3b74\u3b7a\u3b80cute;\u417a\u0100ay\u3b4d\u3b52ron;\u417e;\u4437ot;\u417c\u0100et\u3b5d\u3b61tr\xe6\u155fa;\u43b6r;\uc000\ud835\udd37cy;\u4436grarr;\u61ddpf;\uc000\ud835\udd6bcr;\uc000\ud835\udccf\u0100jn\u3b85\u3b87;\u600dj;\u600c'.split("").map((e=>e.charCodeAt(0)))),qd=new Uint16Array("\u0200aglq\t\x15\x18\x1b\u026d\x0f\0\0\x12p;\u4026os;\u4027t;\u403et;\u403cuot;\u4022".split("").map((e=>e.charCodeAt(0))));var $d;const Jd=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Zd=null!==($d=String.fromCodePoint)&&void 0!==$d?$d:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e),t};function ep(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=Jd.get(e))&&void 0!==t?t:e}var tp;!function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"}(tp||(tp={}));var np,rp,sp;function ip(e){return e>=tp.ZERO&&e<=tp.NINE}function Ap(e){return e>=tp.UPPER_A&&e<=tp.UPPER_F||e>=tp.LOWER_A&&e<=tp.LOWER_F}function op(e){return e===tp.EQUALS||function(e){return e>=tp.UPPER_A&&e<=tp.UPPER_Z||e>=tp.LOWER_A&&e<=tp.LOWER_Z||ip(e)}(e)}!function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"}(np||(np={})),function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"}(rp||(rp={})),function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"}(sp||(sp={}));class ap{constructor(e,t,n){this.decodeTree=e,this.emitCodePoint=t,this.errors=n,this.state=rp.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=sp.Strict}startEntity(e){this.decodeMode=e,this.state=rp.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case rp.EntityStart:return e.charCodeAt(t)===tp.NUM?(this.state=rp.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=rp.NamedEntity,this.stateNamedEntity(e,t));case rp.NumericStart:return this.stateNumericStart(e,t);case rp.NumericDecimal:return this.stateNumericDecimal(e,t);case rp.NumericHex:return this.stateNumericHex(e,t);case rp.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===tp.LOWER_X?(this.state=rp.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=rp.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,n,r){if(t!==n){const s=n-t;this.result=this.result*Math.pow(r,s)+parseInt(e.substr(t,s),r),this.consumed+=s}}stateNumericHex(e,t){const n=t;for(;t<e.length;){const r=e.charCodeAt(t);if(!ip(r)&&!Ap(r))return this.addToNumericResult(e,n,t,16),this.emitNumericEntity(r,3);t+=1}return this.addToNumericResult(e,n,t,16),-1}stateNumericDecimal(e,t){const n=t;for(;t<e.length;){const r=e.charCodeAt(t);if(!ip(r))return this.addToNumericResult(e,n,t,10),this.emitNumericEntity(r,2);t+=1}return this.addToNumericResult(e,n,t,10),-1}emitNumericEntity(e,t){var n;if(this.consumed<=t)return null===(n=this.errors)||void 0===n||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===tp.SEMI)this.consumed+=1;else if(this.decodeMode===sp.Strict)return 0;return this.emitCodePoint(ep(this.result),this.consumed),this.errors&&(e!==tp.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:n}=this;let r=n[this.treeIndex],s=(r&np.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const i=e.charCodeAt(t);if(this.treeIndex=cp(n,r,this.treeIndex+Math.max(1,s),i),this.treeIndex<0)return 0===this.result||this.decodeMode===sp.Attribute&&(0===s||op(i))?0:this.emitNotTerminatedNamedEntity();if(r=n[this.treeIndex],s=(r&np.VALUE_LENGTH)>>14,0!==s){if(i===tp.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==sp.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:n}=this,r=(n[t]&np.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,r,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,n){const{decodeTree:r}=this;return this.emitCodePoint(1===t?r[e]&~np.VALUE_LENGTH:r[e+1],n),3===t&&this.emitCodePoint(r[e+2],n),n}end(){var e;switch(this.state){case rp.NamedEntity:return 0===this.result||this.decodeMode===sp.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case rp.NumericDecimal:return this.emitNumericEntity(0,2);case rp.NumericHex:return this.emitNumericEntity(0,3);case rp.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case rp.EntityStart:return 0}}}function lp(e){let t="";const n=new ap(e,(e=>t+=Zd(e)));return function(e,r){let s=0,i=0;for(;(i=e.indexOf("&",i))>=0;){t+=e.slice(s,i),n.startEntity(r);const A=n.write(e,i+1);if(A<0){s=i+n.end();break}s=i+A,i=0===A?s+1:s}const A=t+e.slice(s);return t="",A}}function cp(e,t,n,r){const s=(t&np.BRANCH_LENGTH)>>7,i=t&np.JUMP_TABLE;if(0===s)return 0!==i&&r===i?n:-1;if(i){const t=r-i;return t<0||t>=s?-1:e[n+t]-1}let A=n,o=A+s-1;for(;A<=o;){const t=A+o>>>1,n=e[t];if(n<r)A=t+1;else{if(!(n>r))return e[t+s];o=t-1}}return-1}lp(Xd),lp(qd);var up,hp,dp,pp,fp;!function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"}(up||(up={})),function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"}(hp||(hp={})),function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"}(dp||(dp={})),function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"}(pp||(pp={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"}(fp||(fp={}));const gp=new Map([[pp.A,fp.A],[pp.ADDRESS,fp.ADDRESS],[pp.ANNOTATION_XML,fp.ANNOTATION_XML],[pp.APPLET,fp.APPLET],[pp.AREA,fp.AREA],[pp.ARTICLE,fp.ARTICLE],[pp.ASIDE,fp.ASIDE],[pp.B,fp.B],[pp.BASE,fp.BASE],[pp.BASEFONT,fp.BASEFONT],[pp.BGSOUND,fp.BGSOUND],[pp.BIG,fp.BIG],[pp.BLOCKQUOTE,fp.BLOCKQUOTE],[pp.BODY,fp.BODY],[pp.BR,fp.BR],[pp.BUTTON,fp.BUTTON],[pp.CAPTION,fp.CAPTION],[pp.CENTER,fp.CENTER],[pp.CODE,fp.CODE],[pp.COL,fp.COL],[pp.COLGROUP,fp.COLGROUP],[pp.DD,fp.DD],[pp.DESC,fp.DESC],[pp.DETAILS,fp.DETAILS],[pp.DIALOG,fp.DIALOG],[pp.DIR,fp.DIR],[pp.DIV,fp.DIV],[pp.DL,fp.DL],[pp.DT,fp.DT],[pp.EM,fp.EM],[pp.EMBED,fp.EMBED],[pp.FIELDSET,fp.FIELDSET],[pp.FIGCAPTION,fp.FIGCAPTION],[pp.FIGURE,fp.FIGURE],[pp.FONT,fp.FONT],[pp.FOOTER,fp.FOOTER],[pp.FOREIGN_OBJECT,fp.FOREIGN_OBJECT],[pp.FORM,fp.FORM],[pp.FRAME,fp.FRAME],[pp.FRAMESET,fp.FRAMESET],[pp.H1,fp.H1],[pp.H2,fp.H2],[pp.H3,fp.H3],[pp.H4,fp.H4],[pp.H5,fp.H5],[pp.H6,fp.H6],[pp.HEAD,fp.HEAD],[pp.HEADER,fp.HEADER],[pp.HGROUP,fp.HGROUP],[pp.HR,fp.HR],[pp.HTML,fp.HTML],[pp.I,fp.I],[pp.IMG,fp.IMG],[pp.IMAGE,fp.IMAGE],[pp.INPUT,fp.INPUT],[pp.IFRAME,fp.IFRAME],[pp.KEYGEN,fp.KEYGEN],[pp.LABEL,fp.LABEL],[pp.LI,fp.LI],[pp.LINK,fp.LINK],[pp.LISTING,fp.LISTING],[pp.MAIN,fp.MAIN],[pp.MALIGNMARK,fp.MALIGNMARK],[pp.MARQUEE,fp.MARQUEE],[pp.MATH,fp.MATH],[pp.MENU,fp.MENU],[pp.META,fp.META],[pp.MGLYPH,fp.MGLYPH],[pp.MI,fp.MI],[pp.MO,fp.MO],[pp.MN,fp.MN],[pp.MS,fp.MS],[pp.MTEXT,fp.MTEXT],[pp.NAV,fp.NAV],[pp.NOBR,fp.NOBR],[pp.NOFRAMES,fp.NOFRAMES],[pp.NOEMBED,fp.NOEMBED],[pp.NOSCRIPT,fp.NOSCRIPT],[pp.OBJECT,fp.OBJECT],[pp.OL,fp.OL],[pp.OPTGROUP,fp.OPTGROUP],[pp.OPTION,fp.OPTION],[pp.P,fp.P],[pp.PARAM,fp.PARAM],[pp.PLAINTEXT,fp.PLAINTEXT],[pp.PRE,fp.PRE],[pp.RB,fp.RB],[pp.RP,fp.RP],[pp.RT,fp.RT],[pp.RTC,fp.RTC],[pp.RUBY,fp.RUBY],[pp.S,fp.S],[pp.SCRIPT,fp.SCRIPT],[pp.SEARCH,fp.SEARCH],[pp.SECTION,fp.SECTION],[pp.SELECT,fp.SELECT],[pp.SOURCE,fp.SOURCE],[pp.SMALL,fp.SMALL],[pp.SPAN,fp.SPAN],[pp.STRIKE,fp.STRIKE],[pp.STRONG,fp.STRONG],[pp.STYLE,fp.STYLE],[pp.SUB,fp.SUB],[pp.SUMMARY,fp.SUMMARY],[pp.SUP,fp.SUP],[pp.TABLE,fp.TABLE],[pp.TBODY,fp.TBODY],[pp.TEMPLATE,fp.TEMPLATE],[pp.TEXTAREA,fp.TEXTAREA],[pp.TFOOT,fp.TFOOT],[pp.TD,fp.TD],[pp.TH,fp.TH],[pp.THEAD,fp.THEAD],[pp.TITLE,fp.TITLE],[pp.TR,fp.TR],[pp.TRACK,fp.TRACK],[pp.TT,fp.TT],[pp.U,fp.U],[pp.UL,fp.UL],[pp.SVG,fp.SVG],[pp.VAR,fp.VAR],[pp.WBR,fp.WBR],[pp.XMP,fp.XMP]]);function mp(e){var t;return null!==(t=gp.get(e))&&void 0!==t?t:fp.UNKNOWN}const wp=fp,yp={[up.HTML]:new Set([wp.ADDRESS,wp.APPLET,wp.AREA,wp.ARTICLE,wp.ASIDE,wp.BASE,wp.BASEFONT,wp.BGSOUND,wp.BLOCKQUOTE,wp.BODY,wp.BR,wp.BUTTON,wp.CAPTION,wp.CENTER,wp.COL,wp.COLGROUP,wp.DD,wp.DETAILS,wp.DIR,wp.DIV,wp.DL,wp.DT,wp.EMBED,wp.FIELDSET,wp.FIGCAPTION,wp.FIGURE,wp.FOOTER,wp.FORM,wp.FRAME,wp.FRAMESET,wp.H1,wp.H2,wp.H3,wp.H4,wp.H5,wp.H6,wp.HEAD,wp.HEADER,wp.HGROUP,wp.HR,wp.HTML,wp.IFRAME,wp.IMG,wp.INPUT,wp.LI,wp.LINK,wp.LISTING,wp.MAIN,wp.MARQUEE,wp.MENU,wp.META,wp.NAV,wp.NOEMBED,wp.NOFRAMES,wp.NOSCRIPT,wp.OBJECT,wp.OL,wp.P,wp.PARAM,wp.PLAINTEXT,wp.PRE,wp.SCRIPT,wp.SECTION,wp.SELECT,wp.SOURCE,wp.STYLE,wp.SUMMARY,wp.TABLE,wp.TBODY,wp.TD,wp.TEMPLATE,wp.TEXTAREA,wp.TFOOT,wp.TH,wp.THEAD,wp.TITLE,wp.TR,wp.TRACK,wp.UL,wp.WBR,wp.XMP]),[up.MATHML]:new Set([wp.MI,wp.MO,wp.MN,wp.MS,wp.MTEXT,wp.ANNOTATION_XML]),[up.SVG]:new Set([wp.TITLE,wp.FOREIGN_OBJECT,wp.DESC]),[up.XLINK]:new Set,[up.XML]:new Set,[up.XMLNS]:new Set},Bp=new Set([wp.H1,wp.H2,wp.H3,wp.H4,wp.H5,wp.H6]);new Set([pp.STYLE,pp.SCRIPT,pp.XMP,pp.IFRAME,pp.NOEMBED,pp.NOFRAMES,pp.PLAINTEXT]);var Ep;!function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"}(Ep||(Ep={}));const bp={DATA:Ep.DATA,RCDATA:Ep.RCDATA,RAWTEXT:Ep.RAWTEXT,SCRIPT_DATA:Ep.SCRIPT_DATA,PLAINTEXT:Ep.PLAINTEXT,CDATA_SECTION:Ep.CDATA_SECTION};function vp(e){return e>=Dd.LATIN_CAPITAL_A&&e<=Dd.LATIN_CAPITAL_Z}function Cp(e){return function(e){return e>=Dd.LATIN_SMALL_A&&e<=Dd.LATIN_SMALL_Z}(e)||vp(e)}function Tp(e){return Cp(e)||function(e){return e>=Dd.DIGIT_0&&e<=Dd.DIGIT_9}(e)}function _p(e){return e+32}function Sp(e){return e===Dd.SPACE||e===Dd.LINE_FEED||e===Dd.TABULATION||e===Dd.FORM_FEED}function Ip(e){return Sp(e)||e===Dd.SOLIDUS||e===Dd.GREATER_THAN_SIGN}class xp{constructor(e,t){this.options=e,this.handler=t,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=Ep.DATA,this.returnState=Ep.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new zd(t),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new ap(Xd,((e,t)=>{this.preprocessor.pos=this.entityStartPos+t-1,this._flushCodePointConsumedAsCharacterReference(e)}),t.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(Vd.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:e=>{this._err(Vd.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+e)},validateNumericCharacterReference:e=>{const t=function(e){return e===Dd.NULL?Vd.nullCharacterReference:e>1114111?Vd.characterReferenceOutsideUnicodeRange:Kd(e)?Vd.surrogateCharacterReference:jd(e)?Vd.noncharacterCharacterReference:Gd(e)||e===Dd.CARRIAGE_RETURN?Vd.controlCharacterReference:null}(e);t&&this._err(t,1)}}:void 0)}_err(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;var n,r;null===(r=(n=this.handler).onParseError)||void 0===r||r.call(n,this.preprocessor.getError(e,t))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,this.inLoop||(this._runParsingLoop(),this.paused||null===e||void 0===e||e())}write(e,t,n){this.active=!0,this.preprocessor.write(e,t),this._runParsingLoop(),this.paused||null===n||void 0===n||n()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return!!this.preprocessor.endOfChunkHit&&(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0)}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let t=0;t<e;t++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,t){return!!this.preprocessor.startsWith(e,t)&&(this._advanceBy(e.length-1),!0)}_createStartTagToken(){this.currentToken={type:Wd.START_TAG,tagName:"",tagID:fp.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Wd.END_TAG,tagName:"",tagID:fp.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:Wd.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:Wd.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,t){this.currentCharacterToken={type:e,chars:t,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,t;const n=this.currentToken;if(null===Yd(n,this.currentAttr.name)){if(n.attrs.push(this.currentAttr),n.location&&this.currentLocation){(null!==(e=(t=n.location).attrs)&&void 0!==e?e:t.attrs=Object.create(null))[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(Vd.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=mp(e.tagName),e.type===Wd.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(Vd.endTagWithAttributes),e.selfClosing&&this._err(Vd.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case Wd.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case Wd.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case Wd.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken)}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:Wd.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,t){if(this.currentCharacterToken){if(this.currentCharacterToken.type===e)return void(this.currentCharacterToken.chars+=t);this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk()}this._createCharacterToken(e,t)}_emitCodePoint(e){const t=Sp(e)?Wd.WHITESPACE_CHARACTER:e===Dd.NULL?Wd.NULL_CHARACTER:Wd.CHARACTER;this._appendCharToCurrentCharacterToken(t,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(Wd.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=Ep.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?sp.Attribute:sp.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===Ep.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===Ep.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===Ep.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case Ep.DATA:this._stateData(e);break;case Ep.RCDATA:this._stateRcdata(e);break;case Ep.RAWTEXT:this._stateRawtext(e);break;case Ep.SCRIPT_DATA:this._stateScriptData(e);break;case Ep.PLAINTEXT:this._statePlaintext(e);break;case Ep.TAG_OPEN:this._stateTagOpen(e);break;case Ep.END_TAG_OPEN:this._stateEndTagOpen(e);break;case Ep.TAG_NAME:this._stateTagName(e);break;case Ep.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(e);break;case Ep.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(e);break;case Ep.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(e);break;case Ep.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(e);break;case Ep.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(e);break;case Ep.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(e);break;case Ep.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(e);break;case Ep.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(e);break;case Ep.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(e);break;case Ep.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(e);break;case Ep.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(e);break;case Ep.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(e);break;case Ep.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(e);break;case Ep.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(e);break;case Ep.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(e);break;case Ep.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(e);break;case Ep.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(e);break;case Ep.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(e);break;case Ep.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(e);break;case Ep.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(e);break;case Ep.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(e);break;case Ep.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(e);break;case Ep.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(e);break;case Ep.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(e);break;case Ep.ATTRIBUTE_NAME:this._stateAttributeName(e);break;case Ep.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(e);break;case Ep.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(e);break;case Ep.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(e);break;case Ep.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(e);break;case Ep.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(e);break;case Ep.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(e);break;case Ep.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(e);break;case Ep.BOGUS_COMMENT:this._stateBogusComment(e);break;case Ep.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(e);break;case Ep.COMMENT_START:this._stateCommentStart(e);break;case Ep.COMMENT_START_DASH:this._stateCommentStartDash(e);break;case Ep.COMMENT:this._stateComment(e);break;case Ep.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(e);break;case Ep.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(e);break;case Ep.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(e);break;case Ep.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(e);break;case Ep.COMMENT_END_DASH:this._stateCommentEndDash(e);break;case Ep.COMMENT_END:this._stateCommentEnd(e);break;case Ep.COMMENT_END_BANG:this._stateCommentEndBang(e);break;case Ep.DOCTYPE:this._stateDoctype(e);break;case Ep.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(e);break;case Ep.DOCTYPE_NAME:this._stateDoctypeName(e);break;case Ep.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(e);break;case Ep.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(e);break;case Ep.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(e);break;case Ep.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(e);break;case Ep.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(e);break;case Ep.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(e);break;case Ep.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break;case Ep.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(e);break;case Ep.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(e);break;case Ep.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(e);break;case Ep.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(e);break;case Ep.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(e);break;case Ep.BOGUS_DOCTYPE:this._stateBogusDoctype(e);break;case Ep.CDATA_SECTION:this._stateCdataSection(e);break;case Ep.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(e);break;case Ep.CDATA_SECTION_END:this._stateCdataSectionEnd(e);break;case Ep.CHARACTER_REFERENCE:this._stateCharacterReference();break;case Ep.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(e);break;default:throw new Error("Unknown state")}}_stateData(e){switch(e){case Dd.LESS_THAN_SIGN:this.state=Ep.TAG_OPEN;break;case Dd.AMPERSAND:this._startCharacterReference();break;case Dd.NULL:this._err(Vd.unexpectedNullCharacter),this._emitCodePoint(e);break;case Dd.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case Dd.AMPERSAND:this._startCharacterReference();break;case Dd.LESS_THAN_SIGN:this.state=Ep.RCDATA_LESS_THAN_SIGN;break;case Dd.NULL:this._err(Vd.unexpectedNullCharacter),this._emitChars(Qd);break;case Dd.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case Dd.LESS_THAN_SIGN:this.state=Ep.RAWTEXT_LESS_THAN_SIGN;break;case Dd.NULL:this._err(Vd.unexpectedNullCharacter),this._emitChars(Qd);break;case Dd.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case Dd.LESS_THAN_SIGN:this.state=Ep.SCRIPT_DATA_LESS_THAN_SIGN;break;case Dd.NULL:this._err(Vd.unexpectedNullCharacter),this._emitChars(Qd);break;case Dd.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case Dd.NULL:this._err(Vd.unexpectedNullCharacter),this._emitChars(Qd);break;case Dd.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateTagOpen(e){if(Cp(e))this._createStartTagToken(),this.state=Ep.TAG_NAME,this._stateTagName(e);else switch(e){case Dd.EXCLAMATION_MARK:this.state=Ep.MARKUP_DECLARATION_OPEN;break;case Dd.SOLIDUS:this.state=Ep.END_TAG_OPEN;break;case Dd.QUESTION_MARK:this._err(Vd.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=Ep.BOGUS_COMMENT,this._stateBogusComment(e);break;case Dd.EOF:this._err(Vd.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(Vd.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=Ep.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(Cp(e))this._createEndTagToken(),this.state=Ep.TAG_NAME,this._stateTagName(e);else switch(e){case Dd.GREATER_THAN_SIGN:this._err(Vd.missingEndTagName),this.state=Ep.DATA;break;case Dd.EOF:this._err(Vd.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(Vd.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=Ep.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const t=this.currentToken;switch(e){case Dd.SPACE:case Dd.LINE_FEED:case Dd.TABULATION:case Dd.FORM_FEED:this.state=Ep.BEFORE_ATTRIBUTE_NAME;break;case Dd.SOLIDUS:this.state=Ep.SELF_CLOSING_START_TAG;break;case Dd.GREATER_THAN_SIGN:this.state=Ep.DATA,this.emitCurrentTagToken();break;case Dd.NULL:this._err(Vd.unexpectedNullCharacter),t.tagName+=Qd;break;case Dd.EOF:this._err(Vd.eofInTag),this._emitEOFToken();break;default:t.tagName+=String.fromCodePoint(vp(e)?_p(e):e)}}_stateRcdataLessThanSign(e){e===Dd.SOLIDUS?this.state=Ep.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=Ep.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){Cp(e)?(this.state=Ep.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=Ep.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();this.currentToken.tagName=this.lastStartTagName;switch(this.preprocessor.peek(this.lastStartTagName.length)){case Dd.SPACE:case Dd.LINE_FEED:case Dd.TABULATION:case Dd.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=Ep.BEFORE_ATTRIBUTE_NAME,!1;case Dd.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=Ep.SELF_CLOSING_START_TAG,!1;case Dd.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=Ep.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Ep.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===Dd.SOLIDUS?this.state=Ep.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=Ep.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){Cp(e)?(this.state=Ep.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=Ep.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Ep.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case Dd.SOLIDUS:this.state=Ep.SCRIPT_DATA_END_TAG_OPEN;break;case Dd.EXCLAMATION_MARK:this.state=Ep.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=Ep.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){Cp(e)?(this.state=Ep.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=Ep.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Ep.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===Dd.HYPHEN_MINUS?(this.state=Ep.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=Ep.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===Dd.HYPHEN_MINUS?(this.state=Ep.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=Ep.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case Dd.HYPHEN_MINUS:this.state=Ep.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case Dd.LESS_THAN_SIGN:this.state=Ep.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case Dd.NULL:this._err(Vd.unexpectedNullCharacter),this._emitChars(Qd);break;case Dd.EOF:this._err(Vd.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case Dd.HYPHEN_MINUS:this.state=Ep.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case Dd.LESS_THAN_SIGN:this.state=Ep.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case Dd.NULL:this._err(Vd.unexpectedNullCharacter),this.state=Ep.SCRIPT_DATA_ESCAPED,this._emitChars(Qd);break;case Dd.EOF:this._err(Vd.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=Ep.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case Dd.HYPHEN_MINUS:this._emitChars("-");break;case Dd.LESS_THAN_SIGN:this.state=Ep.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case Dd.GREATER_THAN_SIGN:this.state=Ep.SCRIPT_DATA,this._emitChars(">");break;case Dd.NULL:this._err(Vd.unexpectedNullCharacter),this.state=Ep.SCRIPT_DATA_ESCAPED,this._emitChars(Qd);break;case Dd.EOF:this._err(Vd.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=Ep.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===Dd.SOLIDUS?this.state=Ep.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Cp(e)?(this._emitChars("<"),this.state=Ep.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=Ep.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){Cp(e)?(this.state=Ep.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=Ep.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Ep.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(Md,!1)&&Ip(this.preprocessor.peek(Md.length))){this._emitCodePoint(e);for(let e=0;e<Md.length;e++)this._emitCodePoint(this._consume());this.state=Ep.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=Ep.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case Dd.HYPHEN_MINUS:this.state=Ep.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case Dd.LESS_THAN_SIGN:this.state=Ep.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case Dd.NULL:this._err(Vd.unexpectedNullCharacter),this._emitChars(Qd);break;case Dd.EOF:this._err(Vd.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case Dd.HYPHEN_MINUS:this.state=Ep.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case Dd.LESS_THAN_SIGN:this.state=Ep.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case Dd.NULL:this._err(Vd.unexpectedNullCharacter),this.state=Ep.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Qd);break;case Dd.EOF:this._err(Vd.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=Ep.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case Dd.HYPHEN_MINUS:this._emitChars("-");break;case Dd.LESS_THAN_SIGN:this.state=Ep.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case Dd.GREATER_THAN_SIGN:this.state=Ep.SCRIPT_DATA,this._emitChars(">");break;case Dd.NULL:this._err(Vd.unexpectedNullCharacter),this.state=Ep.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Qd);break;case Dd.EOF:this._err(Vd.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=Ep.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===Dd.SOLIDUS?(this.state=Ep.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=Ep.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(Md,!1)&&Ip(this.preprocessor.peek(Md.length))){this._emitCodePoint(e);for(let e=0;e<Md.length;e++)this._emitCodePoint(this._consume());this.state=Ep.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=Ep.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case Dd.SPACE:case Dd.LINE_FEED:case Dd.TABULATION:case Dd.FORM_FEED:break;case Dd.SOLIDUS:case Dd.GREATER_THAN_SIGN:case Dd.EOF:this.state=Ep.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case Dd.EQUALS_SIGN:this._err(Vd.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=Ep.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=Ep.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case Dd.SPACE:case Dd.LINE_FEED:case Dd.TABULATION:case Dd.FORM_FEED:case Dd.SOLIDUS:case Dd.GREATER_THAN_SIGN:case Dd.EOF:this._leaveAttrName(),this.state=Ep.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case Dd.EQUALS_SIGN:this._leaveAttrName(),this.state=Ep.BEFORE_ATTRIBUTE_VALUE;break;case Dd.QUOTATION_MARK:case Dd.APOSTROPHE:case Dd.LESS_THAN_SIGN:this._err(Vd.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break;case Dd.NULL:this._err(Vd.unexpectedNullCharacter),this.currentAttr.name+=Qd;break;default:this.currentAttr.name+=String.fromCodePoint(vp(e)?_p(e):e)}}_stateAfterAttributeName(e){switch(e){case Dd.SPACE:case Dd.LINE_FEED:case Dd.TABULATION:case Dd.FORM_FEED:break;case Dd.SOLIDUS:this.state=Ep.SELF_CLOSING_START_TAG;break;case Dd.EQUALS_SIGN:this.state=Ep.BEFORE_ATTRIBUTE_VALUE;break;case Dd.GREATER_THAN_SIGN:this.state=Ep.DATA,this.emitCurrentTagToken();break;case Dd.EOF:this._err(Vd.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=Ep.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case Dd.SPACE:case Dd.LINE_FEED:case Dd.TABULATION:case Dd.FORM_FEED:break;case Dd.QUOTATION_MARK:this.state=Ep.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case Dd.APOSTROPHE:this.state=Ep.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case Dd.GREATER_THAN_SIGN:this._err(Vd.missingAttributeValue),this.state=Ep.DATA,this.emitCurrentTagToken();break;default:this.state=Ep.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case Dd.QUOTATION_MARK:this.state=Ep.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case Dd.AMPERSAND:this._startCharacterReference();break;case Dd.NULL:this._err(Vd.unexpectedNullCharacter),this.currentAttr.value+=Qd;break;case Dd.EOF:this._err(Vd.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case Dd.APOSTROPHE:this.state=Ep.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case Dd.AMPERSAND:this._startCharacterReference();break;case Dd.NULL:this._err(Vd.unexpectedNullCharacter),this.currentAttr.value+=Qd;break;case Dd.EOF:this._err(Vd.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case Dd.SPACE:case Dd.LINE_FEED:case Dd.TABULATION:case Dd.FORM_FEED:this._leaveAttrValue(),this.state=Ep.BEFORE_ATTRIBUTE_NAME;break;case Dd.AMPERSAND:this._startCharacterReference();break;case Dd.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=Ep.DATA,this.emitCurrentTagToken();break;case Dd.NULL:this._err(Vd.unexpectedNullCharacter),this.currentAttr.value+=Qd;break;case Dd.QUOTATION_MARK:case Dd.APOSTROPHE:case Dd.LESS_THAN_SIGN:case Dd.EQUALS_SIGN:case Dd.GRAVE_ACCENT:this._err(Vd.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break;case Dd.EOF:this._err(Vd.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case Dd.SPACE:case Dd.LINE_FEED:case Dd.TABULATION:case Dd.FORM_FEED:this._leaveAttrValue(),this.state=Ep.BEFORE_ATTRIBUTE_NAME;break;case Dd.SOLIDUS:this._leaveAttrValue(),this.state=Ep.SELF_CLOSING_START_TAG;break;case Dd.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=Ep.DATA,this.emitCurrentTagToken();break;case Dd.EOF:this._err(Vd.eofInTag),this._emitEOFToken();break;default:this._err(Vd.missingWhitespaceBetweenAttributes),this.state=Ep.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case Dd.GREATER_THAN_SIGN:this.currentToken.selfClosing=!0,this.state=Ep.DATA,this.emitCurrentTagToken();break;case Dd.EOF:this._err(Vd.eofInTag),this._emitEOFToken();break;default:this._err(Vd.unexpectedSolidusInTag),this.state=Ep.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const t=this.currentToken;switch(e){case Dd.GREATER_THAN_SIGN:this.state=Ep.DATA,this.emitCurrentComment(t);break;case Dd.EOF:this.emitCurrentComment(t),this._emitEOFToken();break;case Dd.NULL:this._err(Vd.unexpectedNullCharacter),t.data+=Qd;break;default:t.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(Od,!0)?(this._createCommentToken(Od.length+1),this.state=Ep.COMMENT_START):this._consumeSequenceIfMatch(Nd,!1)?(this.currentLocation=this.getCurrentLocation(Nd.length+1),this.state=Ep.DOCTYPE):this._consumeSequenceIfMatch(Rd,!0)?this.inForeignNode?this.state=Ep.CDATA_SECTION:(this._err(Vd.cdataInHtmlContent),this._createCommentToken(Rd.length+1),this.currentToken.data="[CDATA[",this.state=Ep.BOGUS_COMMENT):this._ensureHibernation()||(this._err(Vd.incorrectlyOpenedComment),this._createCommentToken(2),this.state=Ep.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case Dd.HYPHEN_MINUS:this.state=Ep.COMMENT_START_DASH;break;case Dd.GREATER_THAN_SIGN:{this._err(Vd.abruptClosingOfEmptyComment),this.state=Ep.DATA;const e=this.currentToken;this.emitCurrentComment(e);break}default:this.state=Ep.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const t=this.currentToken;switch(e){case Dd.HYPHEN_MINUS:this.state=Ep.COMMENT_END;break;case Dd.GREATER_THAN_SIGN:this._err(Vd.abruptClosingOfEmptyComment),this.state=Ep.DATA,this.emitCurrentComment(t);break;case Dd.EOF:this._err(Vd.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=Ep.COMMENT,this._stateComment(e)}}_stateComment(e){const t=this.currentToken;switch(e){case Dd.HYPHEN_MINUS:this.state=Ep.COMMENT_END_DASH;break;case Dd.LESS_THAN_SIGN:t.data+="<",this.state=Ep.COMMENT_LESS_THAN_SIGN;break;case Dd.NULL:this._err(Vd.unexpectedNullCharacter),t.data+=Qd;break;case Dd.EOF:this._err(Vd.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const t=this.currentToken;switch(e){case Dd.EXCLAMATION_MARK:t.data+="!",this.state=Ep.COMMENT_LESS_THAN_SIGN_BANG;break;case Dd.LESS_THAN_SIGN:t.data+="<";break;default:this.state=Ep.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===Dd.HYPHEN_MINUS?this.state=Ep.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=Ep.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===Dd.HYPHEN_MINUS?this.state=Ep.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=Ep.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==Dd.GREATER_THAN_SIGN&&e!==Dd.EOF&&this._err(Vd.nestedComment),this.state=Ep.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const t=this.currentToken;switch(e){case Dd.HYPHEN_MINUS:this.state=Ep.COMMENT_END;break;case Dd.EOF:this._err(Vd.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=Ep.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const t=this.currentToken;switch(e){case Dd.GREATER_THAN_SIGN:this.state=Ep.DATA,this.emitCurrentComment(t);break;case Dd.EXCLAMATION_MARK:this.state=Ep.COMMENT_END_BANG;break;case Dd.HYPHEN_MINUS:t.data+="-";break;case Dd.EOF:this._err(Vd.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--",this.state=Ep.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const t=this.currentToken;switch(e){case Dd.HYPHEN_MINUS:t.data+="--!",this.state=Ep.COMMENT_END_DASH;break;case Dd.GREATER_THAN_SIGN:this._err(Vd.incorrectlyClosedComment),this.state=Ep.DATA,this.emitCurrentComment(t);break;case Dd.EOF:this._err(Vd.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--!",this.state=Ep.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case Dd.SPACE:case Dd.LINE_FEED:case Dd.TABULATION:case Dd.FORM_FEED:this.state=Ep.BEFORE_DOCTYPE_NAME;break;case Dd.GREATER_THAN_SIGN:this.state=Ep.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break;case Dd.EOF:{this._err(Vd.eofInDoctype),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._err(Vd.missingWhitespaceBeforeDoctypeName),this.state=Ep.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(vp(e))this._createDoctypeToken(String.fromCharCode(_p(e))),this.state=Ep.DOCTYPE_NAME;else switch(e){case Dd.SPACE:case Dd.LINE_FEED:case Dd.TABULATION:case Dd.FORM_FEED:break;case Dd.NULL:this._err(Vd.unexpectedNullCharacter),this._createDoctypeToken(Qd),this.state=Ep.DOCTYPE_NAME;break;case Dd.GREATER_THAN_SIGN:{this._err(Vd.missingDoctypeName),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=Ep.DATA;break}case Dd.EOF:{this._err(Vd.eofInDoctype),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=Ep.DOCTYPE_NAME}}_stateDoctypeName(e){const t=this.currentToken;switch(e){case Dd.SPACE:case Dd.LINE_FEED:case Dd.TABULATION:case Dd.FORM_FEED:this.state=Ep.AFTER_DOCTYPE_NAME;break;case Dd.GREATER_THAN_SIGN:this.state=Ep.DATA,this.emitCurrentDoctype(t);break;case Dd.NULL:this._err(Vd.unexpectedNullCharacter),t.name+=Qd;break;case Dd.EOF:this._err(Vd.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.name+=String.fromCodePoint(vp(e)?_p(e):e)}}_stateAfterDoctypeName(e){const t=this.currentToken;switch(e){case Dd.SPACE:case Dd.LINE_FEED:case Dd.TABULATION:case Dd.FORM_FEED:break;case Dd.GREATER_THAN_SIGN:this.state=Ep.DATA,this.emitCurrentDoctype(t);break;case Dd.EOF:this._err(Vd.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._consumeSequenceIfMatch(Pd,!1)?this.state=Ep.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Hd,!1)?this.state=Ep.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(Vd.invalidCharacterSequenceAfterDoctypeName),t.forceQuirks=!0,this.state=Ep.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const t=this.currentToken;switch(e){case Dd.SPACE:case Dd.LINE_FEED:case Dd.TABULATION:case Dd.FORM_FEED:this.state=Ep.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case Dd.QUOTATION_MARK:this._err(Vd.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=Ep.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case Dd.APOSTROPHE:this._err(Vd.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=Ep.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case Dd.GREATER_THAN_SIGN:this._err(Vd.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=Ep.DATA,this.emitCurrentDoctype(t);break;case Dd.EOF:this._err(Vd.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(Vd.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=Ep.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case Dd.SPACE:case Dd.LINE_FEED:case Dd.TABULATION:case Dd.FORM_FEED:break;case Dd.QUOTATION_MARK:t.publicId="",this.state=Ep.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case Dd.APOSTROPHE:t.publicId="",this.state=Ep.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case Dd.GREATER_THAN_SIGN:this._err(Vd.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=Ep.DATA,this.emitCurrentDoctype(t);break;case Dd.EOF:this._err(Vd.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(Vd.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=Ep.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case Dd.QUOTATION_MARK:this.state=Ep.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case Dd.NULL:this._err(Vd.unexpectedNullCharacter),t.publicId+=Qd;break;case Dd.GREATER_THAN_SIGN:this._err(Vd.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=Ep.DATA;break;case Dd.EOF:this._err(Vd.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case Dd.APOSTROPHE:this.state=Ep.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case Dd.NULL:this._err(Vd.unexpectedNullCharacter),t.publicId+=Qd;break;case Dd.GREATER_THAN_SIGN:this._err(Vd.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=Ep.DATA;break;case Dd.EOF:this._err(Vd.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case Dd.SPACE:case Dd.LINE_FEED:case Dd.TABULATION:case Dd.FORM_FEED:this.state=Ep.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case Dd.GREATER_THAN_SIGN:this.state=Ep.DATA,this.emitCurrentDoctype(t);break;case Dd.QUOTATION_MARK:this._err(Vd.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=Ep.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Dd.APOSTROPHE:this._err(Vd.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=Ep.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Dd.EOF:this._err(Vd.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(Vd.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Ep.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const t=this.currentToken;switch(e){case Dd.SPACE:case Dd.LINE_FEED:case Dd.TABULATION:case Dd.FORM_FEED:break;case Dd.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=Ep.DATA;break;case Dd.QUOTATION_MARK:t.systemId="",this.state=Ep.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Dd.APOSTROPHE:t.systemId="",this.state=Ep.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Dd.EOF:this._err(Vd.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(Vd.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Ep.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const t=this.currentToken;switch(e){case Dd.SPACE:case Dd.LINE_FEED:case Dd.TABULATION:case Dd.FORM_FEED:this.state=Ep.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case Dd.QUOTATION_MARK:this._err(Vd.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=Ep.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Dd.APOSTROPHE:this._err(Vd.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=Ep.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Dd.GREATER_THAN_SIGN:this._err(Vd.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Ep.DATA,this.emitCurrentDoctype(t);break;case Dd.EOF:this._err(Vd.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(Vd.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Ep.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case Dd.SPACE:case Dd.LINE_FEED:case Dd.TABULATION:case Dd.FORM_FEED:break;case Dd.QUOTATION_MARK:t.systemId="",this.state=Ep.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Dd.APOSTROPHE:t.systemId="",this.state=Ep.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Dd.GREATER_THAN_SIGN:this._err(Vd.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Ep.DATA,this.emitCurrentDoctype(t);break;case Dd.EOF:this._err(Vd.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(Vd.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Ep.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case Dd.QUOTATION_MARK:this.state=Ep.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case Dd.NULL:this._err(Vd.unexpectedNullCharacter),t.systemId+=Qd;break;case Dd.GREATER_THAN_SIGN:this._err(Vd.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=Ep.DATA;break;case Dd.EOF:this._err(Vd.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case Dd.APOSTROPHE:this.state=Ep.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case Dd.NULL:this._err(Vd.unexpectedNullCharacter),t.systemId+=Qd;break;case Dd.GREATER_THAN_SIGN:this._err(Vd.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=Ep.DATA;break;case Dd.EOF:this._err(Vd.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case Dd.SPACE:case Dd.LINE_FEED:case Dd.TABULATION:case Dd.FORM_FEED:break;case Dd.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=Ep.DATA;break;case Dd.EOF:this._err(Vd.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(Vd.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=Ep.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const t=this.currentToken;switch(e){case Dd.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=Ep.DATA;break;case Dd.NULL:this._err(Vd.unexpectedNullCharacter);break;case Dd.EOF:this.emitCurrentDoctype(t),this._emitEOFToken()}}_stateCdataSection(e){switch(e){case Dd.RIGHT_SQUARE_BRACKET:this.state=Ep.CDATA_SECTION_BRACKET;break;case Dd.EOF:this._err(Vd.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===Dd.RIGHT_SQUARE_BRACKET?this.state=Ep.CDATA_SECTION_END:(this._emitChars("]"),this.state=Ep.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case Dd.GREATER_THAN_SIGN:this.state=Ep.DATA;break;case Dd.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=Ep.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0){if(!this.preprocessor.lastChunkWritten)return this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,void(this.preprocessor.endOfChunkHit=!0);e=this.entityDecoder.end()}0===e?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(Dd.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&Tp(this.preprocessor.peek(1))?Ep.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){Tp(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===Dd.SEMICOLON&&this._err(Vd.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const kp=new Set([fp.DD,fp.DT,fp.LI,fp.OPTGROUP,fp.OPTION,fp.P,fp.RB,fp.RP,fp.RT,fp.RTC]),Fp=new Set([...kp,fp.CAPTION,fp.COLGROUP,fp.TBODY,fp.TD,fp.TFOOT,fp.TH,fp.THEAD,fp.TR]),Up=new Set([fp.APPLET,fp.CAPTION,fp.HTML,fp.MARQUEE,fp.OBJECT,fp.TABLE,fp.TD,fp.TEMPLATE,fp.TH]),Lp=new Set([...Up,fp.OL,fp.UL]),Qp=new Set([...Up,fp.BUTTON]),Dp=new Set([fp.ANNOTATION_XML,fp.MI,fp.MN,fp.MO,fp.MS,fp.MTEXT]),Op=new Set([fp.DESC,fp.FOREIGN_OBJECT,fp.TITLE]),Rp=new Set([fp.TR,fp.TEMPLATE,fp.HTML]),Np=new Set([fp.TBODY,fp.TFOOT,fp.THEAD,fp.TEMPLATE,fp.HTML]),Mp=new Set([fp.TABLE,fp.TEMPLATE,fp.HTML]),Pp=new Set([fp.TD,fp.TH]);class Hp{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,t,n){this.treeAdapter=t,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=fp.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===fp.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===up.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,t){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=t,this.currentTagId=t,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,t,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,t){const n=this._indexOf(e);this.items[n]=t,n===this.stackTop&&(this.current=t)}insertAfter(e,t,n){const r=this._indexOf(e)+1;this.items.splice(r,0,t),this.tagIDs.splice(r,0,n),this.stackTop++,r===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,r===this.stackTop)}popUntilTagNamePopped(e){let t=this.stackTop+1;do{t=this.tagIDs.lastIndexOf(e,t-1)}while(t>0&&this.treeAdapter.getNamespaceURI(this.items[t])!==up.HTML);this.shortenToLength(t<0?0:t)}shortenToLength(e){for(;this.stackTop>=e;){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,this.stackTop<e)}}popUntilElementPopped(e){const t=this._indexOf(e);this.shortenToLength(t<0?0:t)}popUntilPopped(e,t){const n=this._indexOfTagNames(e,t);this.shortenToLength(n<0?0:n)}popUntilNumberedHeaderPopped(){this.popUntilPopped(Bp,up.HTML)}popUntilTableCellPopped(){this.popUntilPopped(Pp,up.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,t){for(let n=this.stackTop;n>=0;n--)if(e.has(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===t)return n;return-1}clearBackTo(e,t){const n=this._indexOfTagNames(e,t);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(Mp,up.HTML)}clearBackToTableBodyContext(){this.clearBackTo(Np,up.HTML)}clearBackToTableRowContext(){this.clearBackTo(Rp,up.HTML)}remove(e){const t=this._indexOf(e);t>=0&&(t===this.stackTop?this.pop():(this.items.splice(t,1),this.tagIDs.splice(t,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===fp.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const t=this._indexOf(e)-1;return t>=0?this.items[t]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===fp.HTML}hasInDynamicScope(e,t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];switch(this.treeAdapter.getNamespaceURI(this.items[n])){case up.HTML:if(r===e)return!0;if(t.has(r))return!1;break;case up.SVG:if(Op.has(r))return!1;break;case up.MATHML:if(Dp.has(r))return!1}}return!0}hasInScope(e){return this.hasInDynamicScope(e,Up)}hasInListItemScope(e){return this.hasInDynamicScope(e,Lp)}hasInButtonScope(e){return this.hasInDynamicScope(e,Qp)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const t=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case up.HTML:if(Bp.has(t))return!0;if(Up.has(t))return!1;break;case up.SVG:if(Op.has(t))return!1;break;case up.MATHML:if(Dp.has(t))return!1}}return!0}hasInTableScope(e){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===up.HTML)switch(this.tagIDs[t]){case e:return!0;case fp.TABLE:case fp.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===up.HTML)switch(this.tagIDs[e]){case fp.TBODY:case fp.THEAD:case fp.TFOOT:return!0;case fp.TABLE:case fp.HTML:return!1}return!0}hasInSelectScope(e){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===up.HTML)switch(this.tagIDs[t]){case e:return!0;case fp.OPTION:case fp.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;kp.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;Fp.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==e&&Fp.has(this.currentTagId);)this.pop()}}var Kp;!function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"}(Kp||(Kp={}));const Gp={type:Kp.Marker};class jp{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,t){const n=[],r=t.length,s=this.treeAdapter.getTagName(e),i=this.treeAdapter.getNamespaceURI(e);for(let A=0;A<this.entries.length;A++){const e=this.entries[A];if(e.type===Kp.Marker)break;const{element:t}=e;if(this.treeAdapter.getTagName(t)===s&&this.treeAdapter.getNamespaceURI(t)===i){const e=this.treeAdapter.getAttrList(t);e.length===r&&n.push({idx:A,attrs:e})}}return n}_ensureNoahArkCondition(e){if(this.entries.length<3)return;const t=this.treeAdapter.getAttrList(e),n=this._getNoahArkConditionCandidates(e,t);if(n.length<3)return;const r=new Map(t.map((e=>[e.name,e.value])));let s=0;for(let i=0;i<n.length;i++){const e=n[i];e.attrs.every((e=>r.get(e.name)===e.value))&&(s+=1,s>=3&&this.entries.splice(e.idx,1))}}insertMarker(){this.entries.unshift(Gp)}pushElement(e,t){this._ensureNoahArkCondition(e),this.entries.unshift({type:Kp.Element,element:e,token:t})}insertElementAfterBookmark(e,t){const n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:Kp.Element,element:e,token:t})}removeEntry(e){const t=this.entries.indexOf(e);t>=0&&this.entries.splice(t,1)}clearToLastMarker(){const e=this.entries.indexOf(Gp);e>=0?this.entries.splice(0,e+1):this.entries.length=0}getElementEntryInScopeWithTagName(e){const t=this.entries.find((t=>t.type===Kp.Marker||this.treeAdapter.getTagName(t.element)===e));return t&&t.type===Kp.Element?t:null}getElementEntry(e){return this.entries.find((t=>t.type===Kp.Element&&t.element===e))}}const Vp={createDocument:()=>({nodeName:"#document",mode:dp.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(e,t,n)=>({nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}),createCommentNode:e=>({nodeName:"#comment",data:e,parentNode:null}),createTextNode:e=>({nodeName:"#text",value:e,parentNode:null}),appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent:e=>e.content,setDocumentType(e,t,n,r){const s=e.childNodes.find((e=>"#documentType"===e.nodeName));if(s)s.name=t,s.publicId=n,s.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};Vp.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode:e=>e.mode,detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(Vp.isTextNode(n))return void(n.value+=t)}Vp.appendChild(e,Vp.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&Vp.isTextNode(r)?r.value+=t:Vp.insertBefore(e,Vp.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map((e=>e.name)));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild:e=>e.childNodes[0],getChildNodes:e=>e.childNodes,getParentNode:e=>e.parentNode,getAttrList:e=>e.attrs,getTagName:e=>e.tagName,getNamespaceURI:e=>e.namespaceURI,getTextNodeContent:e=>e.value,getCommentNodeContent:e=>e.data,getDocumentTypeNodeName:e=>e.name,getDocumentTypeNodePublicId:e=>e.publicId,getDocumentTypeNodeSystemId:e=>e.systemId,isTextNode:e=>"#text"===e.nodeName,isCommentNode:e=>"#comment"===e.nodeName,isDocumentTypeNode:e=>"#documentType"===e.nodeName,isElementNode:e=>Object.prototype.hasOwnProperty.call(e,"tagName"),setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation:e=>e.sourceCodeLocation,updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},zp="html",Wp="about:legacy-compat",Yp="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Xp=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],qp=[...Xp,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],$p=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Jp=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Zp=[...Jp,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function ef(e,t){return t.some((t=>e.startsWith(t)))}const tf={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},nf="definitionurl",rf="definitionURL",sf=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((e=>[e.toLowerCase(),e]))),Af=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:up.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:up.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:up.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:up.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:up.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:up.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:up.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:up.XML}],["xml:space",{prefix:"xml",name:"space",namespace:up.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:up.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:up.XMLNS}]]),of=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((e=>[e.toLowerCase(),e]))),af=new Set([fp.B,fp.BIG,fp.BLOCKQUOTE,fp.BODY,fp.BR,fp.CENTER,fp.CODE,fp.DD,fp.DIV,fp.DL,fp.DT,fp.EM,fp.EMBED,fp.H1,fp.H2,fp.H3,fp.H4,fp.H5,fp.H6,fp.HEAD,fp.HR,fp.I,fp.IMG,fp.LI,fp.LISTING,fp.MENU,fp.META,fp.NOBR,fp.OL,fp.P,fp.PRE,fp.RUBY,fp.S,fp.SMALL,fp.SPAN,fp.STRONG,fp.STRIKE,fp.SUB,fp.SUP,fp.TABLE,fp.TT,fp.U,fp.UL,fp.VAR]);function lf(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===nf){e.attrs[t].name=rf;break}}function cf(e){for(let t=0;t<e.attrs.length;t++){const n=sf.get(e.attrs[t].name);null!=n&&(e.attrs[t].name=n)}}function uf(e){for(let t=0;t<e.attrs.length;t++){const n=Af.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function hf(e,t,n,r){return(!r||r===up.HTML)&&function(e,t,n){if(t===up.MATHML&&e===fp.ANNOTATION_XML)for(let r=0;r<n.length;r++)if(n[r].name===hp.ENCODING){const e=n[r].value.toLowerCase();return e===tf.TEXT_HTML||e===tf.APPLICATION_XML}return t===up.SVG&&(e===fp.FOREIGN_OBJECT||e===fp.DESC||e===fp.TITLE)}(e,t,n)||(!r||r===up.MATHML)&&function(e,t){return t===up.MATHML&&(e===fp.MI||e===fp.MO||e===fp.MN||e===fp.MS||e===fp.MTEXT)}(e,t)}const df="hidden",pf=8,ff=3;var gf;!function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"}(gf||(gf={}));const mf={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},wf=new Set([fp.TABLE,fp.TBODY,fp.TFOOT,fp.THEAD,fp.TR]),yf={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Vp,onParseError:null};class Bf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.fragmentContext=n,this.scriptHandler=r,this.currentToken=null,this.stopped=!1,this.insertionMode=gf.INITIAL,this.originalInsertionMode=gf.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...yf,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!==t&&void 0!==t?t:this.treeAdapter.createDocument(),this.tokenizer=new xp(this.options,this),this.activeFormattingElements=new jp(this.treeAdapter),this.fragmentContextID=n?mp(this.treeAdapter.getTagName(n)):fp.UNKNOWN,this._setContextModes(null!==n&&void 0!==n?n:this.document,this.fragmentContextID),this.openElements=new Hp(this.document,this.treeAdapter,this)}static parse(e,t){const n=new this(t);return n.tokenizer.write(e,!0),n.document}static getFragmentParser(e,t){const n={...yf,...t};null!==e&&void 0!==e||(e=n.treeAdapter.createElement(pp.TEMPLATE,up.HTML,[]));const r=n.treeAdapter.createElement("documentmock",up.HTML,[]),s=new this(n,r,e);return s.fragmentContextID===fp.TEMPLATE&&s.tmplInsertionModeStack.unshift(gf.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),t=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,t),t}_err(e,t,n){var r;if(!this.onParseError)return;const s=null!==(r=e.location)&&void 0!==r?r:mf,i={code:t,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:n?s.startLine:s.endLine,endCol:n?s.startCol:s.endCol,endOffset:n?s.startOffset:s.endOffset};this.onParseError(i)}onItemPush(e,t,n){var r,s;null===(s=(r=this.treeAdapter).onItemPush)||void 0===s||s.call(r,e),n&&this.openElements.stackTop>0&&this._setContextModes(e,t)}onItemPop(e,t){var n,r;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),null===(r=(n=this.treeAdapter).onItemPop)||void 0===r||r.call(n,e,this.openElements.current),t){let e,t;0===this.openElements.stackTop&&this.fragmentContext?(e=this.fragmentContext,t=this.fragmentContextID):({current:e,currentTagId:t}=this.openElements),this._setContextModes(e,t)}}_setContextModes(e,t){const n=e===this.document||this.treeAdapter.getNamespaceURI(e)===up.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&!this._isIntegrationPoint(t,e)}_switchToTextParsing(e,t){this._insertElement(e,up.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=gf.TEXT}switchToPlaintextParsing(){this.insertionMode=gf.TEXT,this.originalInsertionMode=gf.IN_BODY,this.tokenizer.state=bp.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===pp.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===up.HTML)switch(this.fragmentContextID){case fp.TITLE:case fp.TEXTAREA:this.tokenizer.state=bp.RCDATA;break;case fp.STYLE:case fp.XMP:case fp.IFRAME:case fp.NOEMBED:case fp.NOFRAMES:case fp.NOSCRIPT:this.tokenizer.state=bp.RAWTEXT;break;case fp.SCRIPT:this.tokenizer.state=bp.SCRIPT_DATA;break;case fp.PLAINTEXT:this.tokenizer.state=bp.PLAINTEXT}}_setDocumentType(e){const t=e.name||"",n=e.publicId||"",r=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,t,n,r),e.location){const t=this.treeAdapter.getChildNodes(this.document).find((e=>this.treeAdapter.isDocumentTypeNode(e)));t&&this.treeAdapter.setNodeSourceCodeLocation(t,e.location)}}_attachElementToTree(e,t){if(this.options.sourceCodeLocationInfo){const n=t&&{...t,startTag:t};this.treeAdapter.setNodeSourceCodeLocation(e,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const t=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(t,e)}}_appendElement(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location)}_insertElement(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID)}_insertFakeElement(e,t){const n=this.treeAdapter.createElement(e,up.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,t)}_insertTemplate(e){const t=this.treeAdapter.createElement(e.tagName,up.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,n),this._attachElementToTree(t,e.location),this.openElements.push(t,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(pp.HTML,up.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,fp.HTML)}_appendCommentNode(e,t){const n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,e.location)}_insertCharacters(e){let t,n;if(this._shouldFosterParentOnInsertion()?(({parent:t,beforeElement:n}=this._findFosterParentingLocation()),n?this.treeAdapter.insertTextBefore(t,e.chars,n):this.treeAdapter.insertText(t,e.chars)):(t=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(t,e.chars)),!e.location)return;const r=this.treeAdapter.getChildNodes(t),s=n?r.lastIndexOf(n):r.length,i=r[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(i)){const{endLine:t,endCol:n,endOffset:r}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(i,{endLine:t,endCol:n,endOffset:r})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(i,e.location)}_adoptNodes(e,t){for(let n=this.treeAdapter.getFirstChild(e);n;n=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(t,n)}_setEndLocation(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){const n=t.location,r=this.treeAdapter.getTagName(e),s=t.type===Wd.END_TAG&&r===t.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,s)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let t,n;return 0===this.openElements.stackTop&&this.fragmentContext?(t=this.fragmentContext,n=this.fragmentContextID):({current:t,currentTagId:n}=this.openElements),(e.tagID!==fp.SVG||this.treeAdapter.getTagName(t)!==pp.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(t)!==up.MATHML)&&(this.tokenizer.inForeignNode||(e.tagID===fp.MGLYPH||e.tagID===fp.MALIGNMARK)&&!this._isIntegrationPoint(n,t,up.HTML))}_processToken(e){switch(e.type){case Wd.CHARACTER:this.onCharacter(e);break;case Wd.NULL_CHARACTER:this.onNullCharacter(e);break;case Wd.COMMENT:this.onComment(e);break;case Wd.DOCTYPE:this.onDoctype(e);break;case Wd.START_TAG:this._processStartTag(e);break;case Wd.END_TAG:this.onEndTag(e);break;case Wd.EOF:this.onEof(e);break;case Wd.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(e)}}_isIntegrationPoint(e,t,n){return hf(e,this.treeAdapter.getNamespaceURI(t),this.treeAdapter.getAttrList(t),n)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const t=this.activeFormattingElements.entries.findIndex((e=>e.type===Kp.Marker||this.openElements.contains(e.element)));for(let n=t<0?e-1:t-1;n>=0;n--){const e=this.activeFormattingElements.entries[n];this._insertElement(e.token,this.treeAdapter.getNamespaceURI(e.element)),e.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=gf.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(fp.P),this.openElements.popUntilTagNamePopped(fp.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(0===e&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case fp.TR:return void(this.insertionMode=gf.IN_ROW);case fp.TBODY:case fp.THEAD:case fp.TFOOT:return void(this.insertionMode=gf.IN_TABLE_BODY);case fp.CAPTION:return void(this.insertionMode=gf.IN_CAPTION);case fp.COLGROUP:return void(this.insertionMode=gf.IN_COLUMN_GROUP);case fp.TABLE:return void(this.insertionMode=gf.IN_TABLE);case fp.BODY:return void(this.insertionMode=gf.IN_BODY);case fp.FRAMESET:return void(this.insertionMode=gf.IN_FRAMESET);case fp.SELECT:return void this._resetInsertionModeForSelect(e);case fp.TEMPLATE:return void(this.insertionMode=this.tmplInsertionModeStack[0]);case fp.HTML:return void(this.insertionMode=this.headElement?gf.AFTER_HEAD:gf.BEFORE_HEAD);case fp.TD:case fp.TH:if(e>0)return void(this.insertionMode=gf.IN_CELL);break;case fp.HEAD:if(e>0)return void(this.insertionMode=gf.IN_HEAD)}this.insertionMode=gf.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let t=e-1;t>0;t--){const e=this.openElements.tagIDs[t];if(e===fp.TEMPLATE)break;if(e===fp.TABLE)return void(this.insertionMode=gf.IN_SELECT_IN_TABLE)}this.insertionMode=gf.IN_SELECT}_isElementCausesFosterParenting(e){return wf.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const t=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case fp.TEMPLATE:if(this.treeAdapter.getNamespaceURI(t)===up.HTML)return{parent:this.treeAdapter.getTemplateContent(t),beforeElement:null};break;case fp.TABLE:{const n=this.treeAdapter.getParentNode(t);return n?{parent:n,beforeElement:t}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)}_isSpecialElement(e,t){const n=this.treeAdapter.getNamespaceURI(e);return yp[n].has(t)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(e,t){e._insertCharacters(t),e.framesetOk=!1}(this,e);else switch(this.insertionMode){case gf.INITIAL:kf(this,e);break;case gf.BEFORE_HTML:Ff(this,e);break;case gf.BEFORE_HEAD:Uf(this,e);break;case gf.IN_HEAD:Df(this,e);break;case gf.IN_HEAD_NO_SCRIPT:Of(this,e);break;case gf.AFTER_HEAD:Rf(this,e);break;case gf.IN_BODY:case gf.IN_CAPTION:case gf.IN_CELL:case gf.IN_TEMPLATE:Pf(this,e);break;case gf.TEXT:case gf.IN_SELECT:case gf.IN_SELECT_IN_TABLE:this._insertCharacters(e);break;case gf.IN_TABLE:case gf.IN_TABLE_BODY:case gf.IN_ROW:Xf(this,e);break;case gf.IN_TABLE_TEXT:eg(this,e);break;case gf.IN_COLUMN_GROUP:sg(this,e);break;case gf.AFTER_BODY:dg(this,e);break;case gf.AFTER_AFTER_BODY:pg(this,e)}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(e,t){t.chars=Qd,e._insertCharacters(t)}(this,e);else switch(this.insertionMode){case gf.INITIAL:kf(this,e);break;case gf.BEFORE_HTML:Ff(this,e);break;case gf.BEFORE_HEAD:Uf(this,e);break;case gf.IN_HEAD:Df(this,e);break;case gf.IN_HEAD_NO_SCRIPT:Of(this,e);break;case gf.AFTER_HEAD:Rf(this,e);break;case gf.TEXT:this._insertCharacters(e);break;case gf.IN_TABLE:case gf.IN_TABLE_BODY:case gf.IN_ROW:Xf(this,e);break;case gf.IN_COLUMN_GROUP:sg(this,e);break;case gf.AFTER_BODY:dg(this,e);break;case gf.AFTER_AFTER_BODY:pg(this,e)}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML)If(this,e);else switch(this.insertionMode){case gf.INITIAL:case gf.BEFORE_HTML:case gf.BEFORE_HEAD:case gf.IN_HEAD:case gf.IN_HEAD_NO_SCRIPT:case gf.AFTER_HEAD:case gf.IN_BODY:case gf.IN_TABLE:case gf.IN_CAPTION:case gf.IN_COLUMN_GROUP:case gf.IN_TABLE_BODY:case gf.IN_ROW:case gf.IN_CELL:case gf.IN_SELECT:case gf.IN_SELECT_IN_TABLE:case gf.IN_TEMPLATE:case gf.IN_FRAMESET:case gf.AFTER_FRAMESET:If(this,e);break;case gf.IN_TABLE_TEXT:tg(this,e);break;case gf.AFTER_BODY:!function(e,t){e._appendCommentNode(t,e.openElements.items[0])}(this,e);break;case gf.AFTER_AFTER_BODY:case gf.AFTER_AFTER_FRAMESET:!function(e,t){e._appendCommentNode(t,e.document)}(this,e)}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case gf.INITIAL:!function(e,t){e._setDocumentType(t);const n=t.forceQuirks?dp.QUIRKS:function(e){if(e.name!==zp)return dp.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===Yp)return dp.QUIRKS;let{publicId:n}=e;if(null!==n){if(n=n.toLowerCase(),$p.has(n))return dp.QUIRKS;let e=null===t?qp:Xp;if(ef(n,e))return dp.QUIRKS;if(e=null===t?Jp:Zp,ef(n,e))return dp.LIMITED_QUIRKS}return dp.NO_QUIRKS}(t);(function(e){return e.name===zp&&null===e.publicId&&(null===e.systemId||e.systemId===Wp)})(t)||e._err(t,Vd.nonConformingDoctype);e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=gf.BEFORE_HTML}(this,e);break;case gf.BEFORE_HEAD:case gf.IN_HEAD:case gf.IN_HEAD_NO_SCRIPT:case gf.AFTER_HEAD:this._err(e,Vd.misplacedDoctype);break;case gf.IN_TABLE_TEXT:tg(this,e)}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,Vd.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?function(e,t){if(function(e){const t=e.tagID;return t===fp.FONT&&e.attrs.some((e=>{let{name:t}=e;return t===hp.COLOR||t===hp.SIZE||t===hp.FACE}))||af.has(t)}(t))fg(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===up.MATHML?lf(t):r===up.SVG&&(!function(e){const t=of.get(e.tagName);null!=t&&(e.tagName=t,e.tagID=mp(e.tagName))}(t),cf(t)),uf(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case gf.INITIAL:kf(this,e);break;case gf.BEFORE_HTML:!function(e,t){t.tagID===fp.HTML?(e._insertElement(t,up.HTML),e.insertionMode=gf.BEFORE_HEAD):Ff(e,t)}(this,e);break;case gf.BEFORE_HEAD:!function(e,t){switch(t.tagID){case fp.HTML:Vf(e,t);break;case fp.HEAD:e._insertElement(t,up.HTML),e.headElement=e.openElements.current,e.insertionMode=gf.IN_HEAD;break;default:Uf(e,t)}}(this,e);break;case gf.IN_HEAD:Lf(this,e);break;case gf.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case fp.HTML:Vf(e,t);break;case fp.BASEFONT:case fp.BGSOUND:case fp.HEAD:case fp.LINK:case fp.META:case fp.NOFRAMES:case fp.STYLE:Lf(e,t);break;case fp.NOSCRIPT:e._err(t,Vd.nestedNoscriptInHead);break;default:Of(e,t)}}(this,e);break;case gf.AFTER_HEAD:!function(e,t){switch(t.tagID){case fp.HTML:Vf(e,t);break;case fp.BODY:e._insertElement(t,up.HTML),e.framesetOk=!1,e.insertionMode=gf.IN_BODY;break;case fp.FRAMESET:e._insertElement(t,up.HTML),e.insertionMode=gf.IN_FRAMESET;break;case fp.BASE:case fp.BASEFONT:case fp.BGSOUND:case fp.LINK:case fp.META:case fp.NOFRAMES:case fp.SCRIPT:case fp.STYLE:case fp.TEMPLATE:case fp.TITLE:e._err(t,Vd.abandonedHeadElementChild),e.openElements.push(e.headElement,fp.HEAD),Lf(e,t),e.openElements.remove(e.headElement);break;case fp.HEAD:e._err(t,Vd.misplacedStartTagForHeadElement);break;default:Rf(e,t)}}(this,e);break;case gf.IN_BODY:Vf(this,e);break;case gf.IN_TABLE:qf(this,e);break;case gf.IN_TABLE_TEXT:tg(this,e);break;case gf.IN_CAPTION:!function(e,t){const n=t.tagID;ng.has(n)?e.openElements.hasInTableScope(fp.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(fp.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=gf.IN_TABLE,qf(e,t)):Vf(e,t)}(this,e);break;case gf.IN_COLUMN_GROUP:rg(this,e);break;case gf.IN_TABLE_BODY:ig(this,e);break;case gf.IN_ROW:og(this,e);break;case gf.IN_CELL:!function(e,t){const n=t.tagID;ng.has(n)?(e.openElements.hasInTableScope(fp.TD)||e.openElements.hasInTableScope(fp.TH))&&(e._closeTableCell(),og(e,t)):Vf(e,t)}(this,e);break;case gf.IN_SELECT:lg(this,e);break;case gf.IN_SELECT_IN_TABLE:!function(e,t){const n=t.tagID;n===fp.CAPTION||n===fp.TABLE||n===fp.TBODY||n===fp.TFOOT||n===fp.THEAD||n===fp.TR||n===fp.TD||n===fp.TH?(e.openElements.popUntilTagNamePopped(fp.SELECT),e._resetInsertionMode(),e._processStartTag(t)):lg(e,t)}(this,e);break;case gf.IN_TEMPLATE:!function(e,t){switch(t.tagID){case fp.BASE:case fp.BASEFONT:case fp.BGSOUND:case fp.LINK:case fp.META:case fp.NOFRAMES:case fp.SCRIPT:case fp.STYLE:case fp.TEMPLATE:case fp.TITLE:Lf(e,t);break;case fp.CAPTION:case fp.COLGROUP:case fp.TBODY:case fp.TFOOT:case fp.THEAD:e.tmplInsertionModeStack[0]=gf.IN_TABLE,e.insertionMode=gf.IN_TABLE,qf(e,t);break;case fp.COL:e.tmplInsertionModeStack[0]=gf.IN_COLUMN_GROUP,e.insertionMode=gf.IN_COLUMN_GROUP,rg(e,t);break;case fp.TR:e.tmplInsertionModeStack[0]=gf.IN_TABLE_BODY,e.insertionMode=gf.IN_TABLE_BODY,ig(e,t);break;case fp.TD:case fp.TH:e.tmplInsertionModeStack[0]=gf.IN_ROW,e.insertionMode=gf.IN_ROW,og(e,t);break;default:e.tmplInsertionModeStack[0]=gf.IN_BODY,e.insertionMode=gf.IN_BODY,Vf(e,t)}}(this,e);break;case gf.AFTER_BODY:!function(e,t){t.tagID===fp.HTML?Vf(e,t):dg(e,t)}(this,e);break;case gf.IN_FRAMESET:!function(e,t){switch(t.tagID){case fp.HTML:Vf(e,t);break;case fp.FRAMESET:e._insertElement(t,up.HTML);break;case fp.FRAME:e._appendElement(t,up.HTML),t.ackSelfClosing=!0;break;case fp.NOFRAMES:Lf(e,t)}}(this,e);break;case gf.AFTER_FRAMESET:!function(e,t){switch(t.tagID){case fp.HTML:Vf(e,t);break;case fp.NOFRAMES:Lf(e,t)}}(this,e);break;case gf.AFTER_AFTER_BODY:!function(e,t){t.tagID===fp.HTML?Vf(e,t):pg(e,t)}(this,e);break;case gf.AFTER_AFTER_FRAMESET:!function(e,t){switch(t.tagID){case fp.HTML:Vf(e,t);break;case fp.NOFRAMES:Lf(e,t)}}(this,e)}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?function(e,t){if(t.tagID===fp.P||t.tagID===fp.BR)return fg(e),void e._endTagOutsideForeignContent(t);for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===up.HTML){e._endTagOutsideForeignContent(t);break}const s=e.treeAdapter.getTagName(r);if(s.toLowerCase()===t.tagName){t.tagName=s,e.openElements.shortenToLength(n);break}}}(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case gf.INITIAL:kf(this,e);break;case gf.BEFORE_HTML:!function(e,t){const n=t.tagID;n!==fp.HTML&&n!==fp.HEAD&&n!==fp.BODY&&n!==fp.BR||Ff(e,t)}(this,e);break;case gf.BEFORE_HEAD:!function(e,t){const n=t.tagID;n===fp.HEAD||n===fp.BODY||n===fp.HTML||n===fp.BR?Uf(e,t):e._err(t,Vd.endTagWithoutMatchingOpenElement)}(this,e);break;case gf.IN_HEAD:!function(e,t){switch(t.tagID){case fp.HEAD:e.openElements.pop(),e.insertionMode=gf.AFTER_HEAD;break;case fp.BODY:case fp.BR:case fp.HTML:Df(e,t);break;case fp.TEMPLATE:Qf(e,t);break;default:e._err(t,Vd.endTagWithoutMatchingOpenElement)}}(this,e);break;case gf.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case fp.NOSCRIPT:e.openElements.pop(),e.insertionMode=gf.IN_HEAD;break;case fp.BR:Of(e,t);break;default:e._err(t,Vd.endTagWithoutMatchingOpenElement)}}(this,e);break;case gf.AFTER_HEAD:!function(e,t){switch(t.tagID){case fp.BODY:case fp.HTML:case fp.BR:Rf(e,t);break;case fp.TEMPLATE:Qf(e,t);break;default:e._err(t,Vd.endTagWithoutMatchingOpenElement)}}(this,e);break;case gf.IN_BODY:Wf(this,e);break;case gf.TEXT:!function(e,t){var n;t.tagID===fp.SCRIPT&&(null===(n=e.scriptHandler)||void 0===n||n.call(e,e.openElements.current));e.openElements.pop(),e.insertionMode=e.originalInsertionMode}(this,e);break;case gf.IN_TABLE:$f(this,e);break;case gf.IN_TABLE_TEXT:tg(this,e);break;case gf.IN_CAPTION:!function(e,t){const n=t.tagID;switch(n){case fp.CAPTION:case fp.TABLE:e.openElements.hasInTableScope(fp.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(fp.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=gf.IN_TABLE,n===fp.TABLE&&$f(e,t));break;case fp.BODY:case fp.COL:case fp.COLGROUP:case fp.HTML:case fp.TBODY:case fp.TD:case fp.TFOOT:case fp.TH:case fp.THEAD:case fp.TR:break;default:Wf(e,t)}}(this,e);break;case gf.IN_COLUMN_GROUP:!function(e,t){switch(t.tagID){case fp.COLGROUP:e.openElements.currentTagId===fp.COLGROUP&&(e.openElements.pop(),e.insertionMode=gf.IN_TABLE);break;case fp.TEMPLATE:Qf(e,t);break;case fp.COL:break;default:sg(e,t)}}(this,e);break;case gf.IN_TABLE_BODY:Ag(this,e);break;case gf.IN_ROW:ag(this,e);break;case gf.IN_CELL:!function(e,t){const n=t.tagID;switch(n){case fp.TD:case fp.TH:e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=gf.IN_ROW);break;case fp.TABLE:case fp.TBODY:case fp.TFOOT:case fp.THEAD:case fp.TR:e.openElements.hasInTableScope(n)&&(e._closeTableCell(),ag(e,t));break;case fp.BODY:case fp.CAPTION:case fp.COL:case fp.COLGROUP:case fp.HTML:break;default:Wf(e,t)}}(this,e);break;case gf.IN_SELECT:cg(this,e);break;case gf.IN_SELECT_IN_TABLE:!function(e,t){const n=t.tagID;n===fp.CAPTION||n===fp.TABLE||n===fp.TBODY||n===fp.TFOOT||n===fp.THEAD||n===fp.TR||n===fp.TD||n===fp.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(fp.SELECT),e._resetInsertionMode(),e.onEndTag(t)):cg(e,t)}(this,e);break;case gf.IN_TEMPLATE:!function(e,t){t.tagID===fp.TEMPLATE&&Qf(e,t)}(this,e);break;case gf.AFTER_BODY:hg(this,e);break;case gf.IN_FRAMESET:!function(e,t){t.tagID!==fp.FRAMESET||e.openElements.isRootHtmlElementCurrent()||(e.openElements.pop(),e.fragmentContext||e.openElements.currentTagId===fp.FRAMESET||(e.insertionMode=gf.AFTER_FRAMESET))}(this,e);break;case gf.AFTER_FRAMESET:!function(e,t){t.tagID===fp.HTML&&(e.insertionMode=gf.AFTER_AFTER_FRAMESET)}(this,e);break;case gf.AFTER_AFTER_BODY:pg(this,e)}}onEof(e){switch(this.insertionMode){case gf.INITIAL:kf(this,e);break;case gf.BEFORE_HTML:Ff(this,e);break;case gf.BEFORE_HEAD:Uf(this,e);break;case gf.IN_HEAD:Df(this,e);break;case gf.IN_HEAD_NO_SCRIPT:Of(this,e);break;case gf.AFTER_HEAD:Rf(this,e);break;case gf.IN_BODY:case gf.IN_TABLE:case gf.IN_CAPTION:case gf.IN_COLUMN_GROUP:case gf.IN_TABLE_BODY:case gf.IN_ROW:case gf.IN_CELL:case gf.IN_SELECT:case gf.IN_SELECT_IN_TABLE:Yf(this,e);break;case gf.TEXT:!function(e,t){e._err(t,Vd.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}(this,e);break;case gf.IN_TABLE_TEXT:tg(this,e);break;case gf.IN_TEMPLATE:ug(this,e);break;case gf.AFTER_BODY:case gf.IN_FRAMESET:case gf.AFTER_FRAMESET:case gf.AFTER_AFTER_BODY:case gf.AFTER_AFTER_FRAMESET:xf(this,e)}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===Dd.LINE_FEED)){if(1===e.chars.length)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode)this._insertCharacters(e);else switch(this.insertionMode){case gf.IN_HEAD:case gf.IN_HEAD_NO_SCRIPT:case gf.AFTER_HEAD:case gf.TEXT:case gf.IN_COLUMN_GROUP:case gf.IN_SELECT:case gf.IN_SELECT_IN_TABLE:case gf.IN_FRAMESET:case gf.AFTER_FRAMESET:this._insertCharacters(e);break;case gf.IN_BODY:case gf.IN_CAPTION:case gf.IN_CELL:case gf.IN_TEMPLATE:case gf.AFTER_BODY:case gf.AFTER_AFTER_BODY:case gf.AFTER_AFTER_FRAMESET:Mf(this,e);break;case gf.IN_TABLE:case gf.IN_TABLE_BODY:case gf.IN_ROW:Xf(this,e);break;case gf.IN_TABLE_TEXT:Zf(this,e)}}}function Ef(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):zf(e,t),n}function bf(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const s=e.openElements.items[r];if(s===t.element)break;e._isSpecialElement(s,e.openElements.tagIDs[r])&&(n=s)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function vf(e,t,n){let r=t,s=e.openElements.getCommonAncestor(t);for(let i=0,A=s;A!==n;i++,A=s){s=e.openElements.getCommonAncestor(A);const n=e.activeFormattingElements.getElementEntry(A),o=n&&i>=ff;!n||o?(o&&e.activeFormattingElements.removeEntry(n),e.openElements.remove(A)):(A=Cf(e,n),r===t&&(e.activeFormattingElements.bookmark=n),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(A,r),r=A)}return r}function Cf(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function Tf(e,t,n){const r=mp(e.treeAdapter.getTagName(t));if(e._isElementCausesFosterParenting(r))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);r===fp.TEMPLATE&&s===up.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function _f(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:s}=n,i=e.treeAdapter.createElement(s.tagName,r,s.attrs);e._adoptNodes(t,i),e.treeAdapter.appendChild(t,i),e.activeFormattingElements.insertElementAfterBookmark(i,s),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,i,s.tagID)}function Sf(e,t){for(let n=0;n<pf;n++){const n=Ef(e,t);if(!n)break;const r=bf(e,n);if(!r)break;e.activeFormattingElements.bookmark=n;const s=vf(e,r,n.element),i=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(s),i&&Tf(e,i,s),_f(e,r,n)}}function If(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function xf(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const n=e.openElements.items[0],r=e.treeAdapter.getNodeSourceCodeLocation(n);if(r&&!r.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){const n=e.openElements.items[1],r=e.treeAdapter.getNodeSourceCodeLocation(n);r&&!r.endTag&&e._setEndLocation(n,t)}}}}function kf(e,t){e._err(t,Vd.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,dp.QUIRKS),e.insertionMode=gf.BEFORE_HTML,e._processToken(t)}function Ff(e,t){e._insertFakeRootElement(),e.insertionMode=gf.BEFORE_HEAD,e._processToken(t)}function Uf(e,t){e._insertFakeElement(pp.HEAD,fp.HEAD),e.headElement=e.openElements.current,e.insertionMode=gf.IN_HEAD,e._processToken(t)}function Lf(e,t){switch(t.tagID){case fp.HTML:Vf(e,t);break;case fp.BASE:case fp.BASEFONT:case fp.BGSOUND:case fp.LINK:case fp.META:e._appendElement(t,up.HTML),t.ackSelfClosing=!0;break;case fp.TITLE:e._switchToTextParsing(t,bp.RCDATA);break;case fp.NOSCRIPT:e.options.scriptingEnabled?e._switchToTextParsing(t,bp.RAWTEXT):(e._insertElement(t,up.HTML),e.insertionMode=gf.IN_HEAD_NO_SCRIPT);break;case fp.NOFRAMES:case fp.STYLE:e._switchToTextParsing(t,bp.RAWTEXT);break;case fp.SCRIPT:e._switchToTextParsing(t,bp.SCRIPT_DATA);break;case fp.TEMPLATE:e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=gf.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(gf.IN_TEMPLATE);break;case fp.HEAD:e._err(t,Vd.misplacedStartTagForHeadElement);break;default:Df(e,t)}}function Qf(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==fp.TEMPLATE&&e._err(t,Vd.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(fp.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,Vd.endTagWithoutMatchingOpenElement)}function Df(e,t){e.openElements.pop(),e.insertionMode=gf.AFTER_HEAD,e._processToken(t)}function Of(e,t){const n=t.type===Wd.EOF?Vd.openElementsLeftAfterEof:Vd.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=gf.IN_HEAD,e._processToken(t)}function Rf(e,t){e._insertFakeElement(pp.BODY,fp.BODY),e.insertionMode=gf.IN_BODY,Nf(e,t)}function Nf(e,t){switch(t.type){case Wd.CHARACTER:Pf(e,t);break;case Wd.WHITESPACE_CHARACTER:Mf(e,t);break;case Wd.COMMENT:If(e,t);break;case Wd.START_TAG:Vf(e,t);break;case Wd.END_TAG:Wf(e,t);break;case Wd.EOF:Yf(e,t)}}function Mf(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Pf(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function Hf(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,up.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Kf(e){const t=Yd(e,hp.TYPE);return null!=t&&t.toLowerCase()===df}function Gf(e,t){e._switchToTextParsing(t,bp.RAWTEXT)}function jf(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,up.HTML)}function Vf(e,t){switch(t.tagID){case fp.I:case fp.S:case fp.B:case fp.U:case fp.EM:case fp.TT:case fp.BIG:case fp.CODE:case fp.FONT:case fp.SMALL:case fp.STRIKE:case fp.STRONG:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,up.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case fp.A:!function(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(pp.A);n&&(Sf(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,up.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case fp.H1:case fp.H2:case fp.H3:case fp.H4:case fp.H5:case fp.H6:!function(e,t){e.openElements.hasInButtonScope(fp.P)&&e._closePElement(),Bp.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,up.HTML)}(e,t);break;case fp.P:case fp.DL:case fp.OL:case fp.UL:case fp.DIV:case fp.DIR:case fp.NAV:case fp.MAIN:case fp.MENU:case fp.ASIDE:case fp.CENTER:case fp.FIGURE:case fp.FOOTER:case fp.HEADER:case fp.HGROUP:case fp.DIALOG:case fp.DETAILS:case fp.ADDRESS:case fp.ARTICLE:case fp.SEARCH:case fp.SECTION:case fp.SUMMARY:case fp.FIELDSET:case fp.BLOCKQUOTE:case fp.FIGCAPTION:!function(e,t){e.openElements.hasInButtonScope(fp.P)&&e._closePElement(),e._insertElement(t,up.HTML)}(e,t);break;case fp.LI:case fp.DD:case fp.DT:!function(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const t=e.openElements.tagIDs[r];if(n===fp.LI&&t===fp.LI||(n===fp.DD||n===fp.DT)&&(t===fp.DD||t===fp.DT)){e.openElements.generateImpliedEndTagsWithExclusion(t),e.openElements.popUntilTagNamePopped(t);break}if(t!==fp.ADDRESS&&t!==fp.DIV&&t!==fp.P&&e._isSpecialElement(e.openElements.items[r],t))break}e.openElements.hasInButtonScope(fp.P)&&e._closePElement(),e._insertElement(t,up.HTML)}(e,t);break;case fp.BR:case fp.IMG:case fp.WBR:case fp.AREA:case fp.EMBED:case fp.KEYGEN:Hf(e,t);break;case fp.HR:!function(e,t){e.openElements.hasInButtonScope(fp.P)&&e._closePElement(),e._appendElement(t,up.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}(e,t);break;case fp.RB:case fp.RTC:!function(e,t){e.openElements.hasInScope(fp.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,up.HTML)}(e,t);break;case fp.RT:case fp.RP:!function(e,t){e.openElements.hasInScope(fp.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(fp.RTC),e._insertElement(t,up.HTML)}(e,t);break;case fp.PRE:case fp.LISTING:!function(e,t){e.openElements.hasInButtonScope(fp.P)&&e._closePElement(),e._insertElement(t,up.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}(e,t);break;case fp.XMP:!function(e,t){e.openElements.hasInButtonScope(fp.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,bp.RAWTEXT)}(e,t);break;case fp.SVG:!function(e,t){e._reconstructActiveFormattingElements(),cf(t),uf(t),t.selfClosing?e._appendElement(t,up.SVG):e._insertElement(t,up.SVG),t.ackSelfClosing=!0}(e,t);break;case fp.HTML:!function(e,t){0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}(e,t);break;case fp.BASE:case fp.LINK:case fp.META:case fp.STYLE:case fp.TITLE:case fp.SCRIPT:case fp.BGSOUND:case fp.BASEFONT:case fp.TEMPLATE:Lf(e,t);break;case fp.BODY:!function(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}(e,t);break;case fp.FORM:!function(e,t){const n=e.openElements.tmplCount>0;e.formElement&&!n||(e.openElements.hasInButtonScope(fp.P)&&e._closePElement(),e._insertElement(t,up.HTML),n||(e.formElement=e.openElements.current))}(e,t);break;case fp.NOBR:!function(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(fp.NOBR)&&(Sf(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,up.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case fp.MATH:!function(e,t){e._reconstructActiveFormattingElements(),lf(t),uf(t),t.selfClosing?e._appendElement(t,up.MATHML):e._insertElement(t,up.MATHML),t.ackSelfClosing=!0}(e,t);break;case fp.TABLE:!function(e,t){e.treeAdapter.getDocumentMode(e.document)!==dp.QUIRKS&&e.openElements.hasInButtonScope(fp.P)&&e._closePElement(),e._insertElement(t,up.HTML),e.framesetOk=!1,e.insertionMode=gf.IN_TABLE}(e,t);break;case fp.INPUT:!function(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,up.HTML),Kf(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}(e,t);break;case fp.PARAM:case fp.TRACK:case fp.SOURCE:!function(e,t){e._appendElement(t,up.HTML),t.ackSelfClosing=!0}(e,t);break;case fp.IMAGE:!function(e,t){t.tagName=pp.IMG,t.tagID=fp.IMG,Hf(e,t)}(e,t);break;case fp.BUTTON:!function(e,t){e.openElements.hasInScope(fp.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(fp.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,up.HTML),e.framesetOk=!1}(e,t);break;case fp.APPLET:case fp.OBJECT:case fp.MARQUEE:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,up.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}(e,t);break;case fp.IFRAME:!function(e,t){e.framesetOk=!1,e._switchToTextParsing(t,bp.RAWTEXT)}(e,t);break;case fp.SELECT:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,up.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===gf.IN_TABLE||e.insertionMode===gf.IN_CAPTION||e.insertionMode===gf.IN_TABLE_BODY||e.insertionMode===gf.IN_ROW||e.insertionMode===gf.IN_CELL?gf.IN_SELECT_IN_TABLE:gf.IN_SELECT}(e,t);break;case fp.OPTION:case fp.OPTGROUP:!function(e,t){e.openElements.currentTagId===fp.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,up.HTML)}(e,t);break;case fp.NOEMBED:case fp.NOFRAMES:Gf(e,t);break;case fp.FRAMESET:!function(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,up.HTML),e.insertionMode=gf.IN_FRAMESET)}(e,t);break;case fp.TEXTAREA:!function(e,t){e._insertElement(t,up.HTML),e.skipNextNewLine=!0,e.tokenizer.state=bp.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=gf.TEXT}(e,t);break;case fp.NOSCRIPT:e.options.scriptingEnabled?Gf(e,t):jf(e,t);break;case fp.PLAINTEXT:!function(e,t){e.openElements.hasInButtonScope(fp.P)&&e._closePElement(),e._insertElement(t,up.HTML),e.tokenizer.state=bp.PLAINTEXT}(e,t);break;case fp.COL:case fp.TH:case fp.TD:case fp.TR:case fp.HEAD:case fp.FRAME:case fp.TBODY:case fp.TFOOT:case fp.THEAD:case fp.CAPTION:case fp.COLGROUP:break;default:jf(e,t)}}function zf(e,t){const n=t.tagName,r=t.tagID;for(let s=e.openElements.stackTop;s>0;s--){const t=e.openElements.items[s],i=e.openElements.tagIDs[s];if(r===i&&(r!==fp.UNKNOWN||e.treeAdapter.getTagName(t)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=s&&e.openElements.shortenToLength(s);break}if(e._isSpecialElement(t,i))break}}function Wf(e,t){switch(t.tagID){case fp.A:case fp.B:case fp.I:case fp.S:case fp.U:case fp.EM:case fp.TT:case fp.BIG:case fp.CODE:case fp.FONT:case fp.NOBR:case fp.SMALL:case fp.STRIKE:case fp.STRONG:Sf(e,t);break;case fp.P:!function(e){e.openElements.hasInButtonScope(fp.P)||e._insertFakeElement(pp.P,fp.P),e._closePElement()}(e);break;case fp.DL:case fp.UL:case fp.OL:case fp.DIR:case fp.DIV:case fp.NAV:case fp.PRE:case fp.MAIN:case fp.MENU:case fp.ASIDE:case fp.BUTTON:case fp.CENTER:case fp.FIGURE:case fp.FOOTER:case fp.HEADER:case fp.HGROUP:case fp.DIALOG:case fp.ADDRESS:case fp.ARTICLE:case fp.DETAILS:case fp.SEARCH:case fp.SECTION:case fp.SUMMARY:case fp.LISTING:case fp.FIELDSET:case fp.BLOCKQUOTE:case fp.FIGCAPTION:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}(e,t);break;case fp.LI:!function(e){e.openElements.hasInListItemScope(fp.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(fp.LI),e.openElements.popUntilTagNamePopped(fp.LI))}(e);break;case fp.DD:case fp.DT:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}(e,t);break;case fp.H1:case fp.H2:case fp.H3:case fp.H4:case fp.H5:case fp.H6:!function(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}(e);break;case fp.BR:!function(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(pp.BR,fp.BR),e.openElements.pop(),e.framesetOk=!1}(e);break;case fp.BODY:!function(e,t){if(e.openElements.hasInScope(fp.BODY)&&(e.insertionMode=gf.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}(e,t);break;case fp.HTML:!function(e,t){e.openElements.hasInScope(fp.BODY)&&(e.insertionMode=gf.AFTER_BODY,hg(e,t))}(e,t);break;case fp.FORM:!function(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(fp.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(fp.FORM):n&&e.openElements.remove(n))}(e);break;case fp.APPLET:case fp.OBJECT:case fp.MARQUEE:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}(e,t);break;case fp.TEMPLATE:Qf(e,t);break;default:zf(e,t)}}function Yf(e,t){e.tmplInsertionModeStack.length>0?ug(e,t):xf(e,t)}function Xf(e,t){if(wf.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=gf.IN_TABLE_TEXT,t.type){case Wd.CHARACTER:eg(e,t);break;case Wd.WHITESPACE_CHARACTER:Zf(e,t)}else Jf(e,t)}function qf(e,t){switch(t.tagID){case fp.TD:case fp.TH:case fp.TR:!function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(pp.TBODY,fp.TBODY),e.insertionMode=gf.IN_TABLE_BODY,ig(e,t)}(e,t);break;case fp.STYLE:case fp.SCRIPT:case fp.TEMPLATE:Lf(e,t);break;case fp.COL:!function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(pp.COLGROUP,fp.COLGROUP),e.insertionMode=gf.IN_COLUMN_GROUP,rg(e,t)}(e,t);break;case fp.FORM:!function(e,t){e.formElement||0!==e.openElements.tmplCount||(e._insertElement(t,up.HTML),e.formElement=e.openElements.current,e.openElements.pop())}(e,t);break;case fp.TABLE:!function(e,t){e.openElements.hasInTableScope(fp.TABLE)&&(e.openElements.popUntilTagNamePopped(fp.TABLE),e._resetInsertionMode(),e._processStartTag(t))}(e,t);break;case fp.TBODY:case fp.TFOOT:case fp.THEAD:!function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,up.HTML),e.insertionMode=gf.IN_TABLE_BODY}(e,t);break;case fp.INPUT:!function(e,t){Kf(t)?e._appendElement(t,up.HTML):Jf(e,t),t.ackSelfClosing=!0}(e,t);break;case fp.CAPTION:!function(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,up.HTML),e.insertionMode=gf.IN_CAPTION}(e,t);break;case fp.COLGROUP:!function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,up.HTML),e.insertionMode=gf.IN_COLUMN_GROUP}(e,t);break;default:Jf(e,t)}}function $f(e,t){switch(t.tagID){case fp.TABLE:e.openElements.hasInTableScope(fp.TABLE)&&(e.openElements.popUntilTagNamePopped(fp.TABLE),e._resetInsertionMode());break;case fp.TEMPLATE:Qf(e,t);break;case fp.BODY:case fp.CAPTION:case fp.COL:case fp.COLGROUP:case fp.HTML:case fp.TBODY:case fp.TD:case fp.TFOOT:case fp.TH:case fp.THEAD:case fp.TR:break;default:Jf(e,t)}}function Jf(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Nf(e,t),e.fosterParentingEnabled=n}function Zf(e,t){e.pendingCharacterTokens.push(t)}function eg(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function tg(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Jf(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const ng=new Set([fp.CAPTION,fp.COL,fp.COLGROUP,fp.TBODY,fp.TD,fp.TFOOT,fp.TH,fp.THEAD,fp.TR]);function rg(e,t){switch(t.tagID){case fp.HTML:Vf(e,t);break;case fp.COL:e._appendElement(t,up.HTML),t.ackSelfClosing=!0;break;case fp.TEMPLATE:Lf(e,t);break;default:sg(e,t)}}function sg(e,t){e.openElements.currentTagId===fp.COLGROUP&&(e.openElements.pop(),e.insertionMode=gf.IN_TABLE,e._processToken(t))}function ig(e,t){switch(t.tagID){case fp.TR:e.openElements.clearBackToTableBodyContext(),e._insertElement(t,up.HTML),e.insertionMode=gf.IN_ROW;break;case fp.TH:case fp.TD:e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(pp.TR,fp.TR),e.insertionMode=gf.IN_ROW,og(e,t);break;case fp.CAPTION:case fp.COL:case fp.COLGROUP:case fp.TBODY:case fp.TFOOT:case fp.THEAD:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=gf.IN_TABLE,qf(e,t));break;default:qf(e,t)}}function Ag(e,t){const n=t.tagID;switch(t.tagID){case fp.TBODY:case fp.TFOOT:case fp.THEAD:e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=gf.IN_TABLE);break;case fp.TABLE:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=gf.IN_TABLE,$f(e,t));break;case fp.BODY:case fp.CAPTION:case fp.COL:case fp.COLGROUP:case fp.HTML:case fp.TD:case fp.TH:case fp.TR:break;default:$f(e,t)}}function og(e,t){switch(t.tagID){case fp.TH:case fp.TD:e.openElements.clearBackToTableRowContext(),e._insertElement(t,up.HTML),e.insertionMode=gf.IN_CELL,e.activeFormattingElements.insertMarker();break;case fp.CAPTION:case fp.COL:case fp.COLGROUP:case fp.TBODY:case fp.TFOOT:case fp.THEAD:case fp.TR:e.openElements.hasInTableScope(fp.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=gf.IN_TABLE_BODY,ig(e,t));break;default:qf(e,t)}}function ag(e,t){switch(t.tagID){case fp.TR:e.openElements.hasInTableScope(fp.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=gf.IN_TABLE_BODY);break;case fp.TABLE:e.openElements.hasInTableScope(fp.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=gf.IN_TABLE_BODY,Ag(e,t));break;case fp.TBODY:case fp.TFOOT:case fp.THEAD:(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(fp.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=gf.IN_TABLE_BODY,Ag(e,t));break;case fp.BODY:case fp.CAPTION:case fp.COL:case fp.COLGROUP:case fp.HTML:case fp.TD:case fp.TH:break;default:$f(e,t)}}function lg(e,t){switch(t.tagID){case fp.HTML:Vf(e,t);break;case fp.OPTION:e.openElements.currentTagId===fp.OPTION&&e.openElements.pop(),e._insertElement(t,up.HTML);break;case fp.OPTGROUP:e.openElements.currentTagId===fp.OPTION&&e.openElements.pop(),e.openElements.currentTagId===fp.OPTGROUP&&e.openElements.pop(),e._insertElement(t,up.HTML);break;case fp.HR:e.openElements.currentTagId===fp.OPTION&&e.openElements.pop(),e.openElements.currentTagId===fp.OPTGROUP&&e.openElements.pop(),e._appendElement(t,up.HTML),t.ackSelfClosing=!0;break;case fp.INPUT:case fp.KEYGEN:case fp.TEXTAREA:case fp.SELECT:e.openElements.hasInSelectScope(fp.SELECT)&&(e.openElements.popUntilTagNamePopped(fp.SELECT),e._resetInsertionMode(),t.tagID!==fp.SELECT&&e._processStartTag(t));break;case fp.SCRIPT:case fp.TEMPLATE:Lf(e,t)}}function cg(e,t){switch(t.tagID){case fp.OPTGROUP:e.openElements.stackTop>0&&e.openElements.currentTagId===fp.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===fp.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===fp.OPTGROUP&&e.openElements.pop();break;case fp.OPTION:e.openElements.currentTagId===fp.OPTION&&e.openElements.pop();break;case fp.SELECT:e.openElements.hasInSelectScope(fp.SELECT)&&(e.openElements.popUntilTagNamePopped(fp.SELECT),e._resetInsertionMode());break;case fp.TEMPLATE:Qf(e,t)}}function ug(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(fp.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):xf(e,t)}function hg(e,t){var n;if(t.tagID===fp.HTML){if(e.fragmentContext||(e.insertionMode=gf.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===fp.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(null===(n=e.treeAdapter.getNodeSourceCodeLocation(r))||void 0===n?void 0:n.endTag)&&e._setEndLocation(r,t)}}else dg(e,t)}function dg(e,t){e.insertionMode=gf.IN_BODY,Nf(e,t)}function pg(e,t){e.insertionMode=gf.IN_BODY,Nf(e,t)}function fg(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==up.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}const gg=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);String.prototype.codePointAt;function mg(e,t){return function(n){let r,s=0,i="";for(;r=e.exec(n);)s!==r.index&&(i+=n.substring(s,r.index)),i+=t.get(r[0].charCodeAt(0)),s=r.index+1;return i+n.substring(s)}}mg(/[&<>'"]/g,gg),mg(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),mg(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),new Set([pp.AREA,pp.BASE,pp.BASEFONT,pp.BGSOUND,pp.BR,pp.COL,pp.EMBED,pp.FRAME,pp.HR,pp.IMG,pp.INPUT,pp.KEYGEN,pp.LINK,pp.META,pp.PARAM,pp.SOURCE,pp.TRACK,pp.WBR]);const wg=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,yg=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),Bg={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function Eg(e,t){const n=function(e){const t="root"===e.type?e.children[0]:e;return Boolean(t&&("doctype"===t.type||"element"===t.type&&"html"===t.tagName.toLowerCase()))}(e),r=Td("type",{handlers:{root:vg,element:Cg,text:Tg,comment:Ig,doctype:_g,raw:xg},unknown:kg}),s={parser:n?new Bf(Bg):Bf.getFragmentParser(void 0,Bg),handle(e){r(e,s)},stitches:!1,options:t||{}};r(e,s),Fg(s,Tl());const i=function(e,t){const n=t||{};return yd({file:n.file||void 0,location:!1,schema:"svg"===n.space?hl:ul,verbose:n.verbose||!1},e)}(n?s.parser.document:s.parser.getFragment(),{file:s.options.file});return s.stitches&&dh(i,"comment",(function(e,t,n){const r=e;if(r.value.stitch&&n&&void 0!==t){return n.children[t]=r.value.stitch,t}})),"root"===i.type&&1===i.children.length&&i.children[0].type===e.type?i.children[0]:i}function bg(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function vg(e,t){bg(e.children,t)}function Cg(e,t){!function(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===bp.PLAINTEXT)return;Fg(t,Tl(e));const r=t.parser.openElements.current;let s="namespaceURI"in r?r.namespaceURI:gd.html;s===gd.html&&"svg"===n&&(s=gd.svg);const i=function(e,t){const n=(t||_d).space;return Id(e,"svg"===n?hl:ul)}({...e,children:[]},{space:s===gd.svg?"svg":"html"}),A={type:Wd.START_TAG,tagName:n,tagID:mp(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in i?i.attrs:[],location:Lg(e)};t.parser.currentToken=A,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}(e,t),bg(e.children,t),function(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&Ud.includes(n))return;if(t.parser.tokenizer.state===bp.PLAINTEXT)return;Fg(t,Cl(e));const r={type:Wd.END_TAG,tagName:n,tagID:mp(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Lg(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n!==t.parser.tokenizer.lastStartTagName||t.parser.tokenizer.state!==bp.RCDATA&&t.parser.tokenizer.state!==bp.RAWTEXT&&t.parser.tokenizer.state!==bp.SCRIPT_DATA||(t.parser.tokenizer.state=bp.DATA)}(e,t)}function Tg(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:Wd.CHARACTER,chars:e.value,location:Lg(e)};Fg(t,Tl(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function _g(e,t){const n={type:Wd.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Lg(e)};Fg(t,Tl(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function Sg(e,t){t.stitches=!0;const n=function(e){return eh("children"in e?{...e,children:[]}:e)}(e);if("children"in e&&"children"in n){const r=Eg({type:"root",children:e.children},t.options);n.children=r.children}Ig({type:"comment",value:{stitch:n}},t)}function Ig(e,t){const n=e.value,r={type:Wd.COMMENT,data:n,location:Lg(e)};Fg(t,Tl(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function xg(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,Ug(t,Tl(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(wg,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),72===t.parser.tokenizer.state||78===t.parser.tokenizer.state){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const e=t.parser.tokenizer._consume();t.parser.tokenizer._callState(e)}}function kg(e,t){const n=e;if(!t.options.passThrough||!t.options.passThrough.includes(n.type)){let e="";throw yg.has(n.type)&&(e=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+e)}Sg(n,t)}function Fg(e,t){Ug(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=bp.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function Ug(e,t){if(t&&void 0!==t.offset){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=1-t.column,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function Lg(e){const t=Tl(e)||{line:void 0,column:void 0,offset:void 0},n=Cl(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function Qg(e){return function(t,n){return Eg(t,{...e,file:n})}}const Dg="4.73.0";let Og,Rg,Ng,Mg,Pg,Hg,Kg,Gg,jg,Vg=!1,zg=null,Wg=null,Yg=null,Xg=null;class qg{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}Og||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{auto:!1};if(Vg)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(Og)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${Og}'\``);Vg=t.auto,Og=e.kind,Rg=e.fetch,zg=e.Request,Wg=e.Response,Yg=e.Headers,Ng=e.FormData,Xg=e.Blob,Mg=e.File,Pg=e.ReadableStream,Hg=e.getMultipartRequestOptions,Kg=e.getDefaultAgent,Gg=e.fileFromPath,jg=e.isFsReadStream}(function(){let{manuallyImported:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?"You may need to use polyfills":"Add one of these imports before your first `import \u2026 from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,s,i;try{n=fetch,r=Request,s=Response,i=Headers}catch(A){throw new Error(`this environment is missing the following Web Fetch API type: ${A.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:i,FormData:"undefined"!==typeof FormData?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:"undefined"!==typeof Blob?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:"undefined"!==typeof File?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:"undefined"!==typeof ReadableStream?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(e,t)=>({...t,body:new qg(e)}),getDefaultAgent:e=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:e=>!1}}(),{auto:!0});class $g extends Error{}class Jg extends $g{constructor(e,t,n,r){super(`${Jg.makeMessage(e,t,n)}`),this.status=e,this.headers=r,this.request_id=r?.["x-request-id"];const s=t;this.error=s,this.code=s?.code,this.param=s?.param,this.type=s?.type}static makeMessage(e,t,n){const r=t?.message?"string"===typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,n,r){if(!e)return new em({message:n,cause:qm(t)});const s=t?.error;return 400===e?new nm(e,s,n,r):401===e?new rm(e,s,n,r):403===e?new sm(e,s,n,r):404===e?new im(e,s,n,r):409===e?new Am(e,s,n,r):422===e?new om(e,s,n,r):429===e?new am(e,s,n,r):e>=500?new lm(e,s,n,r):new Jg(e,s,n,r)}}class Zg extends Jg{constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}}class em extends Jg{constructor(e){let{message:t,cause:n}=e;super(void 0,void 0,t||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}}class tm extends em{constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e??"Request timed out."})}}class nm extends Jg{constructor(){super(...arguments),this.status=400}}class rm extends Jg{constructor(){super(...arguments),this.status=401}}class sm extends Jg{constructor(){super(...arguments),this.status=403}}class im extends Jg{constructor(){super(...arguments),this.status=404}}class Am extends Jg{constructor(){super(...arguments),this.status=409}}class om extends Jg{constructor(){super(...arguments),this.status=422}}class am extends Jg{constructor(){super(...arguments),this.status=429}}class lm extends Jg{}class cm extends $g{constructor(){super("Could not parse response content as the length limit was reached")}}class um extends $g{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class hm{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let t=this.decodeText(e);if(this.trailingCR&&(t="\r"+t,this.trailingCR=!1),t.endsWith("\r")&&(this.trailingCR=!0,t=t.slice(0,-1)),!t)return[];const n=hm.NEWLINE_CHARS.has(t[t.length-1]||"");let r=t.split(hm.NEWLINE_REGEXP);return n&&r.pop(),1!==r.length||n?(this.buffer.length>0&&(r=[this.buffer.join("")+r[0],...r.slice(1)],this.buffer=[]),n||(this.buffer=[r.pop()||""]),r):(this.buffer.push(r[0]),[])}decodeText(e){if(null==e)return"";if("string"===typeof e)return e;if("undefined"!==typeof Buffer){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new $g(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if("undefined"!==typeof TextDecoder){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new $g(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new $g("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}hm.NEWLINE_CHARS=new Set(["\n","\r"]),hm.NEWLINE_REGEXP=/\r\n|[\n\r]/g;class dm{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let n=!1;return new dm((async function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const n of async function*(e,t){if(!e.body)throw t.abort(),new $g("Attempted to iterate over a response with no body");const n=new fm,r=new hm,s=gm(e.body);for await(const i of async function*(e){let t=new Uint8Array;for await(const n of e){if(null==n)continue;const e=n instanceof ArrayBuffer?new Uint8Array(n):"string"===typeof n?(new TextEncoder).encode(n):n;let r,s=new Uint8Array(t.length+e.length);for(s.set(t),s.set(e,t.length),t=s;-1!==(r=pm(t));)yield t.slice(0,r),t=t.slice(r)}t.length>0&&(yield t)}(s))for(const e of r.decode(i)){const t=n.decode(e);t&&(yield t)}for(const i of r.flush()){const e=n.decode(i);e&&(yield e)}}(e,t))if(!r)if(n.data.startsWith("[DONE]"))r=!0;else if(null===n.event){let e;try{e=JSON.parse(n.data)}catch(s){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),s}if(e&&e.error)throw new Jg(void 0,e.error,void 0,void 0);yield e}else{let e;try{e=JSON.parse(n.data)}catch(s){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),s}if("error"==n.event)throw new Jg(void 0,e.error,e.message,void 0);yield{event:n.event,data:e}}r=!0}catch(s){if(s instanceof Error&&"AbortError"===s.name)return;throw s}finally{r||t.abort()}}),t)}static fromReadableStream(e,t){let n=!1;return new dm((async function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const t of async function*(){const t=new hm,n=gm(e);for await(const e of n)for(const n of t.decode(e))yield n;for(const e of t.flush())yield e}())r||t&&(yield JSON.parse(t));r=!0}catch(s){if(s instanceof Error&&"AbortError"===s.name)return;throw s}finally{r||t.abort()}}),t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),r=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new dm((()=>r(e)),this.controller),new dm((()=>r(t)),this.controller)]}toReadableStream(){const e=this;let t;const n=new TextEncoder;return new Pg({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:r,done:s}=await t.next();if(s)return e.close();const i=n.encode(JSON.stringify(r)+"\n");e.enqueue(i)}catch(r){e.error(r)}},async cancel(){await(t.return?.())}})}}function pm(e){for(let t=0;t<e.length-2;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1}class fm{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e,t){const n=e.indexOf(t);if(-1!==n)return[e.substring(0,n),t,e.substring(n+t.length)];return[e,"",""]}(e,":");return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}function gm(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return e?.done&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const mm=e=>null!=e&&"object"===typeof e&&"string"===typeof e.url&&"function"===typeof e.blob,wm=e=>null!=e&&"object"===typeof e&&"string"===typeof e.name&&"number"===typeof e.lastModified&&ym(e),ym=e=>null!=e&&"object"===typeof e&&"number"===typeof e.size&&"string"===typeof e.type&&"function"===typeof e.text&&"function"===typeof e.slice&&"function"===typeof e.arrayBuffer,Bm=e=>wm(e)||mm(e)||jg(e);async function Em(e,t,n){if(e=await e,wm(e))return e;if(mm(e)){const r=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const s=ym(r)?[await r.arrayBuffer()]:[r];return new Mg(s,t,n)}const r=await async function(e){let t=[];if("string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(ym(e))t.push(await e.arrayBuffer());else{if(!vm(e))throw new Error(`Unexpected data type: ${typeof e}; constructor: ${e?.constructor?.name}; props: ${function(e){const t=Object.getOwnPropertyNames(e);return`[${t.map((e=>`"${e}"`)).join(", ")}]`}(e)}`);for await(const n of e)t.push(n)}return t}(e);if(t||(t=function(e){return bm(e.name)||bm(e.filename)||bm(e.path)?.split(/[\\/]/).pop()}(e)??"unknown_file"),!n?.type){const e=r[0]?.type;"string"===typeof e&&(n={...n,type:e})}return new Mg(r,t,n)}const bm=e=>"string"===typeof e?e:"undefined"!==typeof Buffer&&e instanceof Buffer?String(e):void 0,vm=e=>null!=e&&"object"===typeof e&&"function"===typeof e[Symbol.asyncIterator],Cm=e=>e&&"object"===typeof e&&e.body&&"MultipartBody"===e[Symbol.toStringTag],Tm=async e=>{const t=await _m(e.body);return Hg(t,e)},_m=async e=>{const t=new Ng;return await Promise.all(Object.entries(e||{}).map((e=>{let[n,r]=e;return Sm(t,n,r)}))),t},Sm=async(e,t,n)=>{if(void 0!==n){if(null==n)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if("string"===typeof n||"number"===typeof n||"boolean"===typeof n)e.append(t,String(n));else if(Bm(n)){const r=await Em(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map((n=>Sm(e,t+"[]",n))));else{if("object"!==typeof n)throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`);await Promise.all(Object.entries(n).map((n=>{let[r,s]=n;return Sm(e,`${t}[${r}]`,s)})))}}};var Im,xm=function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},km=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};async function Fm(e){const{response:t}=e;if(e.options.stream)return tw("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):dm.fromSSEResponse(t,e.controller);if(204===t.status)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type");if(n?.includes("application/json")||n?.includes("application/vnd.api+json")){const e=await t.json();return tw("response",t.status,t.url,t.headers,e),Um(e,t)}const r=await t.text();return tw("response",t.status,t.url,t.headers,r),r}function Um(e,t){return!e||"object"!==typeof e||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class Lm extends Promise{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fm;super((e=>{e(null)})),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new Lm(this.responsePromise,(async t=>Um(e(await this.parseResponse(t),t),t.response)))}asResponse(){return this.responsePromise.then((e=>e.response))}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class Qm{constructor(e){let{baseURL:t,maxRetries:n=2,timeout:r=6e5,httpAgent:s,fetch:i}=e;this.baseURL=t,this.maxRetries=Xm("maxRetries",n),this.timeout=Xm("timeout",r),this.httpAgent=s,this.fetch=i??Rg}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...jm(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${nw()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then((async n=>{const r=n&&ym(n?.body)?new DataView(await n.body.arrayBuffer()):n?.body instanceof DataView?n.body:n?.body instanceof ArrayBuffer?new DataView(n.body):n&&ArrayBuffer.isView(n?.body)?new DataView(n.body.buffer):n?.body;return{method:e,path:t,...n,body:r}})))}getAPIList(e,t,n){return this.requestAPIList(t,{method:"get",path:e,...n})}calculateContentLength(e){if("string"===typeof e){if("undefined"!==typeof Buffer)return Buffer.byteLength(e,"utf8").toString();if("undefined"!==typeof TextEncoder){return(new TextEncoder).encode(e).length.toString()}}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e){let{retryCount:t=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{method:n,path:r,query:s,headers:i={}}=e,A=ArrayBuffer.isView(e.body)||e.__binaryRequest&&"string"===typeof e.body?e.body:Cm(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,o=this.calculateContentLength(A),a=this.buildURL(r,s);"timeout"in e&&Xm("timeout",e.timeout);const l=e.timeout??this.timeout,c=e.httpAgent??this.httpAgent??Kg(a),u=l+1e3;"number"===typeof c?.options?.timeout&&u>(c.options.timeout??0)&&(c.options.timeout=u),this.idempotencyHeader&&"get"!==n&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);return{req:{method:n,...A&&{body:A},headers:this.buildHeaders({options:e,headers:i,contentLength:o,retryCount:t}),...c&&{agent:c},signal:e.signal??null},url:a,timeout:l}}buildHeaders(e){let{options:t,headers:n,contentLength:r,retryCount:s}=e;const i={};r&&(i["content-length"]=r);const A=this.defaultHeaders(t);return ew(i,A),ew(i,n),Cm(t.body)&&"node"!==Og&&delete i["content-type"],void 0===rw(A,"x-stainless-retry-count")&&void 0===rw(n,"x-stainless-retry-count")&&(i["x-stainless-retry-count"]=String(s)),this.validateHeaders(i,n),i}async prepareOptions(e){}async prepareRequest(e,t){let{url:n,options:r}=t}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map((e=>[...e]))):{...e}:{}}makeStatusError(e,t,n,r){return Jg.generate(e,t,n,r)}request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Lm(this.makeRequest(e,t))}async makeRequest(e,t){const n=await e,r=n.maxRetries??this.maxRetries;null==t&&(t=r),await this.prepareOptions(n);const{req:s,url:i,timeout:A}=this.buildRequest(n,{retryCount:r-t});if(await this.prepareRequest(s,{url:i,options:n}),tw("request",i,n,s.headers),n.signal?.aborted)throw new Zg;const o=new AbortController,a=await this.fetchWithTimeout(i,s,A,o).catch(qm);if(a instanceof Error){if(n.signal?.aborted)throw new Zg;if(t)return this.retryRequest(n,t);if("AbortError"===a.name)throw new tm;throw new em({cause:a})}const l=Rm(a.headers);if(!a.ok){if(t&&this.shouldRetry(a)){return tw(`response (error; ${`retrying, ${t} attempts remaining`})`,a.status,i,l),this.retryRequest(n,t,l)}const e=await a.text().catch((e=>qm(e).message)),r=Vm(e),s=r?void 0:e;tw(`response (error; ${t?"(error; no more retries left)":"(error; not retryable)"})`,a.status,i,l,s);throw this.makeStatusError(a.status,r,s,l)}return{response:a,options:n,controller:o}}requestAPIList(e,t){const n=this.makeRequest(t,null);return new Om(this,n,e)}buildURL(e,t){const n=Wm(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),r=this.defaultQuery();return Jm(r)||(t={...r,...t}),"object"===typeof t&&t&&!Array.isArray(t)&&(n.search=this.stringifyQuery(t)),n.toString()}stringifyQuery(e){return Object.entries(e).filter((e=>{let[t,n]=e;return"undefined"!==typeof n})).map((e=>{let[t,n]=e;if("string"===typeof n||"number"===typeof n||"boolean"===typeof n)return`${encodeURIComponent(t)}=${encodeURIComponent(n)}`;if(null===n)return`${encodeURIComponent(t)}=`;throw new $g(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)})).join("&")}async fetchWithTimeout(e,t,n,r){const{signal:s,...i}=t||{};s&&s.addEventListener("abort",(()=>r.abort()));const A=setTimeout((()=>r.abort()),n);return this.getRequestClient().fetch.call(void 0,e,{signal:r.signal,...i}).finally((()=>{clearTimeout(A)}))}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,n){let r;const s=n?.["retry-after-ms"];if(s){const e=parseFloat(s);Number.isNaN(e)||(r=e)}const i=n?.["retry-after"];if(i&&!r){const e=parseFloat(i);r=Number.isNaN(e)?Date.parse(i)-Date.now():1e3*e}if(!(r&&0<=r&&r<6e4)){const n=e.maxRetries??this.maxRetries;r=this.calculateDefaultRetryTimeoutMillis(t,n)}return await Ym(r),this.makeRequest(e,t-1)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Dg}`}}class Dm{constructor(e,t,n,r){Im.set(this,void 0),xm(this,Im,e,"f"),this.options=r,this.response=t,this.body=n}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageInfo()}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new $g("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const t={...this.options};if("params"in e&&"object"===typeof t.query)t.query={...t.query,...e.params};else if("url"in e){const n=[...Object.entries(t.query||{}),...e.url.searchParams.entries()];for(const[t,r]of n)e.url.searchParams.set(t,r);t.query=void 0,t.path=e.url.toString()}return await km(this,Im,"f").requestAPIList(this.constructor,t)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Im=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}class Om extends Lm{constructor(e,t,n){super(t,(async t=>new n(e,t.response,await Fm(t),t.options)))}async*[Symbol.asyncIterator](){const e=await(this);for await(const t of e)yield t}}const Rm=e=>new Proxy(Object.fromEntries(e.entries()),{get(e,t){const n=t.toString();return e[n.toLowerCase()]||e[n]}}),Nm={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Mm=e=>"object"===typeof e&&null!==e&&!Jm(e)&&Object.keys(e).every((e=>Zm(Nm,e))),Pm=()=>{if("undefined"!==typeof Deno&&null!=Deno.build)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Dg,"X-Stainless-OS":Km(Deno.build.os),"X-Stainless-Arch":Hm(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"===typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("undefined"!==typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Dg,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if("[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0))return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Dg,"X-Stainless-OS":Km(process.platform),"X-Stainless-Arch":Hm(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=function(){if("undefined"===typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e){return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}}return null}();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Dg,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Dg,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const Hm=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",Km=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let Gm;const jm=()=>Gm??(Gm=Pm()),Vm=e=>{try{return JSON.parse(e)}catch(t){return}},zm=new RegExp("^(?:[a-z]+:)?//","i"),Wm=e=>zm.test(e),Ym=e=>new Promise((t=>setTimeout(t,e))),Xm=(e,t)=>{if("number"!==typeof t||!Number.isInteger(t))throw new $g(`${e} must be an integer`);if(t<0)throw new $g(`${e} must be a positive integer`);return t},qm=e=>{if(e instanceof Error)return e;if("object"===typeof e&&null!==e)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},$m=e=>"undefined"!==typeof process?{NODE_ENV:"production",PUBLIC_URL:"/Audio-Copilot",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}?.[e]?.trim()??void 0:"undefined"!==typeof Deno?Deno.env?.get?.(e)?.trim():void 0;function Jm(e){if(!e)return!0;for(const t in e)return!1;return!0}function Zm(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ew(e,t){for(const n in t){if(!Zm(t,n))continue;const r=n.toLowerCase();if(!r)continue;const s=t[n];null===s?delete e[r]:void 0!==s&&(e[r]=s)}}function tw(e){if("undefined"!==typeof process&&"true"==={NODE_ENV:"production",PUBLIC_URL:"/Audio-Copilot",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}?.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.log(`OpenAI:DEBUG:${e}`,...n)}}const nw=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),rw=(e,t)=>{const n=t.toLowerCase();if((e=>"function"===typeof e?.get)(e)){const r=t[0]?.toUpperCase()+t.substring(1).replace(/([^\w])(\w)/g,((e,t,n)=>t+n.toUpperCase()));for(const s of[t,n,t.toUpperCase(),r]){const t=e.get(s);if(t)return t}}for(const[r,s]of Object.entries(e))if(r.toLowerCase()===n)return Array.isArray(s)?(s.length<=1||console.warn(`Received ${s.length} entries for the ${t} header, using the first entry.`),s[0]):s};function sw(e){return null!=e&&"object"===typeof e&&!Array.isArray(e)}var iw,Aw,ow,aw,lw,cw,uw,hw,dw,pw,fw,gw,mw,ww=function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},yw=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class Bw{constructor(){iw.add(this),this.controller=new AbortController,Aw.set(this,void 0),ow.set(this,(()=>{})),aw.set(this,(()=>{})),lw.set(this,void 0),cw.set(this,(()=>{})),uw.set(this,(()=>{})),hw.set(this,{}),dw.set(this,!1),pw.set(this,!1),fw.set(this,!1),gw.set(this,!1),ww(this,Aw,new Promise(((e,t)=>{ww(this,ow,e,"f"),ww(this,aw,t,"f")})),"f"),ww(this,lw,new Promise(((e,t)=>{ww(this,cw,e,"f"),ww(this,uw,t,"f")})),"f"),yw(this,Aw,"f").catch((()=>{})),yw(this,lw,"f").catch((()=>{}))}_run(e){setTimeout((()=>{e().then((()=>{this._emitFinal(),this._emit("end")}),yw(this,iw,"m",mw).bind(this))}),0)}_connected(){this.ended||(yw(this,ow,"f").call(this),this._emit("connect"))}get ended(){return yw(this,dw,"f")}get errored(){return yw(this,pw,"f")}get aborted(){return yw(this,fw,"f")}abort(){this.controller.abort()}on(e,t){return(yw(this,hw,"f")[e]||(yw(this,hw,"f")[e]=[])).push({listener:t}),this}off(e,t){const n=yw(this,hw,"f")[e];if(!n)return this;const r=n.findIndex((e=>e.listener===t));return r>=0&&n.splice(r,1),this}once(e,t){return(yw(this,hw,"f")[e]||(yw(this,hw,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise(((t,n)=>{ww(this,gw,!0,"f"),"error"!==e&&this.once("error",n),this.once(e,t)}))}async done(){ww(this,gw,!0,"f"),await yw(this,lw,"f")}_emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(yw(this,dw,"f"))return;"end"===e&&(ww(this,dw,!0,"f"),yw(this,cw,"f").call(this));const s=yw(this,hw,"f")[e];if(s&&(yw(this,hw,"f")[e]=s.filter((e=>!e.once)),s.forEach((e=>{let{listener:t}=e;return t(...n)}))),"abort"===e){const e=n[0];return yw(this,gw,"f")||s?.length||Promise.reject(e),yw(this,aw,"f").call(this,e),yw(this,uw,"f").call(this,e),void this._emit("end")}if("error"===e){const e=n[0];yw(this,gw,"f")||s?.length||Promise.reject(e),yw(this,aw,"f").call(this,e),yw(this,uw,"f").call(this,e),this._emit("end")}}_emitFinal(){}}Aw=new WeakMap,ow=new WeakMap,aw=new WeakMap,lw=new WeakMap,cw=new WeakMap,uw=new WeakMap,hw=new WeakMap,dw=new WeakMap,pw=new WeakMap,fw=new WeakMap,gw=new WeakMap,iw=new WeakSet,mw=function(e){if(ww(this,pw,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new Zg),e instanceof Zg)return ww(this,fw,!0,"f"),this._emit("abort",e);if(e instanceof $g)return this._emit("error",e);if(e instanceof Error){const t=new $g(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new $g(String(e)))};var Ew,bw,vw,Cw,Tw,_w,Sw,Iw,xw,kw,Fw,Uw,Lw,Qw,Dw,Ow,Rw,Nw,Mw,Pw,Hw,Kw,Gw=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},jw=function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n};class Vw extends Bw{constructor(){super(...arguments),Ew.add(this),bw.set(this,[]),vw.set(this,{}),Cw.set(this,{}),Tw.set(this,void 0),_w.set(this,void 0),Sw.set(this,void 0),Iw.set(this,void 0),xw.set(this,void 0),kw.set(this,void 0),Fw.set(this,void 0),Uw.set(this,void 0),Lw.set(this,void 0)}[(bw=new WeakMap,vw=new WeakMap,Cw=new WeakMap,Tw=new WeakMap,_w=new WeakMap,Sw=new WeakMap,Iw=new WeakMap,xw=new WeakMap,kw=new WeakMap,Fw=new WeakMap,Uw=new WeakMap,Lw=new WeakMap,Ew=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("event",(n=>{const r=t.shift();r?r.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const t=new Vw;return t._run((()=>t._fromReadableStream(e))),t}async _fromReadableStream(e,t){const n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),this._connected();const r=dm.fromReadableStream(e,this.controller);for await(const s of r)Gw(this,Ew,"m",Qw).call(this,s);if(r.controller.signal?.aborted)throw new Zg;return this._addRun(Gw(this,Ew,"m",Dw).call(this))}toReadableStream(){return new dm(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,n,r,s){const i=new Vw;return i._run((()=>i._runToolAssistantStream(e,t,n,r,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}}))),i}async _createToolAssistantStream(e,t,n,r,s){const i=s?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",(()=>this.controller.abort())));const A={...r,stream:!0},o=await e.submitToolOutputs(t,n,A,{...s,signal:this.controller.signal});this._connected();for await(const a of o)Gw(this,Ew,"m",Qw).call(this,a);if(o.controller.signal?.aborted)throw new Zg;return this._addRun(Gw(this,Ew,"m",Dw).call(this))}static createThreadAssistantStream(e,t,n){const r=new Vw;return r._run((()=>r._threadAssistantStream(e,t,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}}))),r}static createAssistantStream(e,t,n,r){const s=new Vw;return s._run((()=>s._runAssistantStream(e,t,n,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}}))),s}currentEvent(){return Gw(this,Fw,"f")}currentRun(){return Gw(this,Uw,"f")}currentMessageSnapshot(){return Gw(this,Tw,"f")}currentRunStepSnapshot(){return Gw(this,Lw,"f")}async finalRunSteps(){return await this.done(),Object.values(Gw(this,vw,"f"))}async finalMessages(){return await this.done(),Object.values(Gw(this,Cw,"f"))}async finalRun(){if(await this.done(),!Gw(this,_w,"f"))throw Error("Final run was not received.");return Gw(this,_w,"f")}async _createThreadAssistantStream(e,t,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort())));const s={...t,stream:!0},i=await e.createAndRun(s,{...n,signal:this.controller.signal});this._connected();for await(const A of i)Gw(this,Ew,"m",Qw).call(this,A);if(i.controller.signal?.aborted)throw new Zg;return this._addRun(Gw(this,Ew,"m",Dw).call(this))}async _createAssistantStream(e,t,n,r){const s=r?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",(()=>this.controller.abort())));const i={...n,stream:!0},A=await e.create(t,i,{...r,signal:this.controller.signal});this._connected();for await(const o of A)Gw(this,Ew,"m",Qw).call(this,o);if(A.controller.signal?.aborted)throw new Zg;return this._addRun(Gw(this,Ew,"m",Dw).call(this))}static accumulateDelta(e,t){for(const[n,r]of Object.entries(t)){if(!e.hasOwnProperty(n)){e[n]=r;continue}let t=e[n];if(null!==t&&void 0!==t)if("index"!==n&&"type"!==n){if("string"===typeof t&&"string"===typeof r)t+=r;else if("number"===typeof t&&"number"===typeof r)t+=r;else{if(!sw(t)||!sw(r)){if(Array.isArray(t)&&Array.isArray(r)){if(t.every((e=>"string"===typeof e||"number"===typeof e))){t.push(...r);continue}for(const e of r){if(!sw(e))throw new Error(`Expected array delta entry to be an object but got: ${e}`);const n=e.index;if(null==n)throw console.error(e),new Error("Expected array delta entry to have an `index` property");if("number"!==typeof n)throw new Error(`Expected array delta entry \`index\` property to be a number but got ${n}`);const r=t[n];null==r?t.push(e):t[n]=this.accumulateDelta(r,e)}continue}throw Error(`Unhandled record type: ${n}, deltaValue: ${r}, accValue: ${t}`)}t=this.accumulateDelta(t,r)}e[n]=t}else e[n]=r;else e[n]=r}return e}_addRun(e){return e}async _threadAssistantStream(e,t,n){return await this._createThreadAssistantStream(t,e,n)}async _runAssistantStream(e,t,n,r){return await this._createAssistantStream(t,e,n,r)}async _runToolAssistantStream(e,t,n,r,s){return await this._createToolAssistantStream(n,e,t,r,s)}}Qw=function(e){if(!this.ended)switch(jw(this,Fw,e,"f"),Gw(this,Ew,"m",Nw).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":Gw(this,Ew,"m",Kw).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Gw(this,Ew,"m",Rw).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":Gw(this,Ew,"m",Ow).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Dw=function(){if(this.ended)throw new $g("stream has ended, this shouldn't happen");if(!Gw(this,_w,"f"))throw Error("Final run has not been received");return Gw(this,_w,"f")},Ow=function(e){const[t,n]=Gw(this,Ew,"m",Pw).call(this,e,Gw(this,Tw,"f"));jw(this,Tw,t,"f"),Gw(this,Cw,"f")[t.id]=t;for(const r of n){const e=t.content[r.index];"text"==e?.type&&this._emit("textCreated",e.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const n of e.data.delta.content){if("text"==n.type&&n.text){let e=n.text,r=t.content[n.index];if(!r||"text"!=r.type)throw Error("The snapshot associated with this text delta is not text or missing");this._emit("textDelta",e,r.text)}if(n.index!=Gw(this,Sw,"f")){if(Gw(this,Iw,"f"))switch(Gw(this,Iw,"f").type){case"text":this._emit("textDone",Gw(this,Iw,"f").text,Gw(this,Tw,"f"));break;case"image_file":this._emit("imageFileDone",Gw(this,Iw,"f").image_file,Gw(this,Tw,"f"))}jw(this,Sw,n.index,"f")}jw(this,Iw,t.content[n.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(void 0!==Gw(this,Sw,"f")){const t=e.data.content[Gw(this,Sw,"f")];if(t)switch(t.type){case"image_file":this._emit("imageFileDone",t.image_file,Gw(this,Tw,"f"));break;case"text":this._emit("textDone",t.text,Gw(this,Tw,"f"))}}Gw(this,Tw,"f")&&this._emit("messageDone",e.data),jw(this,Tw,void 0,"f")}},Rw=function(e){const t=Gw(this,Ew,"m",Mw).call(this,e);switch(jw(this,Lw,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const n=e.data.delta;if(n.step_details&&"tool_calls"==n.step_details.type&&n.step_details.tool_calls&&"tool_calls"==t.step_details.type)for(const e of n.step_details.tool_calls)e.index==Gw(this,xw,"f")?this._emit("toolCallDelta",e,t.step_details.tool_calls[e.index]):(Gw(this,kw,"f")&&this._emit("toolCallDone",Gw(this,kw,"f")),jw(this,xw,e.index,"f"),jw(this,kw,t.step_details.tool_calls[e.index],"f"),Gw(this,kw,"f")&&this._emit("toolCallCreated",Gw(this,kw,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":jw(this,Lw,void 0,"f");"tool_calls"==e.data.step_details.type&&Gw(this,kw,"f")&&(this._emit("toolCallDone",Gw(this,kw,"f")),jw(this,kw,void 0,"f")),this._emit("runStepDone",e.data,t)}},Nw=function(e){Gw(this,bw,"f").push(e),this._emit("event",e)},Mw=function(e){switch(e.event){case"thread.run.step.created":return Gw(this,vw,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=Gw(this,vw,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){const r=Vw.accumulateDelta(t,n.delta);Gw(this,vw,"f")[e.data.id]=r}return Gw(this,vw,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":Gw(this,vw,"f")[e.data.id]=e.data}if(Gw(this,vw,"f")[e.data.id])return Gw(this,vw,"f")[e.data.id];throw new Error("No snapshot available")},Pw=function(e,t){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const e of r.delta.content)if(e.index in t.content){let n=t.content[e.index];t.content[e.index]=Gw(this,Ew,"m",Hw).call(this,e,n)}else t.content[e.index]=e,n.push(e);return[t,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Hw=function(e,t){return Vw.accumulateDelta(t,e)},Kw=function(e){switch(jw(this,Uw,e.data,"f"),e.event){case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.cancelling":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":jw(this,_w,e.data,"f"),Gw(this,kw,"f")&&(this._emit("toolCallDone",Gw(this,kw,"f")),jw(this,kw,void 0,"f"))}};const zw="RFC3986",Ww={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},Yw=(Object.prototype.hasOwnProperty,Array.isArray),Xw=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})();const qw=1024;function $w(e,t){if(Yw(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const Jw=Object.prototype.hasOwnProperty,Zw={brackets:e=>String(e)+"[]",comma:"comma",indices:(e,t)=>String(e)+"["+t+"]",repeat:e=>String(e)},ey=Array.isArray,ty=Array.prototype.push,ny=function(e,t){ty.apply(e,ey(t)?t:[t])},ry=Date.prototype.toISOString,sy={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:(e,t,n,r,s)=>{if(0===e.length)return e;let i=e;if("symbol"===typeof e?i=Symbol.prototype.toString.call(e):"string"!==typeof e&&(i=String(e)),"iso-8859-1"===n)return escape(i).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));let A="";for(let o=0;o<i.length;o+=qw){const e=i.length>=qw?i.slice(o,o+qw):i,t=[];for(let n=0;n<e.length;++n){let r=e.charCodeAt(n);45===r||46===r||95===r||126===r||r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122||"RFC1738"===s&&(40===r||41===r)?t[t.length]=e.charAt(n):r<128?t[t.length]=Xw[r]:r<2048?t[t.length]=Xw[192|r>>6]+Xw[128|63&r]:r<55296||r>=57344?t[t.length]=Xw[224|r>>12]+Xw[128|r>>6&63]+Xw[128|63&r]:(n+=1,r=65536+((1023&r)<<10|1023&e.charCodeAt(n)),t[t.length]=Xw[240|r>>18]+Xw[128|r>>12&63]+Xw[128|r>>6&63]+Xw[128|63&r])}A+=t.join("")}return A},encodeValuesOnly:!1,format:zw,formatter:Ww[zw],indices:!1,serializeDate:e=>ry.call(e),skipNulls:!1,strictNullHandling:!1};const iy={};function Ay(e,t,n,r,s,i,A,o,a,l,c,u,h,d,p,f,g,m){let w=e,y=m,B=0,E=!1;for(;void 0!==(y=y.get(iy))&&!E;){const t=y.get(e);if(B+=1,"undefined"!==typeof t){if(t===B)throw new RangeError("Cyclic object value");E=!0}"undefined"===typeof y.get(iy)&&(B=0)}if("function"===typeof l?w=l(t,w):w instanceof Date?w=h?.(w):"comma"===n&&ey(w)&&(w=$w(w,(function(e){return e instanceof Date?h?.(e):e}))),null===w){if(i)return a&&!f?a(t,sy.encoder,g,"key",d):t;w=""}if("string"===typeof(b=w)||"number"===typeof b||"boolean"===typeof b||"symbol"===typeof b||"bigint"===typeof b||function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}(w)){if(a){const e=f?t:a(t,sy.encoder,g,"key",d);return[p?.(e)+"="+p?.(a(w,sy.encoder,g,"value",d))]}return[p?.(t)+"="+p?.(String(w))]}var b;const v=[];if("undefined"===typeof w)return v;let C;if("comma"===n&&ey(w))f&&a&&(w=$w(w,a)),C=[{value:w.length>0?w.join(",")||null:void 0}];else if(ey(l))C=l;else{const e=Object.keys(w);C=c?e.sort(c):e}const T=o?String(t).replace(/\./g,"%2E"):String(t),_=r&&ey(w)&&1===w.length?T+"[]":T;if(s&&ey(w)&&0===w.length)return _+"[]";for(let S=0;S<C.length;++S){const t=C[S],y="object"===typeof t&&"undefined"!==typeof t.value?t.value:w[t];if(A&&null===y)continue;const E=u&&o?t.replace(/\./g,"%2E"):t,b=ey(w)?"function"===typeof n?n(_,E):_:_+(u?"."+E:"["+E+"]");m.set(e,B);const T=new WeakMap;T.set(iy,m),ny(v,Ay(y,b,n,r,s,i,A,o,"comma"===n&&f&&ey(w)?null:a,l,c,u,h,d,p,f,g,T))}return v}function oy(e){let t=e;const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sy;if("undefined"!==typeof e.allowEmptyArrays&&"boolean"!==typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if("undefined"!==typeof e.encodeDotInKeys&&"boolean"!==typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&"undefined"!==typeof e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");const t=e.charset||sy.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=zw;if("undefined"!==typeof e.format){if(!Jw.call(Ww,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=Ww[n];let s,i=sy.filter;if(("function"===typeof e.filter||ey(e.filter))&&(i=e.filter),s=e.arrayFormat&&e.arrayFormat in Zw?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":sy.arrayFormat,"commaRoundTrip"in e&&"boolean"!==typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const A="undefined"===typeof e.allowDots?!0===!!e.encodeDotInKeys||sy.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:sy.addQueryPrefix,allowDots:A,allowEmptyArrays:"boolean"===typeof e.allowEmptyArrays?!!e.allowEmptyArrays:sy.allowEmptyArrays,arrayFormat:s,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:sy.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:"undefined"===typeof e.delimiter?sy.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:sy.encode,encodeDotInKeys:"boolean"===typeof e.encodeDotInKeys?e.encodeDotInKeys:sy.encodeDotInKeys,encoder:"function"===typeof e.encoder?e.encoder:sy.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:sy.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:sy.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:sy.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:sy.strictNullHandling}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});let r,s;"function"===typeof n.filter?(s=n.filter,t=s("",t)):ey(n.filter)&&(s=n.filter,r=s);const i=[];if("object"!==typeof t||null===t)return"";const A=Zw[n.arrayFormat],o="comma"===A&&n.commaRoundTrip;r||(r=Object.keys(t)),n.sort&&r.sort(n.sort);const a=new WeakMap;for(let u=0;u<r.length;++u){const e=r[u];n.skipNulls&&null===t[e]||ny(i,Ay(t[e],e,A,o,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,a))}const l=i.join(n.delimiter);let c=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?c+="utf8=%26%2310003%3B&":c+="utf8=%E2%9C%93&"),l.length>0?c+l:""}class ay{constructor(e){this._client=e}}class ly extends ay{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}}class cy extends ay{create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}}class uy extends ay{constructor(){super(...arguments),this.completions=new cy(this._client)}}uy.Completions=cy;class hy extends ay{create(e,t){return this._client.post("/embeddings",{body:e,...t})}}class dy extends Dm{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class py extends Dm{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){const e=this.getPaginatedItems();if(!e.length)return null;const t=e[e.length-1]?.id;return t?{params:{after:t}}:null}}class fy extends ay{create(e,t){return this._client.post("/files",Tm({body:e,...t}))}retrieve(e,t){return this._client.get(`/files/${e}`,t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Mm(e)?this.list({},e):this._client.getAPIList("/files",gy,{query:e,...t})}del(e,t){return this._client.delete(`/files/${e}`,t)}content(e,t){return this._client.get(`/files/${e}/content`,{...t,__binaryResponse:!0})}retrieveContent(e,t){return this._client.get(`/files/${e}/content`,{...t,headers:{Accept:"application/json",...t?.headers}})}async waitForProcessing(e){let{pollInterval:t=5e3,maxWait:n=18e5}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=new Set(["processed","error","deleted"]),s=Date.now();let i=await this.retrieve(e);for(;!i.status||!r.has(i.status);)if(await Ym(t),i=await this.retrieve(e),Date.now()-s>n)throw new tm({message:`Giving up on waiting for file ${e} to finish processing after ${n} milliseconds.`});return i}}class gy extends py{}fy.FileObjectsPage=gy;class my extends ay{createVariation(e,t){return this._client.post("/images/variations",Tm({body:e,...t}))}edit(e,t){return this._client.post("/images/edits",Tm({body:e,...t}))}generate(e,t){return this._client.post("/images/generations",{body:e,...t})}}class wy extends ay{create(e,t){return this._client.post("/audio/speech",{body:e,...t,__binaryResponse:!0})}}class yy extends ay{create(e,t){return this._client.post("/audio/transcriptions",Tm({body:e,...t}))}}class By extends ay{create(e,t){return this._client.post("/audio/translations",Tm({body:e,...t}))}}class Ey extends ay{constructor(){super(...arguments),this.transcriptions=new yy(this._client),this.translations=new By(this._client),this.speech=new wy(this._client)}}Ey.Transcriptions=yy,Ey.Translations=By,Ey.Speech=wy;class by extends ay{create(e,t){return this._client.post("/moderations",{body:e,...t})}}class vy extends ay{retrieve(e,t){return this._client.get(`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",Cy,e)}del(e,t){return this._client.delete(`/models/${e}`,t)}}class Cy extends dy{}vy.ModelsPage=Cy;class Ty extends ay{list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Mm(t)?this.list(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,_y,{query:t,...n})}}class _y extends py{}Ty.FineTuningJobCheckpointsPage=_y;class Sy extends ay{constructor(){super(...arguments),this.checkpoints=new Ty(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(`/fine_tuning/jobs/${e}`,t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Mm(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",Iy,{query:e,...t})}cancel(e,t){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Mm(t)?this.listEvents(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,xy,{query:t,...n})}}class Iy extends py{}class xy extends py{}Sy.FineTuningJobsPage=Iy,Sy.FineTuningJobEventsPage=xy,Sy.Checkpoints=Ty,Sy.FineTuningJobCheckpointsPage=_y;class ky extends ay{constructor(){super(...arguments),this.jobs=new Sy(this._client)}}ky.Jobs=Sy,ky.FineTuningJobsPage=Iy,ky.FineTuningJobEventsPage=xy;class Fy extends ay{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,n){return this._client.post(`/assistants/${e}`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Mm(e)?this.list({},e):this._client.getAPIList("/assistants",Uy,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}del(e,t){return this._client.delete(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}}class Uy extends py{}function Ly(e){return"function"===typeof e.parse}Fy.AssistantsPage=Uy;const Qy=e=>"assistant"===e?.role,Dy=e=>"function"===e?.role,Oy=e=>"tool"===e?.role;function Ry(e){return"auto-parseable-response-format"===e?.$brand}function Ny(e){return"auto-parseable-tool"===e?.$brand}function My(e,t){const n=e.choices.map((e=>{if("length"===e.finish_reason)throw new cm;if("content_filter"===e.finish_reason)throw new um;return{...e,message:{...e.message,tool_calls:e.message.tool_calls?.map((e=>function(e,t){const n=e.tools?.find((e=>e.function?.name===t.function.name));return{...t,function:{...t.function,parsed_arguments:Ny(n)?n.$parseRaw(t.function.arguments):n?.function.strict?JSON.parse(t.function.arguments):null}}}(t,e)))??[],parsed:e.message.content&&!e.message.refusal?Py(t,e.message.content):null}}}));return{...e,choices:n}}function Py(e,t){if("json_schema"!==e.response_format?.type)return null;if("json_schema"===e.response_format?.type){if("$parseRaw"in e.response_format){return e.response_format.$parseRaw(t)}return JSON.parse(t)}return null}function Hy(e,t){if(!e)return!1;const n=e.tools?.find((e=>e.function?.name===t.function.name));return Ny(n)||n?.function.strict||!1}function Ky(e){return!!Ry(e.response_format)||(e.tools?.some((e=>Ny(e)||"function"===e.type&&!0===e.function.strict))??!1)}var Gy,jy,Vy,zy,Wy,Yy,Xy,qy,$y=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};const Jy=10;class Zy extends Bw{constructor(){super(...arguments),Gy.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const t=e.choices[0]?.message;return t&&this._addMessage(t),e}_addMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("content"in e||(e.content=null),this.messages.push(e),t)if(this._emit("message",e),(Dy(e)||Oy(e))&&e.content)this._emit("functionCallResult",e.content);else if(Qy(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(Qy(e)&&e.tool_calls)for(const n of e.tool_calls)"function"===n.type&&this._emit("functionCall",n.function)}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new $g("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),$y(this,Gy,"m",jy).call(this)}async finalMessage(){return await this.done(),$y(this,Gy,"m",Vy).call(this)}async finalFunctionCall(){return await this.done(),$y(this,Gy,"m",zy).call(this)}async finalFunctionCallResult(){return await this.done(),$y(this,Gy,"m",Wy).call(this)}async totalUsage(){return await this.done(),$y(this,Gy,"m",Yy).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=$y(this,Gy,"m",Vy).call(this);t&&this._emit("finalMessage",t);const n=$y(this,Gy,"m",jy).call(this);n&&this._emit("finalContent",n);const r=$y(this,Gy,"m",zy).call(this);r&&this._emit("finalFunctionCall",r);const s=$y(this,Gy,"m",Wy).call(this);null!=s&&this._emit("finalFunctionCallResult",s),this._chatCompletions.some((e=>e.usage))&&this._emit("totalUsage",$y(this,Gy,"m",Yy).call(this))}async _createChatCompletion(e,t,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),$y(this,Gy,"m",Xy).call(this,t);const s=await e.chat.completions.create({...t,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(My(s,t))}async _runChatCompletion(e,t,n){for(const r of t.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,t,n)}async _runFunctions(e,t,n){const r="function",{function_call:s="auto",stream:i,...A}=t,o="string"!==typeof s&&s?.name,{maxChatCompletions:a=Jy}=n||{},l={};for(const h of t.functions)l[h.name||h.function.name]=h;const c=t.functions.map((e=>({name:e.name||e.function.name,parameters:e.parameters,description:e.description})));for(const h of t.messages)this._addMessage(h,!1);for(let h=0;h<a;++h){const t=await this._createChatCompletion(e,{...A,function_call:s,functions:c,messages:[...this.messages]},n),i=t.choices[0]?.message;if(!i)throw new $g("missing message in ChatCompletion response");if(!i.function_call)return;const{name:a,arguments:h}=i.function_call,d=l[a];if(!d){const e=`Invalid function_call: ${JSON.stringify(a)}. Available options are: ${c.map((e=>JSON.stringify(e.name))).join(", ")}. Please try again`;this._addMessage({role:r,name:a,content:e});continue}if(o&&o!==a){const e=`Invalid function_call: ${JSON.stringify(a)}. ${JSON.stringify(o)} requested. Please try again`;this._addMessage({role:r,name:a,content:e});continue}let p;try{p=Ly(d)?await d.parse(h):h}catch(u){this._addMessage({role:r,name:a,content:u instanceof Error?u.message:String(u)});continue}const f=await d.function(p,this),g=$y(this,Gy,"m",qy).call(this,f);if(this._addMessage({role:r,name:a,content:g}),o)return}}async _runTools(e,t,n){const r="tool",{tool_choice:s="auto",stream:i,...A}=t,o="string"!==typeof s&&s?.function?.name,{maxChatCompletions:a=Jy}=n||{},l=t.tools.map((e=>{if(Ny(e)){if(!e.$callback)throw new $g("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:e.$callback,name:e.function.name,description:e.function.description||"",parameters:e.function.parameters,parse:e.$parseRaw,strict:!0}}}return e})),c={};for(const d of l)"function"===d.type&&(c[d.function.name||d.function.function.name]=d.function);const u="tools"in t?l.map((e=>"function"===e.type?{type:"function",function:{name:e.function.name||e.function.function.name,parameters:e.function.parameters,description:e.function.description,strict:e.function.strict}}:e)):void 0;for(const d of t.messages)this._addMessage(d,!1);for(let d=0;d<a;++d){const t=await this._createChatCompletion(e,{...A,tool_choice:s,tools:u,messages:[...this.messages]},n),i=t.choices[0]?.message;if(!i)throw new $g("missing message in ChatCompletion response");if(!i.tool_calls?.length)return;for(const e of i.tool_calls){if("function"!==e.type)continue;const t=e.id,{name:n,arguments:s}=e.function,i=c[n];if(!i){const e=`Invalid tool_call: ${JSON.stringify(n)}. Available options are: ${Object.keys(c).map((e=>JSON.stringify(e))).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:t,content:e});continue}if(o&&o!==n){const e=`Invalid tool_call: ${JSON.stringify(n)}. ${JSON.stringify(o)} requested. Please try again`;this._addMessage({role:r,tool_call_id:t,content:e});continue}let A;try{A=Ly(i)?await i.parse(s):s}catch(h){const e=h instanceof Error?h.message:String(h);this._addMessage({role:r,tool_call_id:t,content:e});continue}const a=await i.function(A,this),l=$y(this,Gy,"m",qy).call(this,a);if(this._addMessage({role:r,tool_call_id:t,content:l}),o)return}}}}Gy=new WeakSet,jy=function(){return $y(this,Gy,"m",Vy).call(this).content??null},Vy=function(){let e=this.messages.length;for(;e-- >0;){const t=this.messages[e];if(Qy(t)){const{function_call:e,...n}=t,r={...n,content:t.content??null,refusal:t.refusal??null};return e&&(r.function_call=e),r}}throw new $g("stream ended without producing a ChatCompletionMessage with role=assistant")},zy=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(Qy(t)&&t?.function_call)return t.function_call;if(Qy(t)&&t?.tool_calls?.length)return t.tool_calls.at(-1)?.function}},Wy=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(Dy(t)&&null!=t.content)return t.content;if(Oy(t)&&null!=t.content&&"string"===typeof t.content&&this.messages.some((e=>"assistant"===e.role&&e.tool_calls?.some((e=>"function"===e.type&&e.id===t.tool_call_id)))))return t.content}},Yy=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},Xy=function(e){if(null!=e.n&&e.n>1)throw new $g("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},qy=function(e){return"string"===typeof e?e:void 0===e?"undefined":JSON.stringify(e)};class eB extends Zy{static runFunctions(e,t,n){const r=new eB,s={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run((()=>r._runFunctions(e,t,s))),r}static runTools(e,t,n){const r=new eB,s={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run((()=>r._runTools(e,t,s))),r}_addMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];super._addMessage(e,t),Qy(e)&&e.content&&this._emit("content",e.content)}}const tB={STR:1,NUM:2,ARR:4,OBJ:8,NULL:16,BOOL:32,NAN:64,INFINITY:128,MINUS_INFINITY:256,INF:384,SPECIAL:496,ATOM:499,COLLECTION:12,ALL:511};class nB extends Error{}class rB extends Error{}const sB=(e,t)=>{const n=e.length;let r=0;const s=e=>{throw new nB(`${e} at position ${r}`)},i=e=>{throw new rB(`${e} at position ${r}`)},A=()=>(u(),r>=n&&s("Unexpected end of input"),'"'===e[r]?o():"{"===e[r]?a():"["===e[r]?l():"null"===e.substring(r,r+4)||tB.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):"true"===e.substring(r,r+4)||tB.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):"false"===e.substring(r,r+5)||tB.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):"Infinity"===e.substring(r,r+8)||tB.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):"-Infinity"===e.substring(r,r+9)||tB.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):"NaN"===e.substring(r,r+3)||tB.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):c()),o=()=>{const A=r;let o=!1;for(r++;r<n&&('"'!==e[r]||o&&"\\"===e[r-1]);)o="\\"===e[r]&&!o,r++;if('"'==e.charAt(r))try{return JSON.parse(e.substring(A,++r-Number(o)))}catch(a){i(String(a))}else if(tB.STR&t)try{return JSON.parse(e.substring(A,r-Number(o))+'"')}catch(a){return JSON.parse(e.substring(A,e.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},a=()=>{r++,u();const i={};try{for(;"}"!==e[r];){if(u(),r>=n&&tB.OBJ&t)return i;const s=o();u(),r++;try{const e=A();Object.defineProperty(i,s,{value:e,writable:!0,enumerable:!0,configurable:!0})}catch(a){if(tB.OBJ&t)return i;throw a}u(),","===e[r]&&r++}}catch(a){if(tB.OBJ&t)return i;s("Expected '}' at end of object")}return r++,i},l=()=>{r++;const n=[];try{for(;"]"!==e[r];)n.push(A()),u(),","===e[r]&&r++}catch(i){if(tB.ARR&t)return n;s("Expected ']' at end of array")}return r++,n},c=()=>{if(0===r){"-"===e&&tB.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e)}catch(o){if(tB.NUM&t)try{return"."===e[e.length-1]?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch(o){}i(String(o))}}const A=r;for("-"===e[r]&&r++;e[r]&&!",]}".includes(e[r]);)r++;r!=n||tB.NUM&t||s("Unterminated number literal");try{return JSON.parse(e.substring(A,r))}catch(o){"-"===e.substring(A,r)&&tB.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e.substring(A,e.lastIndexOf("e")))}catch(o){i(String(o))}}},u=()=>{for(;r<n&&" \n\r\t".includes(e[r]);)r++};return A()},iB=e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tB.ALL;if("string"!==typeof e)throw new TypeError("expecting str, got "+typeof e);if(!e.trim())throw new Error(`${e} is empty`);return sB(e.trim(),t)}(e,tB.ALL^tB.NUM);var AB,oB,aB,lB,cB,uB,hB,dB,pB,fB,gB,mB,wB=function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},yB=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class BB extends Zy{constructor(e){super(),AB.add(this),oB.set(this,void 0),aB.set(this,void 0),lB.set(this,void 0),wB(this,oB,e,"f"),wB(this,aB,[],"f")}get currentChatCompletionSnapshot(){return yB(this,lB,"f")}static fromReadableStream(e){const t=new BB(null);return t._run((()=>t._fromReadableStream(e))),t}static createChatCompletion(e,t,n){const r=new BB(t);return r._run((()=>r._runChatCompletion(e,{...t,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}}))),r}async _createChatCompletion(e,t,n){super._createChatCompletion;const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),yB(this,AB,"m",cB).call(this);const s=await e.chat.completions.create({...t,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const i of s)yB(this,AB,"m",hB).call(this,i);if(s.controller.signal?.aborted)throw new Zg;return this._addChatCompletion(yB(this,AB,"m",fB).call(this))}async _fromReadableStream(e,t){const n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),yB(this,AB,"m",cB).call(this),this._connected();const r=dm.fromReadableStream(e,this.controller);let s;for await(const i of r)s&&s!==i.id&&this._addChatCompletion(yB(this,AB,"m",fB).call(this)),yB(this,AB,"m",hB).call(this,i),s=i.id;if(r.controller.signal?.aborted)throw new Zg;return this._addChatCompletion(yB(this,AB,"m",fB).call(this))}[(oB=new WeakMap,aB=new WeakMap,lB=new WeakMap,AB=new WeakSet,cB=function(){this.ended||wB(this,lB,void 0,"f")},uB=function(e){let t=yB(this,aB,"f")[e.index];return t||(t={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},yB(this,aB,"f")[e.index]=t,t)},hB=function(e){if(this.ended)return;const t=yB(this,AB,"m",mB).call(this,e);this._emit("chunk",e,t);for(const n of e.choices){const e=t.choices[n.index];null!=n.delta.content&&"assistant"===e.message?.role&&e.message?.content&&(this._emit("content",n.delta.content,e.message.content),this._emit("content.delta",{delta:n.delta.content,snapshot:e.message.content,parsed:e.message.parsed})),null!=n.delta.refusal&&"assistant"===e.message?.role&&e.message?.refusal&&this._emit("refusal.delta",{delta:n.delta.refusal,snapshot:e.message.refusal}),null!=n.logprobs?.content&&"assistant"===e.message?.role&&this._emit("logprobs.content.delta",{content:n.logprobs?.content,snapshot:e.logprobs?.content??[]}),null!=n.logprobs?.refusal&&"assistant"===e.message?.role&&this._emit("logprobs.refusal.delta",{refusal:n.logprobs?.refusal,snapshot:e.logprobs?.refusal??[]});const r=yB(this,AB,"m",uB).call(this,e);e.finish_reason&&(yB(this,AB,"m",pB).call(this,e),null!=r.current_tool_call_index&&yB(this,AB,"m",dB).call(this,e,r.current_tool_call_index));for(const t of n.delta.tool_calls??[])r.current_tool_call_index!==t.index&&(yB(this,AB,"m",pB).call(this,e),null!=r.current_tool_call_index&&yB(this,AB,"m",dB).call(this,e,r.current_tool_call_index)),r.current_tool_call_index=t.index;for(const t of n.delta.tool_calls??[]){const n=e.message.tool_calls?.[t.index];n?.type&&("function"===n?.type&&this._emit("tool_calls.function.arguments.delta",{name:n.function?.name,index:t.index,arguments:n.function.arguments,parsed_arguments:n.function.parsed_arguments,arguments_delta:t.function?.arguments??""}))}}},dB=function(e,t){if(yB(this,AB,"m",uB).call(this,e).done_tool_calls.has(t))return;const n=e.message.tool_calls?.[t];if(!n)throw new Error("no tool call snapshot");if(!n.type)throw new Error("tool call snapshot missing `type`");if("function"===n.type){const e=yB(this,oB,"f")?.tools?.find((e=>"function"===e.type&&e.function.name===n.function.name));this._emit("tool_calls.function.arguments.done",{name:n.function.name,index:t,arguments:n.function.arguments,parsed_arguments:Ny(e)?e.$parseRaw(n.function.arguments):e?.function.strict?JSON.parse(n.function.arguments):null})}else n.type},pB=function(e){const t=yB(this,AB,"m",uB).call(this,e);if(e.message.content&&!t.content_done){t.content_done=!0;const n=yB(this,AB,"m",gB).call(this);this._emit("content.done",{content:e.message.content,parsed:n?n.$parseRaw(e.message.content):null})}e.message.refusal&&!t.refusal_done&&(t.refusal_done=!0,this._emit("refusal.done",{refusal:e.message.refusal})),e.logprobs?.content&&!t.logprobs_content_done&&(t.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:e.logprobs.content})),e.logprobs?.refusal&&!t.logprobs_refusal_done&&(t.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:e.logprobs.refusal}))},fB=function(){if(this.ended)throw new $g("stream has ended, this shouldn't happen");const e=yB(this,lB,"f");if(!e)throw new $g("request ended without sending any chunks");return wB(this,lB,void 0,"f"),wB(this,aB,[],"f"),function(e,t){const{id:n,choices:r,created:s,model:i,system_fingerprint:A,...o}=e,a={...o,id:n,choices:r.map((t=>{let{message:n,finish_reason:r,index:s,logprobs:i,...A}=t;if(!r)throw new $g(`missing finish_reason for choice ${s}`);const{content:o=null,function_call:a,tool_calls:l,...c}=n,u=n.role;if(!u)throw new $g(`missing role for choice ${s}`);if(a){const{arguments:e,name:t}=a;if(null==e)throw new $g(`missing function_call.arguments for choice ${s}`);if(!t)throw new $g(`missing function_call.name for choice ${s}`);return{...A,message:{content:o,function_call:{arguments:e,name:t},role:u,refusal:n.refusal??null},finish_reason:r,index:s,logprobs:i}}return l?{...A,index:s,finish_reason:r,logprobs:i,message:{...c,role:u,content:o,refusal:n.refusal??null,tool_calls:l.map(((t,n)=>{const{function:r,type:i,id:A,...o}=t,{arguments:a,name:l,...c}=r||{};if(null==A)throw new $g(`missing choices[${s}].tool_calls[${n}].id\n${EB(e)}`);if(null==i)throw new $g(`missing choices[${s}].tool_calls[${n}].type\n${EB(e)}`);if(null==l)throw new $g(`missing choices[${s}].tool_calls[${n}].function.name\n${EB(e)}`);if(null==a)throw new $g(`missing choices[${s}].tool_calls[${n}].function.arguments\n${EB(e)}`);return{...o,id:A,type:i,function:{...c,name:l,arguments:a}}}))}}:{...A,message:{...c,content:o,role:u,refusal:n.refusal??null},finish_reason:r,index:s,logprobs:i}})),created:s,model:i,object:"chat.completion",...A?{system_fingerprint:A}:{}};return function(e,t){return t&&Ky(t)?My(e,t):{...e,choices:e.choices.map((e=>({...e,message:{...e.message,parsed:null,tool_calls:e.message.tool_calls??[]}})))}}(a,t)}(e,yB(this,oB,"f"))},gB=function(){const e=yB(this,oB,"f")?.response_format;return Ry(e)?e:null},mB=function(e){var t,n,r,s;let i=yB(this,lB,"f");const{choices:A,...o}=e;i?Object.assign(i,o):i=wB(this,lB,{...o,choices:[]},"f");for(const{delta:a,finish_reason:l,index:c,logprobs:u=null,...h}of e.choices){let e=i.choices[c];if(e||(e=i.choices[c]={finish_reason:l,index:c,message:{},logprobs:u,...h}),u)if(e.logprobs){const{content:r,refusal:s,...i}=u;Object.assign(e.logprobs,i),r&&((t=e.logprobs).content??(t.content=[]),e.logprobs.content.push(...r)),s&&((n=e.logprobs).refusal??(n.refusal=[]),e.logprobs.refusal.push(...s))}else e.logprobs=Object.assign({},u);if(l&&(e.finish_reason=l,yB(this,oB,"f")&&Ky(yB(this,oB,"f")))){if("length"===l)throw new cm;if("content_filter"===l)throw new um}if(Object.assign(e,h),!a)continue;const{content:A,refusal:o,function_call:d,role:p,tool_calls:f,...g}=a;if(Object.assign(e.message,g),o&&(e.message.refusal=(e.message.refusal||"")+o),p&&(e.message.role=p),d&&(e.message.function_call?(d.name&&(e.message.function_call.name=d.name),d.arguments&&((r=e.message.function_call).arguments??(r.arguments=""),e.message.function_call.arguments+=d.arguments)):e.message.function_call=d),A&&(e.message.content=(e.message.content||"")+A,!e.message.refusal&&yB(this,AB,"m",gB).call(this)&&(e.message.parsed=iB(e.message.content))),f){e.message.tool_calls||(e.message.tool_calls=[]);for(const{index:t,id:n,type:r,function:i,...A}of f){const o=(s=e.message.tool_calls)[t]??(s[t]={});Object.assign(o,A),n&&(o.id=n),r&&(o.type=r),i&&(o.function??(o.function={name:i.name??"",arguments:""})),i?.name&&(o.function.name=i.name),i?.arguments&&(o.function.arguments+=i.arguments,Hy(yB(this,oB,"f"),o)&&(o.function.parsed_arguments=iB(o.function.arguments)))}}}return i},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("chunk",(n=>{const r=t.shift();r?r.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new dm(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function EB(e){return JSON.stringify(e)}class bB extends BB{static fromReadableStream(e){const t=new bB(null);return t._run((()=>t._fromReadableStream(e))),t}static runFunctions(e,t,n){const r=new bB(null),s={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run((()=>r._runFunctions(e,t,s))),r}static runTools(e,t,n){const r=new bB(t),s={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run((()=>r._runTools(e,t,s))),r}}class vB extends ay{parse(e,t){return function(e){for(const t of e??[]){if("function"!==t.type)throw new $g(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(!0!==t.function.strict)throw new $g(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}(e.tools),this._client.chat.completions.create(e,{...t,headers:{...t?.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap((t=>My(t,e)))}runFunctions(e,t){return e.stream?bB.runFunctions(this._client,e,t):eB.runFunctions(this._client,e,t)}runTools(e,t){return e.stream?bB.runTools(this._client,e,t):eB.runTools(this._client,e,t)}stream(e,t){return BB.createChatCompletion(this._client,e,t)}}class CB extends ay{constructor(){super(...arguments),this.completions=new vB(this._client)}}!function(e){e.Completions=vB}(CB||(CB={}));class TB extends ay{create(e,t,n){return this._client.post(`/threads/${e}/messages`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,t,n){return this._client.get(`/threads/${e}/messages/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(e,t,n,r){return this._client.post(`/threads/${e}/messages/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Mm(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/messages`,_B,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,t,n){return this._client.delete(`/threads/${e}/messages/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}}class _B extends py{}TB.MessagesPage=_B;class SB extends ay{retrieve(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;return Mm(r)?this.retrieve(e,t,n,{},r):this._client.get(`/threads/${e}/runs/${t}/steps/${n}`,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}list(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return Mm(n)?this.list(e,t,{},n):this._client.getAPIList(`/threads/${e}/runs/${t}/steps`,IB,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}}class IB extends py{}SB.RunStepsPage=IB;class xB extends ay{constructor(){super(...arguments),this.steps=new SB(this._client)}create(e,t,n){const{include:r,...s}=t;return this._client.post(`/threads/${e}/runs`,{query:{include:r},body:s,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers},stream:t.stream??!1})}retrieve(e,t,n){return this._client.get(`/threads/${e}/runs/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(e,t,n,r){return this._client.post(`/threads/${e}/runs/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Mm(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/runs`,kB,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}cancel(e,t,n){return this._client.post(`/threads/${e}/runs/${t}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(e,r.id,n)}createAndStream(e,t,n){return Vw.createAssistantStream(e,this._client.beta.threads.runs,t,n)}async poll(e,t,n){const r={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:s,response:i}=await this.retrieve(e,t,{...n,headers:{...n?.headers,...r}}).withResponse();switch(s.status){case"queued":case"in_progress":case"cancelling":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=i.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await Ym(e);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return s}}}stream(e,t,n){return Vw.createAssistantStream(e,this._client.beta.threads.runs,t,n)}submitToolOutputs(e,t,n,r){return this._client.post(`/threads/${e}/runs/${t}/submit_tool_outputs`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers},stream:n.stream??!1})}async submitToolOutputsAndPoll(e,t,n,r){const s=await this.submitToolOutputs(e,t,n,r);return await this.poll(e,s.id,r)}submitToolOutputsStream(e,t,n,r){return Vw.createToolAssistantStream(e,t,this._client.beta.threads.runs,n,r)}}class kB extends py{}xB.RunsPage=kB,xB.Steps=SB,xB.RunStepsPage=IB;class FB extends ay{constructor(){super(...arguments),this.runs=new xB(this._client),this.messages=new TB(this._client)}create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Mm(e)?this.create({},e):this._client.post("/threads",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,n){return this._client.post(`/threads/${e}`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,t){return this._client.delete(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers},stream:e.stream??!1})}async createAndRunPoll(e,t){const n=await this.createAndRun(e,t);return await this.runs.poll(n.thread_id,n.id,t)}createAndRunStream(e,t){return Vw.createThreadAssistantStream(e,this._client.beta.threads,t)}}FB.Runs=xB,FB.RunsPage=kB,FB.Messages=TB,FB.MessagesPage=_B;class UB extends ay{create(e,t,n){return this._client.post(`/vector_stores/${e}/files`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,t,n){return this._client.get(`/vector_stores/${e}/files/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Mm(t)?this.list(e,{},t):this._client.getAPIList(`/vector_stores/${e}/files`,LB,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,t,n){return this._client.delete(`/vector_stores/${e}/files/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(e,r.id,n)}async poll(e,t,n){const r={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const s=await this.retrieve(e,t,{...n,headers:r}).withResponse(),i=s.data;switch(i.status){case"in_progress":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=s.response.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await Ym(e);break;case"failed":case"completed":return i}}}async upload(e,t,n){const r=await this._client.files.create({file:t,purpose:"assistants"},n);return this.create(e,{file_id:r.id},n)}async uploadAndPoll(e,t,n){const r=await this.upload(e,t,n);return await this.poll(e,r.id,n)}}class LB extends py{}UB.VectorStoreFilesPage=LB;class QB extends ay{create(e,t,n){return this._client.post(`/vector_stores/${e}/file_batches`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,t,n){return this._client.get(`/vector_stores/${e}/file_batches/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}cancel(e,t,n){return this._client.post(`/vector_stores/${e}/file_batches/${t}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,t,n){const r=await this.create(e,t);return await this.poll(e,r.id,n)}listFiles(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return Mm(n)?this.listFiles(e,t,{},n):this._client.getAPIList(`/vector_stores/${e}/file_batches/${t}/files`,LB,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}async poll(e,t,n){const r={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:s,response:i}=await this.retrieve(e,t,{...n,headers:r}).withResponse();switch(s.status){case"in_progress":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=i.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await Ym(e);break;case"failed":case"cancelled":case"completed":return s}}}async uploadAndPoll(e,t,n){let{files:r,fileIds:s=[]}=t;if(null==r||0==r.length)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=n?.maxConcurrency??5,A=Math.min(i,r.length),o=this._client,a=r.values(),l=[...s];const c=Array(A).fill(a).map((async function(e){for(let t of e){const e=await o.files.create({file:t,purpose:"assistants"},n);l.push(e.id)}}));return await(async e=>{const t=await Promise.allSettled(e),n=t.filter((e=>"rejected"===e.status));if(n.length){for(const e of n)console.error(e.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of t)"fulfilled"===s.status&&r.push(s.value);return r})(c),await this.createAndPoll(e,{file_ids:l})}}class DB extends ay{constructor(){super(...arguments),this.files=new UB(this._client),this.fileBatches=new QB(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,n){return this._client.post(`/vector_stores/${e}`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Mm(e)?this.list({},e):this._client.getAPIList("/vector_stores",OB,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}del(e,t){return this._client.delete(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}}class OB extends py{}DB.VectorStoresPage=OB,DB.Files=UB,DB.VectorStoreFilesPage=LB,DB.FileBatches=QB;class RB extends ay{constructor(){super(...arguments),this.vectorStores=new DB(this._client),this.chat=new CB(this._client),this.assistants=new Fy(this._client),this.threads=new FB(this._client)}}RB.VectorStores=DB,RB.VectorStoresPage=OB,RB.Assistants=Fy,RB.AssistantsPage=Uy,RB.Threads=FB;class NB extends ay{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(`/batches/${e}`,t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Mm(e)?this.list({},e):this._client.getAPIList("/batches",MB,{query:e,...t})}cancel(e,t){return this._client.post(`/batches/${e}/cancel`,t)}}class MB extends py{}NB.BatchesPage=MB;class PB extends ay{create(e,t,n){return this._client.post(`/uploads/${e}/parts`,Tm({body:t,...n}))}}class HB extends ay{constructor(){super(...arguments),this.parts=new PB(this._client)}create(e,t){return this._client.post("/uploads",{body:e,...t})}cancel(e,t){return this._client.post(`/uploads/${e}/cancel`,t)}complete(e,t,n){return this._client.post(`/uploads/${e}/complete`,{body:t,...n})}}var KB;HB.Parts=PB;class GB extends Qm{constructor(){let{baseURL:e=$m("OPENAI_BASE_URL"),apiKey:t=$m("OPENAI_API_KEY"),organization:n=$m("OPENAI_ORG_ID")??null,project:r=$m("OPENAI_PROJECT_ID")??null,...s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(void 0===t)throw new $g("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const i={apiKey:t,organization:n,project:r,...s,baseURL:e||"https://api.openai.com/v1"};if(!i.dangerouslyAllowBrowser&&"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof navigator)throw new $g("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");super({baseURL:i.baseURL,timeout:i.timeout??6e5,httpAgent:i.httpAgent,maxRetries:i.maxRetries,fetch:i.fetch}),this.completions=new ly(this),this.chat=new uy(this),this.embeddings=new hy(this),this.files=new fy(this),this.images=new my(this),this.audio=new Ey(this),this.moderations=new by(this),this.models=new vy(this),this.fineTuning=new ky(this),this.beta=new RB(this),this.batches=new NB(this),this.uploads=new HB(this),this._options=i,this.apiKey=t,this.organization=n,this.project=r}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return oy(e,{arrayFormat:"brackets"})}}KB=GB,GB.OpenAI=KB,GB.DEFAULT_TIMEOUT=6e5,GB.OpenAIError=$g,GB.APIError=Jg,GB.APIConnectionError=em,GB.APIConnectionTimeoutError=tm,GB.APIUserAbortError=Zg,GB.NotFoundError=im,GB.ConflictError=Am,GB.RateLimitError=am,GB.BadRequestError=nm,GB.AuthenticationError=rm,GB.InternalServerError=lm,GB.PermissionDeniedError=sm,GB.UnprocessableEntityError=om,GB.toFile=Em,GB.fileFromPath=Gg,GB.Completions=ly,GB.Chat=uy,GB.Embeddings=hy,GB.Files=fy,GB.FileObjectsPage=gy,GB.Images=my,GB.Audio=Ey,GB.Moderations=by,GB.Models=vy,GB.ModelsPage=Cy,GB.FineTuning=ky,GB.Beta=RB,GB.Batches=NB,GB.BatchesPage=MB,GB.Uploads=HB;new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations"]);function jB(e){let{label:t="Okay",icon:n,iconPosition:r="start",iconColor:s,iconFill:i=!1,buttonStyle:A="regular",...o}=e;const a="start"===r?n:null,l="end"===r?n:null,c=[];return s&&c.push(`icon-${s}`),i&&c.push("icon-fill"),c.push(`button-style-${A}`),(0,Vt.jsxs)("button",{"data-component":"Button",className:c.join(" "),...o,children:[a&&(0,Vt.jsx)("span",{className:"icon icon-start",children:(0,Vt.jsx)(a,{})}),(0,Vt.jsx)("span",{className:"label",children:t}),l&&(0,Vt.jsx)("span",{className:"icon icon-end",children:(0,Vt.jsx)(l,{})})]})}function VB(){return VB=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VB.apply(this,arguments)}function zB(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var WB=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=zB(e,["color","size"]);return s.createElement("svg",VB({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),s.createElement("polygon",{points:"22 2 15 22 11 13 2 9 22 2"}))}));WB.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},WB.displayName="Send";const YB=WB,XB=(e,t)=>t.some((t=>e instanceof t));let qB,$B;const JB=new WeakMap,ZB=new WeakMap,eE=new WeakMap;let tE={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return JB.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return iE(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function nE(e){tE=e(tE)}function rE(e){return($B||($B=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(AE(this),n),iE(this.request)}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return iE(e.apply(AE(this),n))}}function sE(e){return"function"===typeof e?rE(e):(e instanceof IDBTransaction&&function(e){if(JB.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)}));JB.set(e,t)}(e),XB(e,qB||(qB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,tE):e)}function iE(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{t(iE(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)}));return eE.set(t,e),t}(e);if(ZB.has(e))return ZB.get(e);const t=sE(e);return t!==e&&(ZB.set(e,t),eE.set(t,e)),t}const AE=e=>eE.get(e);const oE=["get","getKey","getAll","getAllKeys","count"],aE=["put","add","delete","clear"],lE=new Map;function cE(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(lE.get(t))return lE.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=aE.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!oE.includes(n))return;const i=async function(e){const t=this.transaction(e,s?"readwrite":"readonly");let i=t.store;for(var A=arguments.length,o=new Array(A>1?A-1:0),a=1;a<A;a++)o[a-1]=arguments[a];return r&&(i=i.index(o.shift())),(await Promise.all([i[n](...o),s&&t.done]))[0]};return lE.set(t,i),i}nE((e=>({...e,get:(t,n,r)=>cE(t,n)||e.get(t,n,r),has:(t,n)=>!!cE(t,n)||e.has(t,n)})));const uE=["continue","continuePrimaryKey","advance"],hE={},dE=new WeakMap,pE=new WeakMap,fE={get(e,t){if(!uE.includes(t))return e[t];let n=hE[t];return n||(n=hE[t]=function(){dE.set(this,pE.get(this)[t](...arguments))}),n}};async function*gE(){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...arguments)),!e)return;const t=new Proxy(e,fE);for(pE.set(t,e),eE.set(t,AE(e));e;)yield t,e=await(dE.get(t)||e.continue()),dE.delete(t)}function mE(e,t){return t===Symbol.asyncIterator&&XB(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&XB(e,[IDBIndex,IDBObjectStore])}nE((e=>({...e,get:(t,n,r)=>mE(t,n)?gE:e.get(t,n,r),has:(t,n)=>mE(t,n)||e.has(t,n)})));let wE=localStorage.getItem("tmp::voice_api_key");if(""===wE){if(wE=prompt("OpenAI API Key"),null===wE)throw new Error("API Key is required");localStorage.setItem("tmp::voice_api_key",wE)}let yE=localStorage.getItem("tmp::asst_id");if(null===yE){if(yE=prompt("Assistant Id needed"),null===yE)throw new Error("Assistant Id is required");localStorage.setItem("tmp::asst_id",yE)}const BE=new GB({apiKey:wE,dangerouslyAllowBrowser:!0}),EE=e=>{let{text:t}=e;const n=e=>e.includes("Read Aloud:")||e.includes("Translate:")||e.includes("wordcard:")?"":e;switch(t.includes("data:image/png;base64,")?"image":"text"){case"text":return t.includes("Read Aloud:")||t.includes("Translate:")||t.includes("wordcard:")?null:(0,Vt.jsx)("div",{className:Ia,children:(0,Vt.jsx)(id,{rehypePlugins:[Qg],children:n(t)})});case"image":return(0,Vt.jsx)("div",{className:Ia,children:(0,Vt.jsx)("img",{src:t,alt:"Captured Element",style:{border:"1px solid #ccc"}})});default:return null}},bE=e=>{let{prompt:t}=e;const n=t.split(".").filter((e=>""!==e.trim()));return(0,Vt.jsx)("ul",{children:n.map(((e,t)=>(0,Vt.jsx)("li",{children:e.trim()+"."},t)))})},vE=e=>{let{text:t}=e;const[n,r]=(0,s.useState)(!1);return(0,Vt.jsx)("div",{className:xa,children:(0,Vt.jsx)(id,{rehypePlugins:[Qg],components:{img:e=>{let{src:t,alt:s,title:i}=e;return(0,Vt.jsxs)(Vt.Fragment,{children:[(0,Vt.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,Vt.jsx)("img",{src:t,alt:s,onDoubleClick:()=>(e=>{const t=document.getElementById("popupOverlay"),n=document.getElementById("imageFrame"),r=document.getElementById("videoFrame"),s=document.getElementById("popupContent");n.src=e,s.className="popup-content-video",t&&(t.style.display="flex",n.style.display="flex",n.style.width="670px",n.style.height="670px",r.style.display="none")})(t),style:{cursor:"pointer",border:"1px solid #ccc"}}),(0,Vt.jsx)("div",{onClick:()=>{r(!n)},style:{userSelect:"none",position:"absolute",bottom:"5px",right:"0px",backgroundColor:n?"gray":"lightgray",width:"100px",height:"20px",borderRadius:"4px",cursor:"pointer",textAlign:"center"},children:n?"Hide Prompt":"Show Prompt"})]}),(0,Vt.jsx)("div",{style:{display:n?"flex":"none",border:"1px solid #ccc",borderRadius:"4px",padding:"5px",marginTop:"5px",backgroundColor:"lightgray"},children:(0,Vt.jsx)(bE,{prompt:i})})]})}},children:(e=>e.includes("<iframe")||e.includes("</iframe>")?e:e.replace(/\n/g,"<br />"))(t)})})},CE=e=>{let{text:t}=e;return(0,Vt.jsx)("div",{className:xa,children:(0,Vt.jsx)("audio",{src:t,controls:!0})})},TE=e=>{let{align:t,itemId:n,items:r}=e;return(0,Vt.jsx)("div",{style:{alignSelf:t},children:r.filter((e=>e.id===n)).map((e=>(0,Vt.jsx)("div",{children:e.formatted.file&&(0,Vt.jsx)("audio",{src:e.formatted.file.url,controls:!0})},e.id)))})},_E=e=>{var t;let{itemId:n,items:r}=e;const s=r.find((e=>e.id===n)),i=null===s||void 0===s?void 0:s.role,A="user"===i?"flex-end":"flex-start";switch(i){case"user":return(0,Vt.jsxs)(Vt.Fragment,{children:[" ",(0,Vt.jsx)(EE,{text:s.formatted.transcript||(null!==(t=s.formatted.audio)&&void 0!==t&&t.length?"(awaiting transcript)":s.formatted.text||"(item sent)")}),(0,Vt.jsx)(TE,{align:A,itemId:n,items:r})]});case"assistant":return(0,Vt.jsxs)(Vt.Fragment,{children:[" ",(0,Vt.jsx)(vE,{text:s.formatted.transcript||s.formatted.text||"(truncated)"}),(0,Vt.jsx)(TE,{align:A,itemId:n,items:r})]});default:return null}},SE=e=>{let{text:t}=e;return(0,Vt.jsx)("div",{className:ka,children:t.split("\n").map(((e,t)=>(0,Vt.jsxs)("div",{children:[(0,Vt.jsx)("span",{children:`${t+1}. `}),e]},t)))})},IE=e=>{let{role:t,text:n,items:r}=e;switch(t){case"user":return(0,Vt.jsx)(EE,{text:n});case"assistant":return(0,Vt.jsx)(vE,{text:n});case"code":return(0,Vt.jsx)(SE,{text:n});case"audio":return(0,Vt.jsx)(_E,{itemId:n,items:r});case"read_aloud":return(0,Vt.jsx)(CE,{text:n});default:return null}},xE=(0,s.forwardRef)(((e,t)=>{let{functionCallHandler:n=()=>Promise.resolve(""),getIsMuted:r,realtimeClient:i}=e;const[A,o]=(0,s.useState)(""),[a,l]=(0,s.useState)([]),[c,u]=(0,s.useState)(!1),[h,d]=(0,s.useState)(""),p=(0,s.useRef)(null),[f,g]=(0,s.useState)([]),m=(0,s.useRef)(null),[w,y]=(0,s.useState)("GPT-Realtime"),[B,E]=(0,s.useState)(!0);(0,s.useImperativeHandle)(t,(()=>({updateChatModel(e){y(e)},updateData(e){F("user",e)},updateVideo(e){F("assistant",e)},updateGenImage(e){F("assistant",e)},updateScreenshot(e){F("user",e)},updateSelection(e){F("user","[Read Aloud]:<br />"+e)},updateImgAnalyzeResponse(){F("assistant","Begin to analyze...")},updateReadAloud(e){F("read_aloud",e)},updateItems(e){g((t=>{const n=new Set(t.map((e=>e.id))),r=e.filter((e=>!n.has(e.id)));return[...t,...r]}))},updateItemID(e){F("audio",e)},explainSelection(e){b(e),u(!0)},chatFromExternal(e){if(!e.trim())return;document.getElementById("checkBox").checked?i.isConnected()?i.sendUserMessageContent([{type:"input_text",text:e}]):(F("assistant","RealTime API Connection error. Please Connect again..."),u(!1)):(l((t=>[...t,{role:"user",text:e}])),b(e),u(!0)),o("")}}))),(0,s.useEffect)((()=>{(()=>{var e;null===(e=m.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()}),[a,f]);const b=async e=>{try{await(async()=>{try{if(!h){const e=await BE.beta.threads.create();d(e.id),p.current=e.id}}catch(e){F("assistant","Connection error. Please try again."),u(!1)}})(),await BE.beta.threads.messages.create(p.current,{role:"user",content:e});const t=BE.beta.threads.runs.stream(p.current,{assistant_id:yE}).toReadableStream();if(t){const e=Vw.fromReadableStream(t);x(e)}else console.error("Response body is null")}catch(t){console.error("Error sending message",t),F("assistant","Connection error. Please try again..."),u(!1)}},v=async e=>{const t=e.data.id,r=e.data.required_action.submit_tool_outputs.tool_calls,s=await Promise.all(r.map((async e=>({output:await n(e),tool_call_id:e.id}))));u(!0),(async(e,t)=>{const n=BE.beta.threads.runs.submitToolOutputsStream(p.current,e,{tool_outputs:t}),r=Vw.fromReadableStream(n.toReadableStream());x(r)})(t,s)},C=()=>{F("assistant","")},T=e=>{null!=e.value&&k(e.value),null!=e.annotations&&U(e.annotations)},_=e=>{k(`\n![${e.file_id}](/api/files/${e.file_id})\n`)},S=e=>{"code_interpreter"==e.type&&F("code","")},I=(e,t)=>{var n;"code_interpreter"==e.type&&null!==(n=e.code_interpreter)&&void 0!==n&&n.input&&k(e.code_interpreter.input)},x=e=>{e.on("textCreated",C),e.on("textDelta",T),e.on("imageFileDone",_),e.on("toolCallCreated",S),e.on("toolCallDelta",I),e.on("event",(e=>{"thread.run.requires_action"===e.event&&v(e),"thread.run.completed"===e.event&&u(!1)}))},k=e=>{l((t=>{const n=t[t.length-1],r={...n,text:n.text+e};return[...t.slice(0,-1),r]}))},F=(e,t)=>{l((n=>[...n,{role:e,text:t}]))},U=e=>{l((t=>{const n={...t[t.length-1]};return e.forEach((e=>{"file_path"===e.type&&(n.text=n.text.replaceAll(e.text,`/api/files/${e.file_path.file_id}`))})),[...t.slice(0,-1),n]}))};return(0,Vt.jsxs)("div",{className:va,children:[(0,Vt.jsxs)("div",{className:Sa,children:[a.map(((e,t)=>(0,Vt.jsx)(IE,{role:e.role,text:e.text,items:f},t))),(0,Vt.jsx)("div",{ref:m})]}),(0,Vt.jsxs)("form",{id:"inputForm",onSubmit:async e=>{if(e.preventDefault(),A.trim()){switch(w){case"GPT-Realtime":case"GPT-Realtime-Mini":i.isConnected()?i.sendUserMessageContent([{type:"input_text",text:A}]):(F("assistant","RealTime API Connection error. Please Connect again..."),u(!1));break;case"GPT-4o":l((e=>[...e,{role:"user",text:A}])),b(A),u(!0);break;case"DeepSeek":l((e=>[...e,{role:"user",text:A}])),o(""),console.log("DeepSpeek model");const e=A,t=await fetch(`http://localhost:3001/api/deepseek/chat/stream?q=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);F("assistant","");const n=t.body.getReader(),r=new TextDecoder("utf-8");let s="";for(;;){const{done:e,value:t}=await n.read();if(e)break;const i=r.decode(t);s+=i,k(i)}break;default:return null}o("")}else{const e=document.getElementById("muteButton");e&&e.click()}},className:`${Ca} ${i.isConnected()?"":"no-connection"}`,style:{border:"2px solid #ccc",marginLeft:"0px",marginRight:"1px"},children:[(0,Vt.jsx)("input",{id:"chatInputBox",type:"text",className:Ta,value:A,onChange:function(e){if(o(e.target.value),!r()){const e=document.getElementById("muteButton");e&&e.click()}},placeholder:i.isConnected()?"Ask me anything...":"Connect to ask anything!",style:{marginRight:"1px",border:"none",outline:"none"}}),(0,Vt.jsx)(jB,{title:i.isConnected()?"":"Connect to talk",type:"submit",className:_a,disabled:!i.isConnected(),label:"",iconPosition:"end",icon:r()?gt:Bt,style:{fontSize:"medium",marginLeft:"1px",marginRight:"1px",display:""===A.trim()?"flex":"none"}}),(0,Vt.jsx)(jB,{title:i.isConnected()?"":"Connect to chat",type:"submit",id:"submitButton",className:_a,label:"",iconPosition:"end",icon:YB,buttonStyle:"regular",onFocus:()=>{console.log("Mute/Unmute icon should not be displayed")},style:{fontSize:"medium",marginLeft:"1px",marginRight:"0px",display:""===A.trim()?"none":"flex"}}),(0,Vt.jsx)("input",{id:"checkBox",type:"checkbox",title:i.isConnected()&&B?"Voice & Text Reply":"Text-Only Reply",checked:!!i.isConnected()&&B,disabled:!i.isConnected()||""===A.trim(),onChange:function(e){E(e.target.checked)},style:{display:"none",position:"absolute",top:"45%",left:"97%",transform:"translate(-50%, -50%)",zIndex:1}})]})]})})),kE=xE,FE=e=>{let{startTime:t}=e;const n=60*t*1e3,[r,i]=(0,s.useState)(n),[A,o]=(0,s.useState)(!1);(0,s.useEffect)((()=>{let e;return A&&r>0?e=setInterval((()=>{i((e=>e-1e3))}),1e3):r<=0&&o(!1),()=>clearInterval(e)}),[A,r]),(0,s.useEffect)((()=>{i(n),o(!1)}),[t]);return(0,Vt.jsxs)("div",{className:"countdown-timer",children:[(0,Vt.jsx)("div",{style:{marginTop:"3px"},children:(e=>{const t=Math.floor(e/1e3),n=Math.floor(t/60),r=t%60;return A?`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`:"--:--"})(r)}),(0,Vt.jsxs)("div",{className:"timer-controls",children:[(0,Vt.jsx)("button",{id:"countDownStartBtn",style:{display:"none"},onClick:()=>o(!A),children:A?"Pause":"Start"}),(0,Vt.jsx)("button",{id:"countDownResetBtn",style:{display:"none"},onClick:()=>{i(n),o(!1)},children:"Reset"})]})]})},UE={root:"Flashcards_root__Z9kvs",flashcard:"Flashcards_flashcard__XqKjc",voiceButton:"Flashcards_voiceButton__880K8",speaking:"Flashcards_speaking__NdpB5",translateButton:"Flashcards_translateButton__sv4Ev",translationBadge:"Flashcards_translationBadge__4ZYv7",fadeIn:"Flashcards_fadeIn__kipcs",face:"Flashcards_face__fRrbC",front:"Flashcards_front__jhM85 Flashcards_face__fRrbC",back:"Flashcards_back__qD0PP Flashcards_face__fRrbC",flipped:"Flashcards_flipped__CRD5z",controls:"Flashcards_controls__EMk9H",navButton:"Flashcards_navButton__x3SyU",counter:"Flashcards_counter__tOHVs"};function LE(){return LE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LE.apply(this,arguments)}function QE(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var DE=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=QE(e,["color","size"]);return s.createElement("svg",LE({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}))}));DE.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},DE.displayName="Square";const OE=DE;function RE(){return RE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RE.apply(this,arguments)}function NE(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var ME=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=NE(e,["color","size"]);return s.createElement("svg",RE({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),s.createElement("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"}))}));ME.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},ME.displayName="Volume2";const PE=ME;function HE(e){let{cards:t,realtimeClient:n}=e;console.log("Flashcards cards:",t);const r=t&&t.length?t:[{front:"Flashcard 1: How is the name 'markhor' pronounced?",back:"MAR-kor.",front_translation:"\u5361\u72471\uff1a'markhor' \u600e\u4e48\u8bfb\uff1f",back_translation:"\u53d1\u97f3\uff1aMAR-kor"},{front:"Flashcard 2: How is the name 'oryx' pronounced?",back:"OR-iks.",front_translation:"\u5361\u72472\uff1a'oryx' \u600e\u4e48\u8bfb\uff1f",back_translation:"\u53d1\u97f3\uff1aOR-iks"}],[i,A]=(0,s.useState)(0),[o,a]=(0,s.useState)(!1),[l,c]=(0,s.useState)(!1),u=(0,s.useRef)(null),h=(0,s.useRef)(!1),[d,p]=(0,s.useState)(!1),[f,g]=(0,s.useState)(!1),m=(0,s.useCallback)((()=>{try{window.speechSynthesis.cancel()}catch{}c(!1)}),[]);(0,s.useEffect)((()=>()=>m()),[m]);const w=s.useMemo((()=>r[i]),[r,i]),y=s.useMemo((()=>o?w.back_translation||"":w.front_translation||""),[o,w]),B=(0,s.useCallback)((e=>{e.stopPropagation(),y&&(d?p(!1):(g(!0),requestAnimationFrame((()=>{p(!0),g(!1)}))))}),[d,y]),E=(0,s.useCallback)((()=>{const e=o?w.back:w.front;e&&window.speechSynthesis&&n.isConnected()&&n.sendUserMessageContent([{type:"input_text",text:`Read Aloud: ${e} with Casual and child-friendly\uff0cCheerful, warm tone. only output the read aloud content`}])}),[o,w,m]);(0,s.useEffect)((()=>()=>{u.current&&window.clearTimeout(u.current)}),[]);const b=(0,s.useRef)(null);(0,s.useEffect)((()=>{var e;null===(e=b.current)||void 0===e||e.focus()}),[i,r.length]);const v=()=>{const e=window.getSelection();return!!e&&(!e.isCollapsed&&e.toString().trim().length>0)},C=()=>a((e=>!e)),T=(0,s.useCallback)((()=>{a(!1),A((e=>(e+1)%r.length))}),[r.length]),_=(0,s.useCallback)((()=>{a(!1),A((e=>(e-1+r.length)%r.length))}),[r.length]);return(0,Vt.jsxs)("div",{className:UE.root,children:[(0,Vt.jsxs)("div",{ref:b,className:`${UE.flashcard} ${o?UE.flipped:""}`,onMouseDown:()=>{h.current=v()},onClick:e=>{if(h.current)return h.current=!1,void(u.current&&(window.clearTimeout(u.current),u.current=null));e.detail>1?u.current&&(window.clearTimeout(u.current),u.current=null):(u.current&&window.clearTimeout(u.current),u.current=window.setTimeout((()=>{u.current=null,v()||C()}),180))},onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||v()?"ArrowRight"===e.key?(e.preventDefault(),T()):"ArrowLeft"===e.key&&(e.preventDefault(),_()):(e.preventDefault(),C())},role:"button",tabIndex:0,"aria-label":`Flashcard ${i+1} of ${r.length}`,children:[(0,Vt.jsx)("div",{className:UE.front,children:w.front}),(0,Vt.jsx)("div",{className:UE.back,children:w.back}),(0,Vt.jsx)("button",{type:"button",className:`${UE.voiceButton} ${l?UE.speaking:""}`,"aria-label":l?"Stop reading":"Read this card aloud",onClick:e=>{e.stopPropagation(),l?m():E()},children:l?(0,Vt.jsx)(OE,{size:18}):(0,Vt.jsx)(PE,{size:18})}),(0,Vt.jsx)("button",{type:"button",className:UE.translateButton,"aria-label":d?"Hide translation":"Show translation",onClick:B,disabled:!y,children:f||d?(0,Vt.jsx)(OE,{size:16}):(0,Vt.jsx)(Ae,{size:16})}),d&&y&&(0,Vt.jsx)("div",{className:UE.translationBadge,children:y})]}),(0,Vt.jsxs)("div",{className:UE.controls,children:[(0,Vt.jsx)("button",{type:"button",className:UE.navButton,onClick:_,"aria-label":"Previous",children:"\u2039"}),(0,Vt.jsxs)("span",{className:UE.counter,children:[i+1,"/",r.length]}),(0,Vt.jsx)("button",{type:"button",className:UE.navButton,onClick:T,"aria-label":"Next",children:"\u203a"})]})]})}var KE=n(950);function GE(){return GE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GE.apply(this,arguments)}function jE(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var VE=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=jE(e,["color","size"]);return s.createElement("svg",GE({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),s.createElement("circle",{cx:"12",cy:"14",r:"4"}),s.createElement("line",{x1:"12",y1:"6",x2:"12.01",y2:"6"}))}));VE.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},VE.displayName="Speaker";const zE=VE;Co.workerSrc="node_modules/pdfjs-dist/build/pdf.worker.js";const WE=e=>{let{pdfFilePath:t}=e;const[n,r]=(0,s.useState)(null),i=(0,s.useRef)(),A=(0,s.useRef)({});return(0,Vt.jsx)("div",{style:{margin:"0 auto",marginTop:"2.5em",width:"100%",overflowY:"auto",scrollbarWidth:"auto",top:"400px"},children:(0,Vt.jsx)("div",{ref:i,style:{margin:"0 auto",width:"100%",overflowY:"auto",scrollbarWidth:"none",top:"400px",backgroundColor:"white",transform:"scale(1)",transformOrigin:"top center"},children:(0,Vt.jsx)(qo,{file:t,onLoadSuccess:e=>{let{numPages:t}=e;r(t);for(let n=1;n<=t;n++)A.current[n]=s.createRef()},children:Array.from(new Array(n),((e,n)=>(0,Vt.jsx)("div",{ref:A.current[n+1],style:{marginBottom:"10px",flexShrink:0,margin:"20px auto",width:"fit-content",position:"relative"},children:(0,Vt.jsx)(ga,{pageNumber:n+1,renderTextLayer:!0,renderAnnotationLayer:!1,onLoadSuccess:()=>(async e=>{var n;let{pageNumber:r}=e;const s=await So(t).promise,i=await s.getPage(r),o=i.getViewport({scale:1}),a=await i.getTextContent(),l=null===(n=A.current[r])||void 0===n?void 0:n.current;l&&a.items.forEach((e=>{if("str"in e&&"transform"in e){const{str:t,transform:n}=e,[r,,,s,i,A]=n,a=i,c=o.height-A,u=document.createElement("div");u.style.position="absolute",u.style.left=`${a}px`,u.style.top=`${c}px`,u.style.transform=`scale(${r}, ${s})`,u.style.display="flex",u.style.alignItems="center",u.style.justifyContent="center",u.style.color="red",u.style.fontSize="14px",KE.render((0,Vt.jsx)(zE,{}),u),l.appendChild(u)}}))})({pageNumber:n+1}),loading:(0,Vt.jsxs)("p",{children:["Loading page ",n+1,"..."]})},`page_${n+1}`)},`page_${n+1}`)))})})})};function YE(){return YE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YE.apply(this,arguments)}function XE(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var qE=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=XE(e,["color","size"]);return s.createElement("svg",YE({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("path",{d:"M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"}),s.createElement("polyline",{points:"13 11 9 17 15 17 11 23"}))}));qE.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},qE.displayName="CloudLightning";const $E=qE;function JE(){return JE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JE.apply(this,arguments)}function ZE(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var eb=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=ZE(e,["color","size"]);return s.createElement("svg",JE({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}))}));eb.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},eb.displayName="MessageSquare";const tb=eb;function nb(){return nb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nb.apply(this,arguments)}function rb(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var sb=(0,s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,A=void 0===i?24:i,o=rb(e,["color","size"]);return s.createElement("svg",nb({ref:t,xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.createElement("path",{d:"M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"}),s.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}))}));sb.propTypes={color:U().string,size:U().oneOfType([U().string,U().number])},sb.displayName="CloudOff";const ib=sb;function Ab(e){let{icon:t,children:n,onClick:r,className:s}=e;return(0,Vt.jsxs)("button",{className:`bg-gray-800 text-white rounded-full p-4 flex items-center gap-1 hover:opacity-90 ${s}`,onClick:r,children:[t,n]})}function ob(e){let{startSession:t}=e;const[n,r]=(0,s.useState)(!1);return(0,Vt.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:(0,Vt.jsx)(Ab,{onClick:function(){n||(r(!0),t())},className:n?"bg-gray-600":"bg-red-600",icon:(0,Vt.jsx)($E,{height:16}),children:n?"starting session...":"start session"})})}function ab(e){let{stopSession:t,sendTextMessage:n}=e;const[r,i]=(0,s.useState)("");function A(){n(r),i("")}return(0,Vt.jsxs)("div",{className:"flex items-center justify-center w-full h-full gap-4",children:[(0,Vt.jsx)("input",{onKeyDown:e=>{"Enter"===e.key&&r.trim()&&A()},id:"webRTCMessage",type:"text",placeholder:"send a text message...",className:"border border-gray-200 rounded-full p-4 flex-1",value:r,onChange:e=>i(e.target.value)}),(0,Vt.jsx)(Ab,{onClick:()=>{r.trim()&&A()},icon:(0,Vt.jsx)(tb,{height:16}),className:"bg-blue-400",children:"send text"}),(0,Vt.jsx)(Ab,{onClick:t,icon:(0,Vt.jsx)(ib,{height:16}),children:"disconnect"})]})}function lb(e){let{startSession:t,stopSession:n,sendClientEvent:r,sendTextMessage:s,serverEvents:i,isSessionActive:A}=e;return(0,Vt.jsx)("div",{className:"flex gap-4 border-t-2 border-gray-200 h-full rounded-md",children:A?(0,Vt.jsx)(ab,{stopSession:n,sendClientEvent:r,sendTextMessage:s,serverEvents:i}):(0,Vt.jsx)(ob,{startSession:t})})}var cb=n(239),ub=n.n(cb);const hb={NODE_ENV:"production",PUBLIC_URL:"/Audio-Copilot",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_LOCAL_RELAY_SERVER_URL||"";function db(){var e,t,n,r;(0,s.useRef)(null),(0,s.useRef)(null);let i;const A=(0,s.useRef)(new I({sampleRate:24e3})),o=(0,s.useRef)(new T({sampleRate:24e3})),a=(0,s.useRef)(new d(hb?{url:hb}:{apiKey:"",dangerouslyAllowAPIKeyInBrowser:!0})),l=(0,s.useRef)(null),c=(0,s.useRef)(null),u=(0,s.useRef)(0),h=(0,s.useRef)(null),p=(0,s.useRef)((new Date).toISOString()),f=(0,s.useRef)(null),[g,m]=(0,s.useState)([]),[w,y]=(0,s.useState)([]),[B,E]=(0,s.useState)(!1),[b,v]=(0,s.useState)(!1),[C,_]=(0,s.useState)(!0),[S,x]=(0,s.useState)(0),[F,U]=(0,s.useState)(100),[L,Q]=(0,s.useState)(1),[D,R]=(0,s.useState)(.75),[N,M]=(0,s.useState)("alloy"),[H,K]=(0,s.useState)(""),[G,V]=(0,s.useState)(!0),[z,W]=(0,s.useState)(!1),[X,q]=(0,s.useState)(!1),[$,Z]=(0,s.useState)(!1),[ee,te]=(0,s.useState)(""),[re,se]=(0,s.useState)(0),[ie,oe]=(0,s.useState)(0),[ae,le]=(0,s.useState)(!1),[ue,he]=(0,s.useState)(!1),de=(0,s.useRef)(ue),[fe,ge]=(0,s.useState)(!1),[me,ye]=(0,s.useState)(!0),[Be,Ee]=(0,s.useState)(!1),[ve,Ce]=(0,s.useState)("Connecting to Copilot"),[Te,Se]=(0,s.useState)(0),Ie=(0,s.useRef)(null),xe=(0,s.useRef)(null),Fe=(0,s.useRef)(null),Ue=(0,s.useRef)(null),Le=(0,s.useRef)(null),De=(0,s.useRef)(null),Oe=(0,s.useRef)(null),Re=(0,s.useRef)(null),Me=(0,s.useRef)(null),[Pe,He]=(0,s.useState)(),Ge=(0,s.useRef)(null),je=(0,s.useRef)([]),[Ve,We]=(0,s.useState)(1),[Ye,Xe]=(0,s.useState)([1]),[$e,Je]=(0,s.useState)(!0),Ze=(0,s.useRef)(),tt=(0,s.useRef)(),[nt,rt]=(0,s.useState)(!1),[it,At]=(0,s.useState)(`./play/${ma[0]}/${ma[0]}.pdf`),[ot,lt]=(0,s.useState)(`./play/${ma[0]}/${ma[0]}.wav`),[ct,ut]=(0,s.useState)(!1),[dt,pt]=(0,s.useState)(!1),[ft,mt]=(0,s.useState)([]),wt=(0,s.useRef)(ft),[yt,Et]=(0,s.useState)({}),bt=(0,s.useRef)(yt),[vt,Tt]=(0,s.useState)(""),_t=(0,s.useRef)(vt),[St,xt]=(0,s.useState)(`${ma[0].replace(/[_-]/g," ")}`),[kt,Ft]=(0,s.useState)(!1),Lt=(0,s.useRef)({x:0,y:0}),Qt=(0,s.useRef)(null),Dt=(0,s.useRef)({}),[Rt,Nt]=(0,s.useState)("gpt-4o-mini-realtime-preview-2024-12-17"),Mt=(0,s.useRef)(Rt),[Ht,Kt]=(0,s.useState)([]),[Gt,zt]=(0,s.useState)({x:0,y:0,width:0,height:0,pairIndex:0}),Wt=e=>{let{box:t,containerRef:n}=e;if(!t||!kt&&0===t.width&&0===t.height)return null;if(null===n||void 0===n||!n.current)return null;const r=n.current.getBoundingClientRect();return(0,Vt.jsx)("div",{ref:Qt,style:{position:"absolute",left:t.x-r.left+"px",top:t.y-r.top+"px",width:`${t.width}px`,height:`${t.height}px`,border:"2px solid #0095ff",backgroundColor:"rgba(0, 149, 255, 0.1)",pointerEvents:"none",zIndex:9999}})};(0,s.useEffect)((()=>{je.current.length<Ye.length&&Ye.forEach(((e,t)=>{je.current[t]||(je.current[t]=s.createRef())}))}),[Ye]);const Yt=e=>{const t=document.createElement("div");let n;t.style.position="fixed",t.style.left=e.x+e.width-6+"px",t.style.top=`${e.y+e.height+1}px`,t.style.backgroundColor="white",t.style.boxShadow="0 2px 10px rgba(0,0,0,0.1)",t.style.borderRadius="4px",t.style.padding="6px",t.style.zIndex="1001",t.style.transform="translate(-100%, 0)",t.style.marginLeft="10px",t.style.marginTop="5px",setTimeout((()=>{const n=t.getBoundingClientRect(),r=window.innerWidth,s=window.innerHeight;n.right>r&&(t.style.left=r-n.width-10+"px"),n.bottom>s&&(t.style.top=e.y-n.height+"px")}),0);let r="";const s=document.createElement("button");s.textContent="What can you see...",s.onclick=async()=>{(()=>{let e="";s.disabled=!0,s.style.cursor="wait",s.style.textAlign="left",s.textContent="Start analyzing...",n=setInterval((()=>{e=e.length>=3?"":e+".",s.textContent="Start analyzing"+e}),500)})(),requestAnimationFrame((async()=>{try{const e=Dt.current[`pair_${Gt.pairIndex}`].current;if(!e)return;if(Qt.current){const s=e.getBoundingClientRect(),A=Gt.x-s.left,o=Gt.y-s.top,l=(await ub()(e,{x:A+2,y:o+2,width:Gt.width-4,height:Gt.height-4,backgroundColor:null,scale:window.devicePixelRatio,useCORS:!0,logging:!0,windowWidth:s.width,windowHeight:s.height}),await(async()=>{const e=Dt.current[`pair_${Gt.pairIndex}`].current;if(!e)return;if(Qt.current){const t=e.getBoundingClientRect(),n=Gt.x-t.left,s=Gt.y-t.top,i=(await ub()(e,{x:n+2,y:s+2,width:Gt.width-4,height:Gt.height-4,backgroundColor:null,scale:window.devicePixelRatio,useCORS:!0,logging:!0,windowWidth:t.width,windowHeight:t.height})).toDataURL("image/png");return r=i,i}})());console.log(l),await f.current.updateScreenshot(l),clearInterval(n),zt({x:0,y:0,width:0,height:0,pairIndex:0}),document.body.contains(t)&&document.body.removeChild(t),document.removeEventListener("click",i);const c=a.current;if(c.isConnected())if("gpt-realtime"===Mt.current)c.sendUserMessageContent([{type:"input_image",image_url:l}]);else{const e=await Xt(l);c.sendUserMessageContent([{type:"input_text",text:`Read Aloud: ${e}. \n                      The output should follow the format:\n                      <b>Screenshot Description</b>:                      \n                      - {Each sentence of the response}`}])}}}catch(e){console.error("Screenshot error:",e)}}))},s.style.width="140px",s.style.padding="4px 8px",s.style.cursor="pointer",t.appendChild(s),document.body.appendChild(t);const i=e=>{t.contains(e.target)||(clearInterval(n),document.body.removeChild(t),document.removeEventListener("click",i))};setTimeout((()=>document.addEventListener("click",i)),0)},Xt=async e=>{try{const t=await BE.chat.completions.create({model:"gpt-4o",messages:[{role:"user",content:[{type:"text",text:"Describe the image with simple and interesting english words within 100 length"},{type:"image_url",image_url:{url:e}}]}]});return console.log(t.choices[0].message.content),t.choices[0].message.content}catch(t){console.error("Analyaze Image Error:",t.message)}};(0,s.useEffect)((()=>{!async function(){let{magzine:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{magzine:ma[0]};const t=await fetch(`http://localhost:3001/api/audio/check?magzine=${encodeURIComponent(e)}&word=hello`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const n=await t.json(),r=n.audioExisting,s=await ba({magzine:"no_scripts"});if("true"===r)if(ut(!0),"true"===n.scriptExisting){pt(!0);const e=await ba();Tt(e);const t=await Ba();mt(t),"true"===n.keywordsExisting&&Et(await wa({magzine:ma[0]}))}else pt(!1),Tt(s),ae&&le(!1),mt([]);else ut(!1),pt(!1),Tt(s),mt([]);if("true"===n.flashcardsExisting){const e=await ya({magzine:ma[0]});console.log("Flashcards Loaded:",e),Kt(e)}else Kt([])}()}),[]);const qt=s.useMemo((()=>Object.values(yt).some((e=>Array.isArray(e)&&0!==e[2]))),[yt]);(0,s.useEffect)((()=>{if(_t.current=vt,""!==vt){a.current.updateSession({instructions:vt})}}),[vt]),(0,s.useEffect)((()=>{bt.current=yt}),[yt]),(0,s.useEffect)((()=>{wt.current=ft}),[ft]),(0,s.useEffect)((()=>{Mt.current=Rt}),[Rt]);const $t=(0,s.useRef)(B);(0,s.useEffect)((()=>{$t.current=B,B||qn()}),[B]),(0,s.useEffect)((()=>{const e=document.getElementById("countDownStartBtn"),t=document.getElementById("countDownResetBtn");e&&$t.current&&e.click(),t&&!$t.current&&t.click()}),[B]);const Jt=e=>{let{pageNumber:t}=e;var n;je.current[t]?null===(n=je.current[t].current)||void 0===n||n.scrollIntoView({behavior:"auto",block:"start"}):alert(`Page ${t} is out of range!`)};const Zt=()=>{Je(!$e)},en=()=>{tn();const e=document.getElementById("openRightArrow");e&&(e.style.display="flex");const t=document.getElementById("closeRightArrow");t&&(t.style.display="none");const n=document.getElementById("captionDisplay"),r=window.innerWidth-51;ae&&n&&(n.style.width=`${r}px`)},tn=()=>{ye(!0);const e=document.getElementById("splitter"),t=document.getElementById("chatContainer"),n=Me.current;n&&(e.style.display="none",n.style.display="none",t.style.display="none",De.current.style.display="flex")},nn=()=>{We((e=>Math.min(e+.05,3)));const e=Ge.current;if(e){const t=e.scrollTop,n=e.scrollLeft,r=t*Ve,s=n*Ve;e.scrollLeft=s,e.scrollTop=r}},rn=()=>{We((e=>Math.max(e-.05,.5)));const e=Ge.current;if(e){const t=e.scrollTop,n=e.scrollLeft,r=t*Ve,s=n*Ve;e.scrollLeft=s,e.scrollTop=r}};const[sn,An]=(0,s.useState)(!1),[on,an]=(0,s.useState)([]),[ln,cn]=(0,s.useState)(null),un=(0,s.useRef)(null),hn=(0,s.useRef)(null);function dn(e){ln?(e.event_id=e.event_id||crypto.randomUUID(),ln.send(JSON.stringify(e)),an((t=>[e,...t]))):console.error("Failed to send message - no data channel available",e)}(0,s.useEffect)((()=>{ln&&(ln.addEventListener("message",(e=>{an((t=>[JSON.parse(e.data),...t]))})),ln.addEventListener("open",(()=>{An(!0),an([])})))}),[ln]);const pn=e=>{const t=document.getElementById("button-row");if((!t||e.target!==t)&&e.ctrlKey){if(e.target!==Ge.current)return;e.preventDefault(),e.stopPropagation();const n=Ve+(e.deltaY<0?.1:-.1);We(Math.max(n,.5)),t&&(t.style.transform=`scale(${1/n})`)}};(0,s.useEffect)((()=>{const e=Ge.current;null!==e&&e&&e.addEventListener("wheel",pn,{capture:!0});const t=t=>{t.ctrlKey&&t.target===e&&t.preventDefault()};return window.addEventListener("wheel",t,{passive:!1}),()=>{e&&(e.removeEventListener("wheel",pn,{capture:!0}),window.removeEventListener("wheel",t))}}),[Ve]),(0,s.useEffect)((()=>{let e;return fe?e=setInterval((()=>{Se((e=>(e+1)%4))}),500):Ce(`Connect${".".repeat(Te)}\xa0\xa0\xa0`),()=>clearInterval(e)}),[fe]),(0,s.useEffect)((()=>{fe&&(0===Te&&Ce(`Connect${".".repeat(Te)}\xa0\xa0\xa0`),1===Te&&Ce(`Connect${".".repeat(Te)}\xa0\xa0`),2===Te&&Ce(`Connect${".".repeat(Te)}\xa0`),3===Te&&Ce(`Connect${".".repeat(Te)}`))}),[Te,fe]),(0,s.useEffect)((()=>(Ue.current=new Audio(ot),()=>{Ue.current&&(Ue.current.pause(),Ue.current.src="")})),[]),(0,s.useEffect)((()=>{Ue.current&&(Ue.current.playbackRate=L)}),[L]),(0,s.useEffect)((()=>{Ue.current&&(Ue.current.volume=D)}),[D]);const fn=e=>{const t=document.getElementById("captionDisplay");if(t&&t.parentElement){const n=window.getComputedStyle(t).fontSize,r=window.getComputedStyle(t.parentElement).fontSize,s=parseFloat(r),i=parseFloat(n)/s,A=i+e>3?3:i+e<1?1:i+e;t.style.fontSize=`${A}em`}},gn=e=>{let{time:t}=e;const n=Math.floor(t/3600),r=Math.floor(t%3600/60),s=Math.floor(t%60);return n>0?`${n}:${r<10?"0":""}${r}:${s<10?"0":""}${s}`:`${r}:${s<10?"0":""}${s}`},mn=(e,t)=>{e.stopPropagation(),Q(t),console.log(`Speed set to ${t}`)},wn=(e,t)=>{e.stopPropagation(),R(t),console.log(`Speed set to ${t}`)},yn=(e,t,n,r,s)=>{const i=document.getElementById("splitter"),A=document.getElementById("closeKeywords");if("flex"===i.style.display&&A.click(),t===H)return K(""),Ze.current&&Ue.current.removeEventListener("timeupdate",Ze.current),void(tt.current&&Ue.current.removeEventListener("ended",tt.current));if(K(t),Ue.current){Ze.current&&Ue.current.removeEventListener("timeupdate",Ze.current),tt.current&&Ue.current.removeEventListener("ended",tt.current),Jt({pageNumber:s});const e=document.getElementById("pdfFile");e&&(e.data=it+"?t="+(new Date).getTime()+"#page="+s,console.log(e.data)),Ue.current.currentTime=n,b||xe.current&&xe.current.click();const t=((e,t,n)=>()=>{e.currentTime>=n&&(e.currentTime=t,e.play())})(Ue.current,n,r),i=((e,t,n)=>()=>{e.currentTime<n&&(e.currentTime=t,e.play())})(Ue.current,n,r);Ze.current=t,tt.current=i,Ue.current.removeEventListener("timeupdate",t),Ue.current.removeEventListener("ended",i),Ue.current.addEventListener("timeupdate",t),console.log("timeupdate event listener registered"),Ue.current.addEventListener("ended",i),console.log("ended event listener registered"),Ue.current.onpause=()=>{Ue.current&&console.log("event listeners removed")}}},Bn=()=>{const e=wt.current.findIndex(((e,t)=>{const n=wt.current[t+1];return ie>=e.time&&(!n||ie<n.time)})),t=wt.current[e];Ue.current.currentTime=t.time,!b&&xe.current&&xe.current.click()},En=e=>{const t=a.current;t.isConnected()&&t.sendUserMessageContent([{type:"input_text",text:`Translate: the '${e}' into Chinese. only output the chinese translation with one(at least) to five(most) keywords according to your understanding(e.g. words with long length or difficult prouncation should be chosen as keywords). \n          follow bellow format strictly:\n          "{Chinese Translation}" \n -<b>"{keyword1 in English}"</b>\u662f"{Chinese of keyword1}"\u7684\u610f\u601d \n -<b>{keyword2 in English}</b>\u662f{Chinese of keyword2}\u7684\u610f\u601d \n -<b>{keyword3 in English}</b>\u662f{Chinese of keyword3}\u7684\u610f\u601d \n -<b>{keyword4 in English}</b>\u662f{Chinese of keyword4}\u7684\u610f\u601d \n -<b>{keyword5 in English}</b>\u662f{Chinese of keyword5}\u7684\u610f\u601d\n          \n Example:\n          "The cat is on the mat" -> "\u732b\u5728\u57ab\u5b50\u4e0a. \n -"cat"\u662f"\u732b"\u7684\u610f\u601d\n -"mat"\u662f"\u57ab\u5b50"\u7684\u610f\u601d"`}])};(0,s.useEffect)((()=>{de.current=ue}),[ue]);(0,s.useEffect)((()=>{const e=Ue.current;if(!e)return;const t=()=>{e.duration&&(x(e.currentTime/e.duration*100),oe(e.currentTime))},n=()=>{const t=e.currentTime,n=wt.current.findIndex(((e,n)=>{const r=wt.current[n+1];return t>=e.time&&(!r||t<r.time)}));if(-1!==n){const e=wt.current[n],r=wt.current[n+1],s=wt.current[n-1],i=((e,t)=>{const n=e.text.split(" "),r=(t?t-e.time:2)/n.length;return n.map(((t,n)=>({word:t,startTime:e.time+n*r,endTime:e.time+(n+1)*r})))})(e,null===r||void 0===r?void 0:r.time),A=i.find(((e,n)=>t>=e.startTime&&t<e.endTime||0===n&&t<e.endTime));if(A){const e=i.map((e=>e===A?` <span style="border-radius: 4px; color: #00FFFF; display: inline-block; margin: 0 1px;">${e.word}</span> `:` <span style="display: inline; margin: 0 1px;">${e.word}</span> `)).join(" ");de.current?te(e+"<br />"+s.text):te(e)}}},r=()=>{se(e.duration)};return e.addEventListener("timeupdate",t),e.addEventListener("timeupdate",n),e.addEventListener("loadedmetadata",r),()=>{e.removeEventListener("timeupdate",t),e.removeEventListener("timeupdate",n),e.removeEventListener("loadedmetadata",r)}}),[]);const bn=e=>{const t=Me.current,n=window.innerWidth-e.clientX-12,r=n>700?700:n<400?400:n;t&&(t.style.width=`${r}px`);const s=document.getElementById("closeRightArrow");if(s){const e=r+15;s.style.right=`${e}px`}const i=document.getElementById("captionDisplay"),A=window.innerWidth-r-53;ae&&i&&(i.style.width=`${A}px`)};(0,s.useEffect)((()=>(document.addEventListener("mousemove",vn),document.addEventListener("mouseup",Tn),()=>{document.removeEventListener("mousemove",vn),document.removeEventListener("mouseup",Tn)})),[z]);const vn=e=>{const t=document.getElementById(".button-row-top");t&&e.clientY<50&&(t.style.display="flex"),z&&(X&&In(e),$&&bn(e))},Cn=async e=>{const t=document.getElementById("openRightArrow");t&&t.click();const n=a.current;n.isConnected()&&n.sendUserMessageContent([{type:"input_text",text:`wordcard: Show word card about ${e} in a way that is easy and fun for a young child to understand with tone Lighthearted, playful, and encouraging.       \n                  Provide Chinese meaning, part of speech and English phonetic transcription in one line with splitter slash and a new line with two usage examples in English with also their chinese translation for the given word. The two English usage examples should prefer to use the simple words in the sentence. Only output the content and skip the words, e.g. 'Chinese meaning:', 'Part of speech:' or 'English phonetic transcription:'.\n                  The output should follow the format:\n                  <b>${e}</b>: {chinese meaning1};{chinese meaning2} / {part of speech} / {International Phonetic Alphabet}<br />\n                  Usage Examples:\n                  - {usage example1 in English} ({chinese translation1})\n                  - {usage example2 in English} ({chinese translation1})\n          `}]);const r=await fetch(`http://localhost:3001/api/recraft/image?magzine=${encodeURIComponent(St)}&word=${e}`);if(r.ok){const e=await r.json(),t=e.imgURL,n=e.prompt;console.log(t),t.includes(" ")?await f.current.updateGenImage(`![Image Could not be loaded](${encodeURIComponent(t)}  "${n}")`):await f.current.updateGenImage(`![Image Could not be loaded](${t} "${n}")`)}},Tn=e=>{W(!1),q(!1),Z(!1);document.getElementById("splitter").style.backgroundColor="lightgray",document.body.style.userSelect="auto";const t=document.getElementById("contextMenu"),n=window.getSelection().toString().trim().replace(/\n/g," ");if(!(n.length>=4096)){if(!n)return e.target!==Sn&&Sn&&(Sn.remove(),Sn=null,clearTimeout(_n)),void(t.contains(e.target)||Zn());if(n&&$t.current){const e=window.getSelection().getRangeAt(0).getBoundingClientRect();t.style.display="block";const r=window.getComputedStyle(t).height;t.style.display="none";const s=e.top+window.scrollY+30+parseFloat(r)<window.innerHeight?e.top+window.scrollY+30:e.top+window.scrollY-30-parseFloat(r),i=e.left+window.scrollX,A=document.getElementById("wordCardLi"),o=document.getElementById("readAloudLi"),l=document.getElementById("translateLi"),c=document.getElementById("explainLi");n.includes(" ")||n.includes("\n")||n.length>15?(A.style.display="none",o.style.display="block",l.style.display="block",c.style.display="none"):(A.style.display="block",o.style.display="block",l.style.display="none",c.style.display="none",A.onclick=async e=>{try{Cn(n)}catch(t){console.error("Error generating image:",t)}}),"block"===o.style.display&&(o.onclick=()=>{const e=a.current;e.isConnected()&&e.sendUserMessageContent([{type:"input_text",text:`Read Aloud: ${n} with slow speed and with clear and encourage tone. only output the read aloud content`}])}),"block"===l.style.display&&(l.onclick=()=>{En(n)}),"block"===c.style.display&&(c.onclick=()=>{const e=document.getElementById("openRightArrow");e&&e.click(),f.current.chatFromExternal(`Explain '${n}'`)});document.getElementById("searchVideosLi").onclick=()=>{const e=document.getElementById("openRightArrow");e&&e.click(),f.current.chatFromExternal(`Search videos about '${n}'`)};document.getElementById("talkAboutSelection").onclick=()=>(async e=>{const t=a.current;if(t.isConnected()&&(t.sendUserMessageContent([{type:"input_text",text:`Hello, I want to talk about '${e}'`}]),!fe&&C)){Fe.current.click(),Zn();const e=document.getElementById("openRightArrow");e&&e.click()}})(n),function(e,t){const n=document.getElementById("contextMenu");n.style.left=`${e}px`,n.style.top=`${t}px`,n.style.display="block",n.onmouseleave=()=>{Jn=setTimeout((()=>{n.style.display="none"}),1e3)},n.onmouseenter=()=>{clearTimeout(Jn)}}(i,s)}}};let _n=null,Sn=null;const In=e=>{const t=Ie.current;if(t){const n=t.getBoundingClientRect(),r=(e.clientX-n.left)/n.width*100;x(r),Ue.current&&(Ue.current.currentTime=r/100*Ue.current.duration)}};function xn(e){const t=e.match(/(?:youtube\.com\/.*v=|youtu\.be\/)([^&]+)/);if(t&&t[1]){return`https://www.youtube.com/embed/${t[1]}`}return null}(0,s.useEffect)((()=>{const e=document.getElementById("closePopup"),t=document.getElementById("popupOverlay"),n=document.getElementById("videoFrame"),r=document.getElementById("searchBox"),s=document.getElementById("flashcardsContainer"),i=document.getElementById("closeKeywords"),A=document.getElementById("floatingKeywords"),o=document.getElementById("openKeywords");return e&&t&&n&&r&&e.addEventListener("click",(()=>{n.src="",t.style.display="none",s&&(s.style.display="none"),r.value=""})),i&&A&&o&&(i.addEventListener("click",(()=>{A.style.display="none",o.style.display="none"})),o.addEventListener("click",(()=>{A.style.display="block",o.style.display="none"}))),()=>{}}),[]),(0,s.useEffect)((()=>{const e=e=>{const t=document.getElementById("searchBox"),n=document.getElementById("chatInputBox"),r=document.getElementById("menuInput"),s=document.getElementById("webRTCMessage");if("Space"===e.code){if(e.target!==n&&e.target!==s&&e.target!==r&&(e.preventDefault(),xe.current)){xe.current.click();const e=o.current;e&&(e.askStop=!0)}}else if("Escape"===e.code){const e=document.getElementById("popupOverlay");if(e){const n=document.getElementById("videoFrame");n&&(n.src="");const r=document.getElementById("imageFrame");r&&(r.src=""),"flex"===e.style.display?e.style.display="none":en(),t.value=""}}else if("ArrowLeft"===e.code){const e=document.getElementById("repeatPreviousLi");e&&e.click()}else if("ArrowRight"===e.code){const e=document.getElementById("repeatForwardLi");e&&e.click()}else if("ArrowDown"===e.code){const e=document.getElementById("repeatCurrentLi");e&&e.click()}else if("Enter"===e.code&&e.target===t){e.preventDefault();const n=t.value.trim();""!==n&&(t&&(t.blur(),kn(n)),Ln(n))}};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[]);const kn=e=>{const t=document.getElementById("searchBox");let n=0;i=setInterval((()=>{n=(n+1)%4,t.value=e+".".repeat(n)}),250)},Fn=e=>{const t=document.getElementById("searchBox");i&&(clearInterval(i),t&&(t.style.color="red",t.value=e))},Un=async()=>{if(!1!==ct){if(Ue.current&&G){if(b)Ue.current.pause();else try{Ue.current.play()}catch(e){console.error("Error playing audio:",e)}v(!b)}if(Le.current&&!G){if(b)Le.current.pause();else try{Le.current.play()}catch(e){console.error("Error playing video:",e)}v(!b)}}};const Ln=async e=>{const t=document.getElementById("searchBox"),n=document.getElementById("popupOverlay"),r=document.getElementById("videoFrame"),s=document.getElementById("imageFrame"),i=document.getElementById("popupContent");Qn(e).then((A=>{if(A.length>0){const o=A[0];console.log(`Title: ${o.title}`),console.log(`Original URL: ${o.url}`);const a=xn(o.url);if(a){console.log(`Embeddable URL: ${a}`),r.src=a,r.style.display="flex",s.style.display="none";const o=document.getElementById("flashcardsContainer");if(o&&(o.style.display="none"),i.className="popup-content-video",n&&(n.style.display="flex",Fn(e),t.style.color="blue",f.current.updateVideo(`<iframe width="100%" height="95%" src="${a}" style={{ borderRadius: '9px'}} allowfullscreen></iframe>`),A.length>1)){const e=xn(A[1].url);e&&f.current.updateVideo(`<iframe width="100%" height="95%" src="${e}" style={{ borderRadius: '9px'}} allowfullscreen></iframe>`)}}else Fn("Error occurred during video search."),console.log("Failed to convert to embeddable URL.")}else Fn("No results found."),console.log("No results found.")})).catch((e=>{Fn("Error occurred during YouTube search"),console.error("Error occurred during YouTube search:",e)}))};async function Qn(e){try{const t=await fetch(`http://localhost:3001/api/serp/videos?q=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const n=await t.json();return console.log("Search results:",n),n.map((e=>({title:e.title,url:e.link})))}catch(t){return console.error("Error in performYoutubeSearch:",t),[{title:"",url:""}]}}const Dn=()=>{const e=document.getElementById("openRightArrow");e&&(e.style.display="none");const t=document.getElementById("closeRightArrow"),n=Me.current;if(t){t.style.display="flex";const e=getComputedStyle(n).width,r=parseInt(e,10)+15;t.style.right=`${r}px`;const s=document.getElementById("captionDisplay"),i=window.innerWidth-r-38;ae&&s&&(s.style.width=`${i}px`);const A=document.getElementById("closeKeywords");A&&A.click()}},On=()=>{ye(!1);const e=document.getElementById("splitter"),t=document.getElementById("chatContainer");var n;"flex"===e.style.display?"none"===t.style.display&&(t.style.display="flex",De.current.style.display="none"):(e.style.display="flex",Me.current.style.display="flex",t.style.display="flex",De.current.style.display="none"),(n=Me.current).scrollTop=n.scrollHeight,Me.current.scrollIntoView({behavior:"smooth"}),Dn()},Rn=async()=>{if(A.current&&a.current){if(C){await Nn();a.current.isConnected()}else await Mn();_(!C)}""!=localStorage.getItem("tmp::voice_api_key")&&a.current.isConnected()&&!Be||_(!0)},Nn=async()=>{const e=a.current;if(e.isConnected()){_(!1);const t=A.current;await t.record((t=>e.appendInputAudio(t.mono)))}else ge(!0),Pn("server_vad")},Mn=async()=>{if(a.current.isConnected()){_(!0);const e=A.current;await e.pause()}},Pn=async e=>{a.current.isConnected()?"none"===e?await Kn():await Hn():"server_vad"===e&&await Hn()},Hn=(0,s.useCallback)((async()=>{const e=a.current;p.current=(new Date).toISOString(),y(w),m(e.conversation.getItems()),m(g),await f.current.updateItems(e.conversation.getItems());try{Ee(!1);const t=hb?"":localStorage.getItem("tmp::voice_api_key")||prompt("OpenAI API Key")||"";if(""!==hb)await e.connect();else if(""!==t){if(localStorage.setItem("tmp::voice_api_key",t),e.updateSession({instructions:_t.current}),e.realtime.apiKey=t,e.isConnected())throw new Error("Already connected, use .disconnect() first");await e.realtime.connect({model:Mt.current}),e.updateSession()}else ge(!1)}catch(t){_(!0),ge(!1),Ee(!0),console.error("Error playing audio:",t)}}),[]),Kn=(0,s.useCallback)((async()=>{E(!1);a.current.disconnect();const e=A.current;await e.end();const t=o.current;await t.interrupt()}),[]);const Gn=(0,s.useCallback)((()=>{const e=prompt("OpenAI API Key");null!==e&&(localStorage.clear(),localStorage.setItem("tmp::voice_api_key",e))}),[]),jn=(0,s.useCallback)((async e=>{a.current.deleteItem(e)}),[]);(0,s.useEffect)((()=>{if(h.current){const e=h.current,t=e.scrollHeight;t!==u.current&&(e.scrollTop=t,u.current=t)}}),[w]),(0,s.useEffect)((()=>{const e=[].slice.call(document.body.querySelectorAll("[data-conversation-content]"));for(const t of e){const e=t;e.scrollTop=e.scrollHeight}}),[g]),(0,s.useEffect)((()=>{let e=!0;const t=A.current,n=l.current;let r=null;const s=o.current,i=c.current;let a=null;const u=()=>{if(e){if(n&&(n.width&&n.height||(n.width=n.offsetWidth,n.height=n.offsetHeight),r=r||n.getContext("2d"),r)){r.clearRect(0,0,n.width,n.height);const e=t.recording?t.getFrequencies("voice"):{values:new Float32Array([0])};k.drawBars(n,r,e.values,"#0099ff",10,0,8)}if(i&&(i.width&&i.height||(i.width=i.offsetWidth,i.height=i.offsetHeight),a=a||i.getContext("2d"),a)){a.clearRect(0,0,i.width,i.height);const e=s.analyser?s.getFrequencies("voice"):{values:new Float32Array([0])};k.drawBars(i,a,e.values,"#009900",10,0,8)}window.requestAnimationFrame(u)}};return u(),()=>{e=!1}}),[]);const Vn=(e,t)=>{e.stopPropagation(),M(t),console.log(`Speed set to ${t}`)};(0,s.useEffect)((()=>{const e=o.current,t=a.current;return t.updateSession({voice:N}),t.updateSession({input_audio_transcription:{model:"whisper-1"}}),t.updateSession({turn_detection:{type:"server_vad"}}),t.addTool({name:"google_search",description:"Performs a Google News search and returns the top 2 results.",parameters:{type:"object",properties:{query:{type:"string",description:"The search query to be used."}},required:["query"]}},(async e=>{let{query:t}=e;return await async function(e){try{const t=await fetch(`http://localhost:3001/api/serp/news?q=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const n=await t.json();return console.log("Search results:",n),n.map((e=>({title:e.title,url:e.link})))}catch(t){return console.error("Error in performGoogleSearch:",t),[{title:"",url:""}]}}(t)})),t.addTool({name:"youtube_search",description:"Performs a Youtube video search and returns the top 1 results.",parameters:{type:"object",properties:{query:{type:"string",description:"The search query to be used."}},required:["query"]}},(async e=>{let{query:t}=e;const n=document.getElementById("searchBox");if(n){n.value=t;let e=0;const r=3;i=setInterval((()=>{e=(e+1)%(r+1),n.value=t+".".repeat(e)}),250)}return await Ln(t),fe||C||Fe.current.click(),{ok:!0}})),t.addTool({name:"selection_analyze",description:"Show word card",parameters:{type:"object",properties:{selection:{type:"string",description:"word selected"}},required:["selection"]}},(async e=>{let{selection:t}=e;return Cn(t),{ok:!0}})),t.addTool({name:"ask_deepseek",description:"Ask DeepSeek a question by provided prompt\n            #Details\n            - Note that this function call can take up to 10 seconds, so please provide small updates to the user every few seconds, like 'I just need a little more time'\n          ",parameters:{type:"object",properties:{prompt:{type:"string",description:"prompt for asking DeepSeek"}},required:["prompt"]}},(async e=>{let{prompt:t}=e;const n=await(async e=>{try{const t=e,n=await fetch(`http://localhost:3001/api/deepseek/chat?q=${encodeURIComponent(t)}`);if(!n.ok)return null;const r=await n.json();return console.log(r),r}catch(t){console.log("there is error during chat in Function Call: Ask DeepSeek")}})(t);return n?{ok:!0,deepSeekResponse:n,replyByYourself:"No, reply directly with deepseek reply starting by Here is the deepseek reply:"}:{ok:!1,deepSeekResponse:"No response available from DeepSeek",replyByYourself:"Yes, you can try to answer the question by yourself starting by Here is my reply due to DeepSeek unavailable now:"}})),t.addTool({name:"image_creation",description:"Create an image or a picture by provided prompt",parameters:{type:"object",properties:{prompt:{type:"string",description:"prompt for image/picture creation"}},required:["prompt"]}},(async e=>{let{prompt:t}=e;return(async e=>{const t=await fetch(`http://localhost:3001/api/recraft/image_prompt?magzine=${encodeURIComponent(St)}&word=${e}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);console.log("after image request");const n=await t.json(),r=n.imgURL,s=n.prompt;console.log(r),await f.current.updateGenImage(`![Image Could not be loaded](${r} "${s}")`)})(t),{ok:!0}})),t.addTool({name:"audio_control",description:"Voice control the on-going playback. e.g. stop the audio, speed up or down the audio",parameters:{type:"object",properties:{context:{type:"string",description:"additional information to control the audio"},command:{type:"string",description:"commoand to control the audio"}},required:["context","command"]}},(async e=>{let{context:t,command:n}=e;const r=o.current;if(r.askStop=!1,"pause"===n)r.askStop=!0;else if("resume"===n)r.askStop=!1;else if("speed"===n)"up"===t?Q(L+.25):"down"===t?Q(L-.25):"normal"===t&&Q(1);else if("skip"===n)Ue.current&&("forward"===t?Ue.current.currentTime+=10:"backward"===t?(Ue.current.currentTime-=10,Ue.current.currentTime<0&&(Ue.current.currentTime=0)):"start"==t&&(Ue.current.currentTime=0));else if("volume"===n)Ue.current&&("up"===t?Ue.current.volume=Math.min(Ue.current.volume+.1,1):"down"===t&&(Ue.current.volume=Math.max(Ue.current.volume-.5,0)));else if("peek"===n&&Ue.current)return{ok:!0,currentTime:Ue.current.currentTime,duration:Ue.current.duration};return{ok:!0}})),t.addTool({name:"translation_current_sentence",description:"translate the current sentence to the target language, by default, it is Chinese if not specified target language",parameters:{type:"object",properties:{target_lan:{type:"string",description:"target language"}}}},(async e=>{let{target_lan:t}=e;return Ue.current?null===t?{ok:!0,target_lan:"zh",currentTime:Ue.current.currentTime,duration:Ue.current.duration}:{ok:!0,target_lan:t,currentTime:Ue.current.currentTime,duration:Ue.current.duration}:{ok:!1,info:"No audio file is playing"}})),t.addTool({name:"learn_by_keyword",description:"learn the content of the audio by the keyword",parameters:{type:"object",properties:{keyword:{type:"string",description:"topic keyword to learn/explore"}}}},(async e=>{let{keyword:t}=e;if(t in bt.current){const e=bt.current[t];return[e[0],e[1]]}return{ok:!1,info:"No such a keyword"}})),t.addTool({name:"feedback_collection",description:"Collect feedback from the user. e.g. feedback on the company AI first strategy...",parameters:{type:"object",properties:{title:{type:"string",description:"feedback title"},content:{type:"string",description:"feedback content"}},required:["title","content"]}},(async e=>{let{title:t,content:n}=e;return{ok:!0,info:"Thanks for your feedback"}})),t.addTool({name:"get_stock_price",description:"Retrieves the latest stock price for a given comppany. ",parameters:{type:"object",properties:{company:{type:"string",description:"Name of the company"}},required:["company"]}},(async e=>{let{company:t}=e;return{ok:!0,date:"2024-10-25",company:"SAP",price:237.69,currency:"USD"}})),t.addTool({name:"send_mail",description:"help the user to send the mail to a specific Recipient",parameters:{type:"object",properties:{title:{type:"string",description:"feedback title"},content:{type:"string",description:"feedback content"},to:{type:"string",description:"mail receiver"}},required:["query"]}},(async e=>{let{title:t,content:n}=e;return{ok:!0,info:"Thanks for mail"}})),t.on("realtime.event",(e=>{y((t=>{const n=t[t.length-1];return(null===n||void 0===n?void 0:n.event.type)===e.event.type?(n.count=(n.count||0)+1,t.slice(0,-1).concat(n)):t.concat(e)}))})),t.on("error",(e=>{console.error(e)})),t.on("conversation.interrupted",(async()=>{const n=await e.interrupt();if(null!==n&&void 0!==n&&n.trackId){const{trackId:e,offset:r}=n;await t.cancelResponse(e,r)}})),t.on("conversation.updated",(async n=>{var r;let{item:s,delta:i}=n;e.setItemStatus(s.status),e.isHidden=G;const A=t.conversation.getItems();if(null!==i&&void 0!==i&&i.audio&&e.add16BitPCM(i.audio,s.id),"completed"===s.status&&null!==(r=s.formatted.audio)&&void 0!==r&&r.length){const e=await I.decode(s.formatted.audio,24e3,24e3);s.formatted.file=e}m(A),await f.current.updateItems(A)})),t.on("conversation.item.completed",(e=>{let{item:t}=e;"function_call"===t.type&&console.log("function call completed",t)})),t.realtime.on("server.error",(()=>{console.error("Error from server")})),t.realtime.on("server.input_audio_buffer.speech_started",(()=>{Ue.current&&(Ue.current.pause(),v(!1)),Le.current&&(Le.current.pause(),v(!1))})),t.realtime.on("server.conversation.item.created",(async e=>{const{item:n,delta:r}=t.conversation.processEvent(e);await f.current.updateItems(t.conversation.getItems()),await f.current.updateItemID(n.id)})),t.realtime.on("server.session.created",(async()=>{const e=setInterval((()=>{"paused"===A.current.getStatus()&&(clearInterval(e),ge(!1))}),100),t=A.current,n=o.current;null===t.processor&&await t.begin(),await n.connect(Ue.current,Le.current,v,Bn),n.askStop=!0,E(!0)})),m(t.conversation.getItems()),f.current.updateItems(t.conversation.getItems()),()=>{t.reset()}}),[]);const zn=e=>{const t=Oe.current;if(t){const n=t.getBoundingClientRect();t.dragOffsetX=e.clientX-n.left,t.dragOffsetY=e.clientY-n.top}},Wn=e=>{if(0===e.clientX&&0===e.clientY)return;const t=Oe.current;t&&(t.style.left=e.clientX-t.dragOffsetX+"px",t.style.top=e.clientY-t.dragOffsetY+"px")},Yn=(0,s.useCallback)((async()=>{E(!1),y([]),m([]),await f.current.updateItems([]);a.current.disconnect();const e=A.current;await e.end();const t=o.current;await t.interrupt(),ge(!1),_(!0)}),[]),Xn=async()=>{Yn()},qn=async()=>{Fe.current&&Fe.current.click()},$n=()=>{a.current&&a.current.isConnected()||(E(!1),A.current&&A.current.processor&&Xn())};let Jn=null;function Zn(){const e=document.getElementById("contextMenu");document.getElementById("menuInput").value="",e.style.display="none"}(0,s.useEffect)((()=>{const e=setInterval($n,3e3);return()=>{clearInterval(e)}}),[a.current]);return(0,Vt.jsxs)("div",{"data-component":"ConsolePage",children:[(0,Vt.jsx)("div",{id:"popupOverlay",className:"popup-overlay",children:(0,Vt.jsxs)("div",{id:"popupContent",className:"popup-content-chat",children:[(0,Vt.jsx)("span",{id:"closePopup",className:"close-button",children:(0,Vt.jsx)(O,{})}),(0,Vt.jsxs)("div",{id:"flashcardsContainer",style:{display:"none",width:"100%",height:"100%",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"lightgrey"},children:[" ",(0,Vt.jsx)(HE,{cards:Ht,realtimeClient:a.current})]}),(0,Vt.jsx)("iframe",{id:"videoFrame",width:"800",height:"450",src:"",allow:"fullscreen",allowFullScreen:!0,style:{display:"none"}}),(0,Vt.jsx)("img",{id:"imageFrame",src:"",alt:"Image",onDoubleClick:()=>{const e=document.getElementById("popupOverlay"),t=document.getElementById("imageFrame");"flex"===e.style.display&&(e.style.display="none",t.style.display="none",t.src="")},style:{display:"none",borderRadius:"8px"}})]})}),(0,Vt.jsx)("div",{id:"wordCard",style:{position:"absolute",display:"none"}}),(0,Vt.jsx)("div",{id:"contextMenu",style:{position:"absolute",display:"none"},children:(0,Vt.jsxs)("ul",{children:[(0,Vt.jsx)("li",{id:"wordCardLi",children:"Word Card/\u8bcd\u5361"}),(0,Vt.jsx)("li",{id:"readAloudLi",children:"Read Aloud/\u6717\u8bfb"}),(0,Vt.jsx)("li",{id:"translateLi",children:"Translate/\u7ffb\u8bd1"}),(0,Vt.jsx)("li",{id:"explainLi",children:"Explain/\u89e3\u91ca\u4e00\u4e0b"}),(0,Vt.jsx)("li",{id:"searchVideosLi",children:"Youtube\u76f8\u5173\u89c6\u9891\u63a8\u8350"}),(0,Vt.jsx)("li",{style:{display:"none"},children:"Search the web"}),(0,Vt.jsx)("li",{id:"talkAboutSelection",children:"Deep Dive/\u6df1\u5165\u4e86\u89e3"}),(0,Vt.jsx)("li",{children:(0,Vt.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=document.getElementById("menuInput");t&&t.value.trim()&&(f.current.chatFromExternal(t.value.trim()),t.value="",Zn(),On())},children:[(0,Vt.jsx)("input",{id:"menuInput",placeholder:"Ask me anything...",style:{marginRight:"5px"}}),(0,Vt.jsx)("button",{type:"submit",children:"Ask"})]})})]})}),(0,Vt.jsx)("div",{id:"openKeywords",className:"floating-open-button",onClick:()=>{},style:{display:"none"},title:"Selec a Keyword to dive in",children:(0,Vt.jsx)(P,{style:{width:"18px",height:"18px"}})}),(0,Vt.jsxs)("ul",{id:"floatingKeywords",className:"floating-keywords",style:{display:"none"},children:[(0,Vt.jsx)("span",{id:"closeKeywords",className:"close-button-keywords",children:(0,Vt.jsx)(O,{})}),(0,Vt.jsxs)("div",{style:{position:"absolute",top:"10px",left:"10px",zIndex:"9990",fontWeight:"bold",userSelect:"none"},title:"Select a keyword to dive in",children:["Keywords",(0,Vt.jsx)(j,{style:{width:"15px",height:"15px"}})]}),(0,Vt.jsx)("br",{}),Object.entries(bt.current).map(((e,t)=>{let[n,[r,s,i]]=e;return 0!==i&&(0,Vt.jsxs)("li",{className:"hover-effect "+(H===n?"active":""),style:{borderRadius:"0.3125em",whiteSpace:"nowrap"},onClick:e=>yn(0,n,r,s,i),children:[t+1,".",n," "]},t)}))]}),(0,Vt.jsxs)("ul",{className:"floating-captionsize",style:{display:!ae&&"none"},children:[(0,Vt.jsx)("li",{onClick:Bn,id:"repeatCurrentLi",title:"Repeat current caption",children:(0,Vt.jsx)(Y,{style:{width:"13px",height:"13px"}})}),(0,Vt.jsx)("li",{onClick:()=>{const e=wt.current.findIndex(((e,t)=>{const n=wt.current[t+1];return ie>=e.time&&(!n||ie<n.time)}));if(e>0){const t=wt.current[e-1];Ue.current.currentTime=t.time}},id:"repeatPreviousLi",children:(0,Vt.jsx)(J,{style:{width:"13px",height:"13px"}})}),(0,Vt.jsx)("li",{onClick:()=>{const e=wt.current.findIndex(((e,t)=>{const n=wt.current[t+1];return ie>=e.time&&(!n||ie<n.time)}));if(e>0){const t=wt.current[e+1];t&&(Ue.current.currentTime=t.time)}},id:"repeatForwardLi",children:(0,Vt.jsx)(ne,{style:{width:"13px",height:"13px"}})}),(0,Vt.jsx)("li",{onClick:()=>{he(!ue)},title:"Translation",children:(0,Vt.jsx)(Ae,{style:{width:"13px",height:"13px"}})}),(0,Vt.jsx)("li",{onClick:()=>fn(.1),children:(0,Vt.jsx)(ce,{style:{width:"13px",height:"13px"}})}),(0,Vt.jsx)("li",{onClick:()=>fn(-.1),children:(0,Vt.jsx)(pe,{style:{width:"13px",height:"13px"}})})]}),(0,Vt.jsx)("div",{className:"floating-button",ref:Oe,onMouseDown:zn,onMouseMove:Wn,style:{display:"none"},children:(0,Vt.jsx)(jB,{style:{height:"10px"},label:"WebRTC Test",buttonStyle:"flush",className:"button"})}),g.length<0&&!ae&&(0,Vt.jsx)("div",{className:"floating-button",ref:Oe,onMouseDown:zn,onMouseMove:Wn,children:(0,Vt.jsx)(jB,{style:{height:"10px"},label:"Conversation List",buttonStyle:"flush",onClick:()=>{ye(!1);const e=document.getElementById("splitter"),t=document.getElementById("chatContainer");"flex"===e.style.display?"none"===De.current.style.display&&(t.style.display="none",De.current.style.display="flex"):(e.style.display="flex",Me.current.style.display="flex",t.style.display="none",De.current.style.display="flex"),Dn()},className:"button"})}),(0,Vt.jsxs)("div",{className:"top-hover-area",children:[(0,Vt.jsx)("div",{className:"arrowdown",style:{display:"none"}}),(0,Vt.jsxs)("div",{id:"button-row-top",className:"button-row-top",children:[(0,Vt.jsxs)("div",{style:{display:"none"},children:[(0,Vt.jsx)(we,{style:{width:"20px",height:"20px",marginLeft:"2px",cursor:"pointer"},onClick:nn}),(0,Vt.jsx)(be,{style:{width:"20px",height:"20px",marginLeft:"2px",cursor:"pointer"},onClick:rn})]}),(0,Vt.jsx)(jB,{style:{height:"10px"},label:"",icon:we,buttonStyle:"flush",onClick:nn,className:"button"}),(0,Vt.jsx)(jB,{style:{height:"10px"},label:"",icon:be,buttonStyle:"flush",onClick:rn,className:"button"}),(0,Vt.jsx)(jB,{style:{height:"10px"},label:"",icon:_e,buttonStyle:"flush",onClick:Zt,className:"button",title:$e?"Single Page View":"Two Page View"}),(0,Vt.jsx)("div",{title:$e?"Single Page View":"Two Page View",style:{display:"none"},children:(0,Vt.jsx)(_e,{style:{width:"20px",height:"20px",marginLeft:"2px",cursor:"pointer"},onClick:Zt})}),(0,Vt.jsxs)("div",{className:"magzine-title",style:{height:"25px",justifyContent:"center",marginLeft:"auto",marginRight:"auto",userSelect:"none"},children:[(0,Vt.jsx)("img",{id:"imgRecraft",src:"./resource/ngl.png",width:"70px",height:"20px",style:{marginRight:"5px"}}),St]}),(0,Vt.jsx)(jB,{style:{height:"10px",display:"none"},label:"WebRTC Test",onClick:async()=>{const e=new(0,globalThis.WebSocket)("http://localhost:8081");e.addEventListener("message",(e=>{const t=JSON.parse(e.data);console.log(t)})),e.onopen=()=>{console.log("Connected to local relay server: http://localhost:8081"),e.send(JSON.stringify("hello, this is a test"))}}}),(0,Vt.jsxs)("div",{className:"right-buttons",style:{userSelect:"none"},children:[(0,Vt.jsx)("div",{children:(0,Vt.jsx)(jB,{label:B?"Disconnect":fe?ve:"Connect\xa0\xa0\xa0",iconPosition:B?"end":"start",icon:B?O:ke,disabled:fe,onClick:B?Xn:qn})}),(0,Vt.jsx)("div",{className:"content-api-key",style:{display:"none"},children:!hb&&(0,Vt.jsx)(jB,{icon:_e,iconPosition:"end",buttonStyle:"flush",label:"\xa0",title:"Reset the OpenAI API Key",onClick:()=>Gn()})})]})]})]}),(0,Vt.jsxs)("div",{className:"content-main",ref:Re,children:[(0,Vt.jsx)("div",{style:{display:"none"},children:(0,Vt.jsx)(WE,{pdfFilePath:it})}),(0,Vt.jsxs)("div",{id:"pdfContainer",style:{display:"flex",position:"relative",margin:"0 auto",width:"100%",overflowY:"auto",scrollbarWidth:"auto",top:"0px"},children:[(0,Vt.jsx)("div",{className:"top-floating-line"}),(0,Vt.jsx)("div",{ref:Ge,style:{margin:"0 auto",width:"100%",overflowY:"auto",scrollbarWidth:"none",top:"0px",backgroundColor:"white",transform:`scale(${Ve})`,transformOrigin:"top center"},children:(0,Vt.jsx)(qo,{file:it,onLoadSuccess:function(e){let{numPages:t}=e;He(t),je.current=Array(t).fill(null).map(((e,t)=>je.current[t]||s.createRef()))},children:(e=>{if(!$e)return e.map((e=>[e]));const t=[];e.includes(1)&&(t.push([1]),e=e.filter((e=>1!==e)));for(let n=0;n<e.length;n+=2)t.push([e[n],n+1<e.length?e[n+1]:null].filter(Boolean));return t})(Ye).map(((e,t)=>(Dt.current[`pair_${t}`]||(Dt.current[`pair_${t}`]=s.createRef()),(0,Vt.jsxs)("div",{ref:Dt.current[`pair_${t}`],style:{display:"flex",justifyContent:"center",gap:$e?"0px":"10px",marginBottom:"5px",margin:"8px auto",width:"fit-content",position:"relative"},onMouseDown:e=>{e.ctrlKey?(document.body.style.userSelect="none",Lt.current={x:e.clientX,y:e.clientY},Ft(!0),zt({x:e.clientX,y:e.clientY,width:0,height:0,pairIndex:t})):zt({x:0,y:0,width:0,height:0,pairIndex:0})},onMouseMove:e=>{kt&&zt((t=>({...t,x:Math.min(e.clientX,Lt.current.x),y:Math.min(e.clientY,Lt.current.y),width:Math.abs(e.clientX-Lt.current.x),height:Math.abs(e.clientY-Lt.current.y)})))},onMouseUp:e=>{Ft(!1),e.ctrlKey&&(document.body.style.userSelect="auto",Gt.width>10&&Gt.height>10&&Yt(Gt))},children:[e.map((e=>(0,Vt.jsx)("div",{ref:je.current[e],style:{flexShrink:0,margin:0},children:(0,Vt.jsx)(ga,{pageNumber:e,renderTextLayer:!0,renderAnnotationLayer:!0,onLoadSuccess:()=>(e=>{let{pageNumber:t}=e;console.log(`Page ${t} loaded successfully.`),Xe((e=>{const n=[...e];if($e)if(1===t)e.includes(2)||n.push(2),e.includes(3)||n.push(3);else{const r=Math.min(t+2,Pe||0),s=Math.min(t+3,Pe||0);e.includes(r)||n.push(r),e.includes(s)||n.push(s)}else{const r=Math.min(t+1,Pe||0);e.includes(r)||n.push(r)}return n}))})({pageNumber:e}),loading:(0,Vt.jsxs)("p",{children:["Loading page ",e,"..."]}),width:$e?430:860})},`page_${e}`))),Gt.pairIndex===t&&(0,Vt.jsx)(Wt,{box:Gt,containerRef:Dt.current[`pair_${t}`]})]},`pair_${t}`))))})})]}),(0,Vt.jsxs)("div",{className:"button-container",children:[(0,Vt.jsx)("div",{id:"openRightArrow",className:"close-icon-right",onClick:On,style:{display:"flex"},children:(0,Vt.jsx)(Qe,{style:{width:"18px",height:"18px"}})}),(0,Vt.jsx)("div",{className:"tooltip1",children:(0,Vt.jsx)("span",{children:"Open Sidebar"})})]}),(0,Vt.jsx)("div",{id:"closeRightArrow",className:"close-icon-left",onClick:en,style:{display:"none"},children:(0,Vt.jsx)(Ne,{style:{width:"18px",height:"18px"}})}),(0,Vt.jsx)("div",{id:"splitter",className:"splitter",onMouseDown:e=>{W(!0),Z(!0),bn(e.nativeEvent),document.body.style.userSelect="none";document.getElementById("splitter").style.backgroundColor="#696969"},style:{display:"none"}}),(0,Vt.jsxs)("div",{className:"content-right",ref:Me,style:{display:"none"},children:[(0,Vt.jsx)("div",{id:"chatContainer",style:{display:"none"},children:(0,Vt.jsx)(kE,{functionCallHandler:async e=>{var t;const n=JSON.parse(e.function.arguments);return"get_video"===(null===e||void 0===e||null===(t=e.function)||void 0===t?void 0:t.name)?Qn(n.query).then((e=>{if(e.length>0){const t=xn(e[0].url);return t?`<iframe width="100%" height="60%" src="${t}" style={{ borderRadius: '9px'}} allowfullscreen></iframe></div><div><iframe width="100%" height="60%" src="${t}" style={{ borderRadius: '9px'}} allowfullscreen></iframe>`:"Failed to convert to embeddable URL."}return"No results found."})).catch((e=>"Error occurred during YouTube search")):""},realtimeClient:a.current,getIsMuted:()=>C,ref:f})}),(0,Vt.jsxs)("div",{className:"content-main",ref:De,style:{display:"none"},children:[(0,Vt.jsx)("main",{className:"absolute top-16 left-0 right-0 bottom-0",style:{display:"none"},children:(0,Vt.jsx)("section",{className:"absolute top-0 left-0 right-[380px] bottom-0 flex",children:(0,Vt.jsx)("section",{className:"absolute h-32 left-0 right-0 bottom-0 p-4",children:(0,Vt.jsx)(lb,{startSession:async function(){const e=await fetch("http://localhost:3001/api/session"),t=(await e.json()).client_secret.value,n=new RTCPeerConnection;hn.current=document.createElement("audio"),hn.current.autoplay=!0,n.ontrack=e=>hn.current.srcObject=e.streams[0];const r=await navigator.mediaDevices.getUserMedia({audio:!0});n.addTrack(r.getTracks()[0]);const s=n.createDataChannel("oai-events");cn(s);const i=await n.createOffer();await n.setLocalDescription(i);const A=await fetch("https://api.openai.com/v1/realtime?model=gpt-4o-mini-realtime-preview-2024-12-17",{method:"POST",body:i.sdp,headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/sdp"}}),o={type:"answer",sdp:await A.text()};await n.setRemoteDescription(o),un.current=n},stopSession:function(){ln&&ln.close(),un.current&&un.current.close(),An(!1),cn(null),un.current=null},sendClientEvent:dn,sendTextMessage:function(e){dn({type:"conversation.item.create",item:{type:"message",role:"user",content:[{type:"input_text",text:e}]}}),dn({type:"response.create"})},serverEvents:on,isSessionActive:sn})})})}),(0,Vt.jsx)("div",{className:"content-logs",style:{display:"none"},children:(0,Vt.jsx)("div",{className:"content-block conversation",children:(0,Vt.jsxs)("div",{className:"content-block-body","data-conversation-content":!0,children:[!g.length&&"Conversation List",g.map(((e,t)=>{var n;return(0,Vt.jsxs)("div",{className:"conversation-item",children:[(0,Vt.jsxs)("div",{className:`speaker ${e.role||""}`,children:[(0,Vt.jsx)("div",{children:(e.role||e.type).replaceAll("_"," ")}),(0,Vt.jsx)("div",{className:"close",onClick:()=>jn(e.id),children:(0,Vt.jsx)(O,{})})]}),(0,Vt.jsxs)("div",{className:"speaker-content",children:["function_call_output"===e.type&&(0,Vt.jsx)("div",{children:e.formatted.output}),!!e.formatted.tool&&(0,Vt.jsxs)("div",{children:[e.formatted.tool.name,"(",e.formatted.tool.arguments,")"]}),!e.formatted.tool&&"user"===e.role&&(0,Vt.jsx)("div",{children:e.formatted.transcript||(null!==(n=e.formatted.audio)&&void 0!==n&&n.length?"(awaiting transcript)":e.formatted.text||"(item sent)")}),!e.formatted.tool&&"assistant"===e.role&&(0,Vt.jsx)("div",{children:e.formatted.transcript||e.formatted.text||"(truncated)"}),e.formatted.file&&(console.log("Audio URL:",e.formatted.file.url),(0,Vt.jsx)("audio",{src:e.formatted.file.url,controls:!0}))]})]},e.id)}))]})})})]})]})]}),(0,Vt.jsxs)("div",{id:"button-row",className:"button-row",children:[(0,Vt.jsxs)("div",{className:"captionsize-container",style:{display:"none"},children:[(0,Vt.jsxs)("div",{style:{pointerEvents:ae?"auto":"none"},children:[(0,Vt.jsx)("div",{className:"captionFont",style:{cursor:"pointer"},onClick:()=>{fn(.1)},children:"+"}),(0,Vt.jsx)("div",{className:"captionFont",style:{cursor:"pointer"},onClick:()=>{fn(-.1)},children:"-"})]}),(0,Vt.jsx)("div",{className:"captionsize",style:{display:ae?"none":"flex"},children:"Show caption to adjust it's size"})]}),ae&&(0,Vt.jsx)("div",{id:"captionDisplay",className:"caption-display",dangerouslySetInnerHTML:{__html:ee},style:{fontSize:"2.95em",marginTop:"20px",width:`${F}%`,opacity:"1"},onClick:()=>{}}),(0,Vt.jsx)("div",{className:"content-caption",style:{userSelect:"none"},children:(0,Vt.jsx)(jB,{label:ae?"Hide Caption":"Show Caption",buttonStyle:"regular",iconPosition:"start",icon:Ke,onClick:()=>{le(!ae);const e=Me.current;if(e){const t=getComputedStyle(e).width,n=parseInt(t,10)+15,r=window.innerWidth-n-38;"none"===Me.current.style.display?U(96):U(r/window.innerWidth*100)}},disabled:!dt,className:"button"})}),(0,Vt.jsx)("button",{ref:xe,onClick:Un,className:"hidden-button"}),(0,Vt.jsxs)("div",{className:"tooltip-container",style:{userSelect:"none"},children:[(0,Vt.jsx)(jB,{label:b?"Pause":"Play\xa0",iconPosition:"start",icon:b?ze:qe,buttonStyle:"regular",onClick:Un,disabled:!ct,className:"button"}),(0,Vt.jsxs)("div",{className:"tooltip",style:{display:ae?"none":"flex"},children:[(0,Vt.jsxs)("span",{children:["Press Space(\u7a7a\u683c\u952e) to ",(0,Vt.jsxs)(Vt.Fragment,{children:[" ",b?"Pause":"Play"," "]})," the on-going Audio"]}),(0,Vt.jsx)("br",{})]})]}),(0,Vt.jsxs)("div",{ref:Ie,style:{position:"relative",width:"55%",backgroundColor:"#ccc",height:"0.625em",borderRadius:"0.3125em",marginTop:"0.2em",marginLeft:"-1px",userSelect:"none"},onMouseDown:ct?e=>{W(!0),q(!0),In(e.nativeEvent),Ue.current&&(Ze.current&&Ue.current.removeEventListener("timeupdate",Ze.current),tt.current&&Ue.current.removeEventListener("ended",tt.current))}:void 0,children:[(0,Vt.jsx)("div",{style:{width:`${S}%`,backgroundColor:"#007bff",height:"0.625em",borderRadius:"0.3125em"}}),(0,Vt.jsxs)("div",{className:"speed-controls",onMouseDown:e=>{e.stopPropagation()},children:[(0,Vt.jsx)("div",{}),(0,Vt.jsx)(et,{style:{width:"17px",height:"17px"}}),(0,Vt.jsx)("div",{className:"speed-control",style:{backgroundColor:.85===L?"#666":"#ccc",color:.85===L?"#fff":"#000",borderRadius:"0.3125em"},onClick:e=>mn(e,.85),children:"Slower"}),(0,Vt.jsx)("div",{className:"speed-control",style:{backgroundColor:1===L?"#666":"#ccc",color:1===L?"#fff":"#000",borderRadius:"0.3125em"},onClick:e=>mn(e,1),children:"Normal"}),(0,Vt.jsx)("div",{className:"speed-control",style:{backgroundColor:1.2===L?"#666":"#ccc",color:1.2===L?"#fff":"#000",borderRadius:"0.3125em"},onClick:e=>mn(e,1.2),children:"Faster"}),(0,Vt.jsx)("div",{children:(0,Vt.jsx)("span",{className:"separator",children:"|"})}),(0,Vt.jsx)(st,{style:{width:"17px",height:"17px"}}),(0,Vt.jsx)("div",{className:"speed-control",style:{backgroundColor:.5===D?"#666":"#ccc",color:.5===D?"#fff":"#000",borderRadius:"0.3125em"},onClick:e=>wn(e,.5),children:"Lower"}),(0,Vt.jsx)("div",{className:"speed-control",style:{backgroundColor:.75===D?"#666":"#ccc",color:.75===D?"#fff":"#000",borderRadius:"0.3125em"},onClick:e=>wn(e,.75),children:"Normal"}),(0,Vt.jsx)("div",{className:"speed-control",style:{backgroundColor:1===D?"#666":"#ccc",color:1===D?"#fff":"#000",borderRadius:"0.3125em"},onClick:e=>wn(e,1),children:"Louder"}),(0,Vt.jsx)("div",{children:(0,Vt.jsx)("span",{className:"separator",children:"|"})}),(0,Vt.jsx)("div",{title:"Show Flashcards",children:(0,Vt.jsx)(at,{color:"blue",style:{width:"17px",height:"17px"},onClick:()=>{const e=document.getElementById("popupOverlay"),t=document.getElementById("flashcardsContainer"),n=document.getElementById("videoFrame"),r=document.getElementById("imageFrame"),s=document.getElementById("popupContent");if(!e||!t)return;if("flex"===e.style.display&&"flex"===t.style.display)return t.style.display="none",void(e.style.display="none");s.className="popup-content-flashcards",t.style.display="flex",n&&(n.style.display="none"),r&&(r.style.display="none"),e.style.display="flex"}})}),(0,Vt.jsx)("div",{children:(0,Vt.jsx)("span",{className:"separator",children:"|"})}),(0,Vt.jsx)("div",{title:"Have a Quiz",children:(0,Vt.jsx)(ht,{color:"red",style:{width:"17px",height:"17px"}})}),(0,Vt.jsx)("div",{children:(0,Vt.jsx)("span",{className:"separator",style:{userSelect:"none",display:qt?"flex":"none"},children:"|"})}),(0,Vt.jsxs)("div",{className:"tooltip-container",style:{userSelect:"none",display:qt?"flex":"none"},children:[(0,Vt.jsx)("div",{title:""===H?"Select a Keyword to Dive in":"",children:(0,Vt.jsx)(P,{color:"blue",style:{width:"17px",height:"17px"}})}),(0,Vt.jsx)("div",{className:"tooltip",style:{backgroundColor:"rgb(255, 255, 255, 1)",width:"auto",height:"auto"},children:(0,Vt.jsx)("ul",{style:{listStyle:"none",marginLeft:"10px",textAlign:"left",padding:"0px"},children:Object.entries(bt.current).map(((e,t)=>{let[n,[r,s,i]]=e;return 0!==i&&(0,Vt.jsxs)("li",{className:"hover-effect "+(H===n?"active":""),style:{borderRadius:"0.3125em",whiteSpace:"nowrap",textAlign:"left",fontSize:"1.5em",cursor:"pointer",marginRight:"20px",marginLeft:"10px"},onClick:e=>yn(0,n,r,s,i),children:[t+1,".",n]},t)}))})})]}),(0,Vt.jsx)("div",{className:"speed-control",style:{display:""===H?"none":"flex",backgroundColor:""!==H?"#666":"#ccc",color:""!==H?"#fff":"#000",borderRadius:"0.3125em"},onClick:e=>(e=>{e.stopPropagation(),K(""),Ze.current&&Ue.current.removeEventListener("timeupdate",Ze.current),tt.current&&Ue.current.removeEventListener("ended",tt.current);const t=document.getElementById("closeKeywords");t&&t.click()})(e),title:"Clear Keyword Play Looping",children:""===H?"Select a Keyword to Dive in":H}),(0,Vt.jsx)("div",{style:{position:"fixed",transform:"translateX(41.5em)",bottom:"1px"},children:(0,Vt.jsx)("input",{id:"searchBox",type:"text",className:"dynamic-searchBox",placeholder:"Type and Press Enter to Search a Video",style:{display:"none"},onFocus:()=>{const e=document.getElementById("searchBox");e.value="",e.style.color="blue"}})})]}),(0,Vt.jsx)("div",{style:{position:"absolute",top:"-2em",left:`${S}%`,transform:"translateX(-20%)",backgroundColor:"rgba(255, 255, 255, 0)",color:"rgba(0, 0, 0, 0.7)",padding:"0.3125em",borderRadius:"0.3125em",fontSize:"0.9em"},children:gn({time:ie})}),(0,Vt.jsx)("div",{className:"audio-duration",children:gn({time:re})})]}),(0,Vt.jsx)("button",{id:"muteButtonRef",ref:Fe,onClick:Rn,className:"hidden-button"}),(0,Vt.jsxs)("div",{className:"tooltip-container",children:[(0,Vt.jsx)(jB,{id:"muteButton",label:"",iconPosition:"start",icon:B?C?gt:Bt:ke,buttonStyle:"regular",onClick:Rn}),(0,Vt.jsxs)("div",{className:"tooltip",style:{display:ae&&"none"},children:[(0,Vt.jsxs)("strong",{className:"tooltip-title",children:["Turn ",(0,Vt.jsx)(Vt.Fragment,{children:C?"on":"off"})," microphone"]}),(0,Vt.jsx)("br",{}),!B&&(0,Vt.jsxs)(Vt.Fragment,{children:[" ",(0,Vt.jsx)("span",{className:"highlightred",children:"Conntect First!"})," to have a real time conversation during playback on-going.",(0,Vt.jsx)("br",{}),(0,Vt.jsx)("br",{})," "]}),B&&(0,Vt.jsxs)(Vt.Fragment,{children:[(0,Vt.jsx)("br",{})," "]})]})]}),(0,Vt.jsx)("div",{style:{fontSize:"1em",userSelect:"none",marginLeft:"5px"},children:B?(0,Vt.jsxs)(Vt.Fragment,{children:[" Copilot: ",(0,Vt.jsx)("span",{className:"highlightgreen",children:"On"})," "]}):fe?ve:Be?(0,Vt.jsx)(Vt.Fragment,{children:(0,Vt.jsx)("span",{className:"highlightred",children:"Error Occurred!"})}):(0,Vt.jsxs)(Vt.Fragment,{children:[" Copilot: ",(0,Vt.jsx)("span",{className:"highlightred",children:"Off"})," "]})}),(0,Vt.jsxs)("div",{style:{display:"flex",marginRight:"0px",marginLeft:"auto",justifyContent:"flex-end",zIndex:"9999",userSelect:"none"},children:[(0,Vt.jsx)("div",{title:"Realtime Session Countdown",style:{fontSize:"1em",userSelect:"none",marginRight:"7px"},children:(0,Vt.jsxs)(Vt.Fragment,{children:[(0,Vt.jsx)(FE,{startTime:30})," "]})}),(0,Vt.jsx)("div",{}),(0,Vt.jsxs)("div",{className:"setting-container",style:{display:"flex"},children:[(0,Vt.jsx)(Ct,{style:{width:"20px",height:"20px",marginLeft:"1px",marginRight:"1px"}}),(0,Vt.jsxs)("div",{className:"setting",children:[(0,Vt.jsx)("strong",{className:"setting-title",children:"Setting"}),(0,Vt.jsx)("br",{}),(0,Vt.jsx)("br",{}),(0,Vt.jsxs)("div",{className:"speed-controls",style:{pointerEvents:B?"none":"auto"},onMouseDown:e=>{e.stopPropagation()},children:[(0,Vt.jsxs)("div",{title:"Select a voice to chat",children:[(0,Vt.jsx)(It,{style:{width:"13px",height:"13px"}}),":"]}),(0,Vt.jsx)("div",{className:"speed-control",style:{backgroundColor:"alloy"===N?"#666":"#ccc",color:"alloy"===N?"#fff":"#000",borderRadius:"0.3125em"},onClick:e=>Vn(e,"alloy"),children:"alloy"}),(0,Vt.jsx)("div",{className:"speed-control",style:{backgroundColor:"ash"===N?"#666":"#ccc",color:"ash"===N?"#fff":"#000",borderRadius:"0.3125em"},onClick:e=>Vn(e,"ash"),children:"ash"}),(0,Vt.jsx)("div",{className:"speed-control",style:{backgroundColor:"sage"===N?"#666":"#ccc",color:"sage"===N?"#fff":"#000",borderRadius:"0.3125em"},onClick:e=>Vn(e,"sage"),children:"sage"}),(0,Vt.jsx)("div",{className:"speed-control",style:{backgroundColor:"coral"===N?"#666":"#ccc",color:"coral"===N?"#fff":"#000",borderRadius:"0.3125em"},onClick:e=>Vn(e,"coral"),children:"coral"}),(0,Vt.jsx)("div",{className:"speed-control",style:{backgroundColor:"shimmer"===N?"#666":"#ccc",color:"shimmer"===N?"#fff":"#000",borderRadius:"0.3125em"},onClick:e=>Vn(e,"shimmer"),children:"shimmer"}),(0,Vt.jsx)("div",{className:"speed-control",style:{backgroundColor:"echo"===N?"#666":"#ccc",color:"echo"===N?"#fff":"#000",borderRadius:"0.3125em"},onClick:e=>Vn(e,"echo"),children:"echo"})]}),(0,Vt.jsxs)("div",{className:"speed-controls",children:[(0,Vt.jsxs)("div",{title:"Regenerate Assistant ID",children:[(0,Vt.jsx)(Ut,{style:{width:"13px",height:"13px"}}),":"]}),(0,Vt.jsxs)("div",{children:[null!==(e=null===(t=localStorage.getItem("tmp::asst_id"))||void 0===t?void 0:t.slice(0,5))&&void 0!==e?e:"","..."]})]}),(0,Vt.jsxs)("div",{className:"speed-controls",children:[(0,Vt.jsxs)("div",{title:"Reset API Key",children:[(0,Vt.jsx)(Ot,{style:{width:"13px",height:"13px"},onClick:()=>Gn()}),":"]}),(0,Vt.jsxs)("div",{children:[null!==(n=null===(r=localStorage.getItem("tmp::voice_api_key"))||void 0===r?void 0:r.slice(0,5))&&void 0!==n?n:"","..."]})]}),(0,Vt.jsxs)("div",{className:"speed-controls",children:[(0,Vt.jsxs)("div",{title:"Chat Models",children:[(0,Vt.jsx)(Pt,{style:{width:"13px",height:"13px"}}),":"]}),(0,Vt.jsxs)("select",{id:"Model",name:"Model",onChange:async e=>{const t=e.target.value;"GPT-Realtime"!==t&&"GPT-Realtime-Mini"!==t||(Nt("GPT-Realtime"===t?"gpt-realtime":"gpt-4o-mini-realtime-preview-2024-12-17"),Xn(),await new Promise((e=>setTimeout(e,500))),qn()),await f.current.updateChatModel(t)},style:{height:"20px",width:"90%"},children:[(0,Vt.jsx)("option",{value:"GPT-Realtime-Mini",children:"GPT-Realtime-Mini - Cheapest"},1),(0,Vt.jsx)("option",{value:"GPT-Realtime",children:"GPT-Realtime - Most Capable"},2),(0,Vt.jsx)("option",{value:"GPT-4o",children:"GPT-4o"},3),(0,Vt.jsx)("option",{value:"DeepSeek",children:"DeepSeek"},4)]})]}),(0,Vt.jsxs)("div",{className:"speed-controls",children:[(0,Vt.jsxs)("div",{title:"Select a new issue",children:[(0,Vt.jsx)(jt,{style:{width:"13px",height:"13px"}}),":"]}),(0,Vt.jsx)("select",{id:"Magzine",name:"Magzine",onChange:async e=>{const t=a.current,n=e.target.value;xt(`${n.replace(/[_-]/g," ")}`),At(`./play/${n}/${n}.pdf`);const r=await fetch(`http://localhost:3001/api/audio/check?magzine=${encodeURIComponent(n)}&word=hello`);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json(),i=s.audioExisting,A=await ba({magzine:"no_scripts"});if("true"===i){if(ut(!0),lt(`./play/${n}/${n}.wav`),Ue.current.src=`./play/${n}/${n}.wav`,Ue.current.currentTime=0,x(0),oe(0),b&&Un(),"true"===s.scriptExisting){pt(!0),mt(await Ba({magzine:n}));const e=await ba({magzine:n});Tt(e),t.updateSession({instructions:e})}else pt(!1),Tt(A),ae&&le(!1),t.updateSession({instructions:A}),mt([]);if("true"===s.keywordsExisting)Et(await wa({magzine:n}));else{const e=await async function(){let{magzine:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{magzine:ma[0]};const t=/(keyword\d+):\[\s*([\w\s]+)\s*:(\d+)\s*\]\s*(\d+):\s*(\d{2}:\d{2})/,n=/(keyword\d+):\[(\w+(?:\s\w+)*)\]\s*(\d+):\s*(\d{2}):(\d{2})/;try{const r=await fetch(`./play/${e}/audio_scripts.txt`),s=await r.text(),i={};let A;const o=s.split("\n");for(const e of o)if(A=t.exec(e),A){const e=A[2],t=parseInt(A[3],10),[n,r]=A[5].split(":").map(Number),s=60*n+r;i[e]||(i[e]=[]),i[e]=[s,0,t],A=null}else if(A=n.exec(e),A){const e=A[2].trim(),t=60*parseInt(A[4],10)+parseInt(A[5],10),n=Object.keys(i).pop();n&&e===n&&(i[n][1]=t)}return i}catch(r){throw console.error("Error reading or analyzing the audio scripts file:",r),r}}({magzine:n});Et(e)}}else ut(!1),Ue.current.src="",Ue.current.currentTime=0,x(0),oe(0),pt(!1),Tt(A),t.updateSession({instructions:A}),Et({});if("true"===s.flashcardsExisting){const e=await ya({magzine:n});console.log("Flashcards Loaded:",e),Kt(e)}else Kt([])},style:{height:"20px",width:"90%"},children:ma.map(((e,t)=>(0,Vt.jsx)("option",{value:e,children:e},t)))})]})]})]})]})]})]})}Co.workerSrc=new URL(n(749),n.b).toString();const pb=function(){return(0,Vt.jsx)("div",{"data-component":"App",children:(0,Vt.jsx)(db,{})})},fb=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:s,getLCP:i,getTTFB:A}=t;n(e),r(e),s(e),i(e),A(e)}))};i.createRoot(document.getElementById("root")).render((0,Vt.jsx)(s.StrictMode,{children:(0,Vt.jsx)(pb,{})})),fb()})()})();
//# sourceMappingURL=main.345f617e.js.map